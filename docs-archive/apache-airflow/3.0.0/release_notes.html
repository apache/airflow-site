



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
        <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1"><meta name="viewport" content="width=device-width, initial-scale=1" />

        <title>Release Notes &mdash; Airflow Documentation</title>
    <link rel="stylesheet" href="_static/_gen/css/main.min.css" type="text/css" />
            <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
            <link rel="stylesheet" type="text/css" href="_static/_gen/css/main.min.css?v=016086f5" />
            <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
            <link rel="stylesheet" type="text/css" href="_static/_gen/css/main-custom.min.css?v=24ed3fb0" />
            <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=fd3f3429" />
            <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
            <link rel="stylesheet" type="text/css" href="_static/custom.css?v=101b2490" />
            <link rel="index" title="Index" href="genindex.html" />
            <link rel="search" title="Search" href="search.html" />
            <link rel="next" title="Privacy Notice" href="privacy_notice.html" />
            <link rel="prev" title="Airflow’s release process and version policy" href="release-process.html" />

    <link rel="canonical" href="https://airflow.apache.org/docs/apache-airflow/stable/release_notes.html" />

    <!-- Matomo -->
    <script>
        var _paq = window._paq = window._paq || [];
        /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
        /* We explicitly disable cookie tracking to avoid privacy issues */
        _paq.push(['disableCookies']);
        _paq.push(['trackPageView']);
        _paq.push(['enableLinkTracking']);
        (function() {
        var u="https://analytics.apache.org/";
        _paq.push(['setTrackerUrl', u+'matomo.php']);
        _paq.push(['setSiteId', '13']);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
        })();
    </script>
    <!-- End Matomo Code -->

    
</head><body class="td-section">
    

<header>
    <a href="https://airflowsummit.org" target="_blank" class="d-block fixed-top px-3 py-2 bg-success text-center text-bold text-white">
        Airflow Summit 2025 is coming October 07-09. Register now for early bird ticket!
    </a>
    <nav class="js-navbar-scroll navbar" style="top: 40px;">
        <div class="navbar__icon-container">
            <a href="/">
                <svg xmlns="http://www.w3.org/2000/svg" width="155.314" height="60" viewBox="0 0 155.314 60">
                    <defs>
                        <clipPath id="clip-path">
                            <path id="Rectangle_1" d="M0 0h155.314v60H0z" fill="none" data-name="Rectangle 1"></path>
                        </clipPath>
                    </defs>
                    <g id="logo" transform="translate(-1305 -780.355)">
                        <g id="Group_2" clip-path="url(#clip-path)" data-name="Group 2" transform="translate(1305 780.355)">
                            <g id="Group_1" data-name="Group 1" transform="translate(.486 .486)">
                                <path id="Path_1" d="M1307.562 880.867l28.187-28.893a.521.521 0 0 0 .063-.666c-1.714-2.393-4.877-2.808-6.049-4.416-3.472-4.763-4.353-7.459-5.845-7.292a.456.456 0 0 0-.271.143l-10.182 10.438c-5.858 6-6.7 19.225-6.852 30.3a.552.552 0 0 0 .949.386z" fill="#017cee" data-name="Path 1" transform="translate(-1306.613 -822.232)"></path>
                                <path id="Path_2" d="M1405.512 908.489l-28.893-28.189a.521.521 0 0 0-.667-.063c-2.393 1.715-2.808 4.877-4.416 6.049-4.763 3.472-7.459 4.353-7.292 5.845a.456.456 0 0 0 .143.27l10.438 10.182c6 5.858 19.225 6.7 30.3 6.852a.552.552 0 0 0 .387-.946z" fill="#00ad46" data-name="Path 2" transform="translate(-1346.876 -850.567)"></path>
                                <path id="Path_3" d="M1373.909 902.252c-3.28-3.2-4.8-9.53 1.486-22.583-10.219 4.567-13.8 10.57-12.039 12.289z" fill="#04d659" data-name="Path 3" transform="translate(-1345.96 -850.233)"></path>
                                <path id="Path_4" d="M1433.132 782.359l-28.186 28.893a.52.52 0 0 0-.063.666c1.715 2.393 4.876 2.808 6.049 4.416 3.472 4.763 4.354 7.459 5.845 7.292a.454.454 0 0 0 .271-.143l10.182-10.438c5.858-6 6.7-19.225 6.852-30.3a.553.553 0 0 0-.95-.386z" fill="#00c7d4" data-name="Path 4" transform="translate(-1375.21 -782.123)"></path>
                                <path id="Path_5" d="M1426.9 881.155c-3.2 3.28-9.53 4.8-22.584-1.486 4.567 10.219 10.57 13.8 12.289 12.039z" fill="#11e1ee" data-name="Path 5" transform="translate(-1374.875 -850.233)"></path>
                                <path id="Path_6" d="M1307 782.919l28.893 28.186a.521.521 0 0 0 .666.063c2.393-1.715 2.808-4.877 4.416-6.049 4.763-3.472 7.459-4.353 7.292-5.845a.459.459 0 0 0-.143-.271l-10.438-10.182c-6-5.858-19.225-6.7-30.3-6.852a.552.552 0 0 0-.386.95z" fill="#e43921" data-name="Path 6" transform="translate(-1306.766 -781.97)"></path>
                                <path id="Path_7" d="M1405.8 804.711c3.28 3.2 4.8 9.53-1.486 22.584 10.219-4.567 13.8-10.571 12.039-12.289z" fill-rule="evenodd" fill="#ff7557" data-name="Path 7" transform="translate(-1374.875 -797.859)"></path>
                                <path id="Path_8" d="M1329.355 849.266c3.2-3.28 9.53-4.8 22.584 1.486-4.567-10.219-10.57-13.8-12.289-12.039z" fill="#0cb6ff" data-name="Path 8" transform="translate(-1322.503 -821.316)"></path>
                                <circle id="Ellipse_1" cx="1.26" cy="1.26" r="1.26" fill="#4a4848" data-name="Ellipse 1" transform="translate(28.18 28.171)"></circle>
                                <path id="Path_9" d="M1527.558 827.347a.229.229 0 0 1-.223-.223.458.458 0 0 1 .011-.123l2.766-7.214a.346.346 0 0 1 .357-.245h.758a.348.348 0 0 1 .357.245l2.754 7.214.022.123a.228.228 0 0 1-.223.223h-.568a.288.288 0 0 1-.19-.056.352.352 0 0 1-.089-.134l-.613-1.583h-3.657l-.613 1.583a.317.317 0 0 1-.1.134.269.269 0 0 1-.178.056zm4.795-2.732l-1.505-3.958-1.505 3.958zm3.322 4.85a.258.258 0 0 1-.189-.078.241.241 0 0 1-.067-.178v-7.4a.241.241 0 0 1 .067-.178.258.258 0 0 1 .189-.078h.513a.268.268 0 0 1 .256.256v.49a2.118 2.118 0 0 1 1.828-.858 2.092 2.092 0 0 1 1.751.736 3.135 3.135 0 0 1 .636 1.9q.011.122.011.379t-.011.379a3.168 3.168 0 0 1-.636 1.9 2.111 2.111 0 0 1-1.751.736 2.154 2.154 0 0 1-1.806-.836v2.587a.241.241 0 0 1-.067.178.223.223 0 0 1-.179.078zm2.364-2.91a1.324 1.324 0 0 0 1.149-.491 2.266 2.266 0 0 0 .4-1.293q.011-.111.011-.323 0-2.107-1.562-2.107a1.365 1.365 0 0 0-1.159.513 2.111 2.111 0 0 0-.412 1.2l-.012.424.012.435a1.862 1.862 0 0 0 .424 1.149 1.4 1.4 0 0 0 1.148.493zm5.628.9a2.329 2.329 0 0 1-1.015-.223 1.94 1.94 0 0 1-.747-.6 1.487 1.487 0 0 1-.268-.859 1.459 1.459 0 0 1 .6-1.2 3.4 3.4 0 0 1 1.65-.624l1.661-.234v-.323q0-1.137-1.3-1.137a1.4 1.4 0 0 0-.8.212 1.376 1.376 0 0 0-.468.48.305.305 0 0 1-.089.145.18.18 0 0 1-.134.045h-.48a.23.23 0 0 1-.245-.245 1.17 1.17 0 0 1 .245-.6 1.931 1.931 0 0 1 .747-.591 2.7 2.7 0 0 1 1.238-.256 2.351 2.351 0 0 1 1.8.591 2.032 2.032 0 0 1 .547 1.45v3.613a.257.257 0 0 1-.078.19.24.24 0 0 1-.178.067h-.513a.233.233 0 0 1-.257-.256v-.479a1.923 1.923 0 0 1-.714.6 2.557 2.557 0 0 1-1.203.237zm.234-.836a1.579 1.579 0 0 0 1.182-.469 1.881 1.881 0 0 0 .468-1.371v-.312l-1.293.19a2.918 2.918 0 0 0-1.193.379.761.761 0 0 0-.4.658.784.784 0 0 0 .368.691 1.585 1.585 0 0 0 .867.237zm6.643.836a2.556 2.556 0 0 1-1.873-.669 2.738 2.738 0 0 1-.714-1.9l-.011-.446.011-.446a2.7 2.7 0 0 1 .714-1.885 2.531 2.531 0 0 1 1.873-.68 2.917 2.917 0 0 1 1.36.29 2.077 2.077 0 0 1 .825.714 1.7 1.7 0 0 1 .3.848.2.2 0 0 1-.067.178.281.281 0 0 1-.19.067h-.535a.265.265 0 0 1-.168-.045.458.458 0 0 1-.111-.178 1.428 1.428 0 0 0-.535-.758 1.516 1.516 0 0 0-.87-.234 1.45 1.45 0 0 0-1.1.435 1.952 1.952 0 0 0-.435 1.3l-.011.4.011.379a1.969 1.969 0 0 0 .435 1.316 1.446 1.446 0 0 0 1.1.424 1.577 1.577 0 0 0 .87-.223 1.493 1.493 0 0 0 .535-.769.458.458 0 0 1 .111-.178.228.228 0 0 1 .168-.056h.535a.258.258 0 0 1 .19.078.2.2 0 0 1 .067.178 1.75 1.75 0 0 1-.3.847 2.078 2.078 0 0 1-.825.714 2.876 2.876 0 0 1-1.361.302zm4.078-.112a.233.233 0 0 1-.257-.256v-7.4a.241.241 0 0 1 .067-.178.259.259 0 0 1 .19-.078h.557a.267.267 0 0 1 .257.256v2.6a2.167 2.167 0 0 1 .758-.624 2.353 2.353 0 0 1 1.082-.223 2.067 2.067 0 0 1 1.661.691 2.642 2.642 0 0 1 .6 1.818v3.144a.257.257 0 0 1-.078.19.24.24 0 0 1-.178.067h-.557a.233.233 0 0 1-.256-.256V824a1.775 1.775 0 0 0-.39-1.227 1.387 1.387 0 0 0-1.1-.435 1.481 1.481 0 0 0-1.126.446 1.7 1.7 0 0 0-.412 1.215v3.088a.257.257 0 0 1-.078.19.24.24 0 0 1-.178.067zm8.846.112a2.466 2.466 0 0 1-1.84-.7 2.938 2.938 0 0 1-.747-1.94l-.011-.379.011-.368a2.953 2.953 0 0 1 .758-1.918 2.7 2.7 0 0 1 3.735.078 3.114 3.114 0 0 1 .68 2.119v.19a.257.257 0 0 1-.078.189.241.241 0 0 1-.178.067h-3.858v.1a2.11 2.11 0 0 0 .435 1.238 1.332 1.332 0 0 0 1.081.5 1.563 1.563 0 0 0 .836-.2 1.7 1.7 0 0 0 .491-.435.6.6 0 0 1 .145-.156.391.391 0 0 1 .19-.033h.547a.252.252 0 0 1 .167.056.192.192 0 0 1 .067.156.975.975 0 0 1-.312.591 2.51 2.51 0 0 1-.859.6 3.049 3.049 0 0 1-1.26.248zm1.527-3.434v-.033a1.817 1.817 0 0 0-.424-1.249 1.512 1.512 0 0 0-2.23 0 1.883 1.883 0 0 0-.4 1.249v.033z" fill="#51504f" data-name="Path 9" transform="translate(-1460.834 -808.144)"></path>
                                <path id="Path_10" d="M1527.2 827.081l-.061.061zm-.056-.279l-.08-.031zm2.766-7.214l.08.031zm1.472 0l-.081.029zm2.754 7.214l.084-.015a.064.064 0 0 0 0-.015zm.022.123h.086v-.015zm-.067.156l.06.061zm-.914.011l-.061.061.006.005zm-.089-.134l.081-.027zm-.613-1.583l.08-.031a.086.086 0 0 0-.08-.055zm-3.657 0v-.086a.086.086 0 0 0-.08.055zm-.613 1.583l-.08-.031zm-.1.134l.055.066zm4.047-2.676v.086a.086.086 0 0 0 .08-.116zm-1.505-3.958l.08-.03a.086.086 0 0 0-.16 0zm-1.505 3.958l-.08-.03a.086.086 0 0 0 .08.116zm-1.784 2.646a.128.128 0 0 1-.1-.042l-.122.121a.3.3 0 0 0 .217.092zm-.1-.042a.129.129 0 0 1-.042-.1h-.171a.3.3 0 0 0 .092.217zm-.042-.1a.38.38 0 0 1 .007-.1l-.163-.054a.514.514 0 0 0-.016.15zm.005-.092l2.765-7.214-.16-.061-2.765 7.214zm2.766-7.216a.283.283 0 0 1 .1-.143.3.3 0 0 1 .174-.046v-.172a.47.47 0 0 0-.271.076.453.453 0 0 0-.166.226zm.276-.189h.758v-.172h-.758zm.758 0a.3.3 0 0 1 .175.046.283.283 0 0 1 .1.143l.161-.059a.451.451 0 0 0-.166-.226.47.47 0 0 0-.272-.076zm.277.19l2.754 7.214.16-.061-2.754-7.214zm2.75 7.2l.022.123.169-.031-.022-.123zm.021.107a.13.13 0 0 1-.042.1l.121.121a.3.3 0 0 0 .092-.217zm-.042.1a.13.13 0 0 1-.1.042v.171a.3.3 0 0 0 .217-.092zm-.1.042h-.568v.171h.568zm-.568 0a.206.206 0 0 1-.135-.036l-.11.132a.373.373 0 0 0 .245.076zm-.129-.031a.262.262 0 0 1-.069-.1l-.162.054a.431.431 0 0 0 .11.167zm-.07-.1l-.613-1.584-.16.062.613 1.583zm-.693-1.638h-3.657v.171h3.657zm-3.737.055l-.614 1.584.16.062.613-1.583zm-.615 1.587a.235.235 0 0 1-.075.1l.111.13a.4.4 0 0 0 .126-.172zm-.074.1a.185.185 0 0 1-.124.036v.171a.354.354 0 0 0 .233-.076zm-.124.036h-.569v.171h.569zm4.306-2.677l-1.505-3.958-.16.061 1.505 3.958zm-1.666-3.958l-1.505 3.958.16.061 1.505-3.958zm-1.425 4.075h3.01v-.171h-3.01zm6.143 4.687l-.06.061zm0-7.761l.061.061zm.881 0l-.065.056.01.009zm.078.669h-.086a.086.086 0 0 0 .155.051zm3.579-.123l-.067.053zm.636 1.9h-.086zm0 .758l-.085-.007zm-.636 1.9l.067.054zm-3.557-.1l.068-.052a.086.086 0 0 0-.154.052zm-.067 2.765l-.061-.06zm2.787-3.323l-.069-.051zm.4-1.293l-.085-.008v.005zm-2.709-1.918l-.068-.052zm-.413 1.2h-.086zm-.011.423h-.085zm.011.435h-.086zm.424 1.149l.066-.054zm-1.216 3.315a.173.173 0 0 1-.129-.053l-.121.121a.342.342 0 0 0 .25.1zm-.129-.053a.157.157 0 0 1-.042-.118h-.172a.325.325 0 0 0 .092.239zm-.042-.118v-7.4h-.172v7.4zm0-7.4a.157.157 0 0 1 .042-.118l-.121-.121a.324.324 0 0 0-.092.239zm.042-.118a.173.173 0 0 1 .129-.053v-.172a.342.342 0 0 0-.25.1zm.129-.053h.513v-.172h-.513zm.513 0a.137.137 0 0 1 .113.048l.13-.111a.309.309 0 0 0-.244-.108zm.123.058a.137.137 0 0 1 .048.113h.171a.309.309 0 0 0-.108-.243zm.048.113v.49h.171v-.49zm.155.541a2.033 2.033 0 0 1 1.759-.823v-.171a2.2 2.2 0 0 0-1.9.894zm1.759-.823a2.007 2.007 0 0 1 1.683.7l.135-.106a2.177 2.177 0 0 0-1.818-.768zm1.683.7a3.045 3.045 0 0 1 .617 1.845l.171-.007a3.218 3.218 0 0 0-.654-1.946zm.617 1.85c.007.078.011.2.011.372h.171c0-.171 0-.3-.012-.387zm.011.372c0 .171 0 .294-.011.372l.17.015c.008-.086.012-.216.012-.387zm-.011.376a3.08 3.08 0 0 1-.617 1.846l.134.106a3.25 3.25 0 0 0 .654-1.945zm-.617 1.845a2.025 2.025 0 0 1-1.683.7v.171a2.2 2.2 0 0 0 1.817-.768zm-1.683.7a2.068 2.068 0 0 1-1.739-.8l-.136.1a2.239 2.239 0 0 0 1.874.87zm-1.892-.75v2.587h.172v-2.587zm0 2.587a.156.156 0 0 1-.042.118l.121.121a.325.325 0 0 0 .092-.239zm-.046.123a.138.138 0 0 1-.114.048v.172a.308.308 0 0 0 .244-.108zm-.114.048h-.546v.172h.546zm1.817-2.739a1.408 1.408 0 0 0 1.218-.526l-.138-.1a1.24 1.24 0 0 1-1.079.455zm1.217-.525a2.355 2.355 0 0 0 .419-1.341l-.171-.007a2.182 2.182 0 0 1-.385 1.246zm.418-1.336c.008-.079.012-.19.012-.332h-.172c0 .14 0 .245-.011.315zm.012-.332a2.726 2.726 0 0 0-.407-1.632 1.448 1.448 0 0 0-1.24-.562v.171a1.278 1.278 0 0 1 1.1.492 2.565 2.565 0 0 1 .374 1.53zm-1.647-2.193a1.452 1.452 0 0 0-1.228.547l.136.1a1.282 1.282 0 0 1 1.091-.479zm-1.228.547a2.2 2.2 0 0 0-.43 1.252l.172.008a2.028 2.028 0 0 1 .4-1.157zm-.43 1.254l-.011.424h.171l.011-.424zm-.011.428l.011.435h.172l-.011-.435zm.011.436a1.95 1.95 0 0 0 .443 1.2l.133-.109a1.776 1.776 0 0 1-.4-1.1zm.443 1.2a1.484 1.484 0 0 0 1.214.522v-.171a1.314 1.314 0 0 1-1.082-.459zm5.828 1.117l.037-.077zm-.747-.6l-.07.049zm.335-2.063l.052.068zm1.65-.624l.012.085zm1.661-.234l.012.085a.086.086 0 0 0 .074-.085zm-2.107-1.249l.046.072zm-.468.48l-.075-.042a.083.083 0 0 0-.006.015zm-.089.145l-.054-.067-.007.006zm-.792-.022l-.065.056.009.009zm-.067-.178h-.086zm.245-.6l-.07-.049zm.747-.591l.038.077zm3.033.334l-.063.058zm.468 5.252l.06.061zm-.881 0l-.065.056a.043.043 0 0 0 .009.009zm-.067-.669h.086a.086.086 0 0 0-.156-.048zm-.714.6l-.04-.076zm.223-1.059l-.062-.06zm.468-1.684h.086a.086.086 0 0 0-.1-.085zm-1.293.189l.012.085zm-1.193.379l.046.072zm-.033 1.349l-.047.071zm.635.985a2.241 2.241 0 0 1-.978-.215l-.074.155a2.412 2.412 0 0 0 1.051.231zm-.978-.215a1.859 1.859 0 0 1-.715-.576l-.138.1a2.024 2.024 0 0 0 .779.629zm-.713-.573a1.4 1.4 0 0 1-.253-.81h-.172a1.571 1.571 0 0 0 .283.907zm-.253-.81a1.374 1.374 0 0 1 .569-1.136l-.105-.135a1.544 1.544 0 0 0-.635 1.272zm.569-1.137a3.316 3.316 0 0 1 1.609-.607l-.024-.17a3.481 3.481 0 0 0-1.691.642zm1.609-.607l1.661-.234-.024-.17-1.662.234zm1.735-.319v-.323h-.171v.323zm0-.323a1.156 1.156 0 0 0-.355-.917 1.536 1.536 0 0 0-1.035-.306v.172a1.37 1.37 0 0 1 .922.263.986.986 0 0 1 .3.788zm-1.39-1.223a1.486 1.486 0 0 0-.851.227l.1.142a1.316 1.316 0 0 1 .755-.2zm-.849.226a1.452 1.452 0 0 0-.5.51l.15.084a1.286 1.286 0 0 1 .44-.449zm-.5.524a.226.226 0 0 1-.062.105l.107.134a.391.391 0 0 0 .117-.185zm-.068.112a.1.1 0 0 1-.073.019v.171a.266.266 0 0 0 .194-.07zm-.073.019h-.48v.171h.48zm-.48 0a.18.18 0 0 1-.122-.046l-.112.13a.352.352 0 0 0 .234.087zm-.113-.037a.18.18 0 0 1-.047-.123h-.171a.352.352 0 0 0 .087.234zm-.047-.119a1.1 1.1 0 0 1 .23-.557l-.14-.1a1.253 1.253 0 0 0-.261.648zm.23-.556a1.843 1.843 0 0 1 .715-.564l-.075-.154a2.018 2.018 0 0 0-.78.618zm.716-.564a2.611 2.611 0 0 1 1.2-.247v-.171a2.781 2.781 0 0 0-1.277.266zm1.2-.247a2.268 2.268 0 0 1 1.732.563l.126-.116a2.435 2.435 0 0 0-1.858-.618zm1.733.564a1.945 1.945 0 0 1 .523 1.391h.171a2.117 2.117 0 0 0-.57-1.508zm.523 1.391v3.613h.171v-3.613zm0 3.613a.172.172 0 0 1-.053.129l.121.121a.344.344 0 0 0 .1-.25zm-.053.129a.157.157 0 0 1-.118.042v.171a.326.326 0 0 0 .239-.092zm-.118.042h-.513v.171h.513zm-.513 0a.2.2 0 0 1-.134-.046l-.111.13a.367.367 0 0 0 .245.088zm-.124-.037a.194.194 0 0 1-.047-.134h-.171a.366.366 0 0 0 .087.245zm-.047-.134v-.479h-.171v.479zm-.156-.528a1.846 1.846 0 0 1-.683.575l.079.152a2.012 2.012 0 0 0 .745-.629zm-.683.575a2.476 2.476 0 0 1-1.153.236v.171a2.644 2.644 0 0 0 1.233-.255zm-.919-.429a1.666 1.666 0 0 0 1.244-.494l-.123-.12a1.493 1.493 0 0 1-1.121.442zm1.244-.494a1.969 1.969 0 0 0 .492-1.431h-.171a1.8 1.8 0 0 1-.444 1.312zm.492-1.431v-.312h-.171v.312zm-.1-.4l-1.293.189.025.17 1.293-.189zm-1.293.189a3 3 0 0 0-1.228.393l.095.143a2.837 2.837 0 0 1 1.158-.365zm-1.227.392a.845.845 0 0 0-.441.73h.172a.676.676 0 0 1 .362-.586zm-.441.73a.869.869 0 0 0 .406.762l.095-.142a.7.7 0 0 1-.33-.62zm.408.764a1.673 1.673 0 0 0 .916.247v-.171a1.5 1.5 0 0 1-.823-.221zm5.686.329l-.061.06zm-.714-1.9h-.085zm-.011-.446h-.085zm.011-.446h-.085zm.714-1.885l.061.061zm3.234-.39l-.04.076zm.825.713l-.073.046zm.3.848h-.086zm-.067.178l.056.065zm-.892.022l.054-.067zm-.112-.178l-.081.029zm-.535-.758l-.048.071zm-1.974.2l-.062-.059zm-.435 1.3h-.086zm-.011.4h-.086zm.011.379h-.086zm.435 1.316l-.062.059zm1.974.2l.046.072zm.535-.769l-.079-.033zm.112-.178l.054.067.007-.006zm.892.022l-.061.06zm.067.178l-.085-.009zm-.3.847l-.072-.046zm-.825.714l-.04-.076zm-1.36.2a2.471 2.471 0 0 1-1.814-.644l-.12.122a2.64 2.64 0 0 0 1.933.694zm-1.813-.643a2.653 2.653 0 0 1-.689-1.839l-.171.006a2.822 2.822 0 0 0 .738 1.952zm-.689-1.838l-.011-.446h-.171l.011.446zm-.011-.442l.011-.446h-.171l-.011.446zm.011-.445a2.611 2.611 0 0 1 .689-1.827l-.122-.121a2.78 2.78 0 0 0-.738 1.942zm.689-1.827a2.447 2.447 0 0 1 1.813-.655v-.171a2.617 2.617 0 0 0-1.934.705zm1.813-.655a2.836 2.836 0 0 1 1.32.28l.079-.152a3 3 0 0 0-1.4-.3zm1.32.28a1.99 1.99 0 0 1 .792.683l.145-.091a2.158 2.158 0 0 0-.858-.744zm.793.685a1.617 1.617 0 0 1 .287.8l.171-.009a1.789 1.789 0 0 0-.315-.89zm.287.809a.11.11 0 0 1-.037.1l.112.13a.281.281 0 0 0 .1-.252zm-.037.1a.2.2 0 0 1-.134.046v.171a.369.369 0 0 0 .246-.088zm-.134.046h-.535v.171h.535zm-.535 0a.184.184 0 0 1-.114-.026l-.107.134a.345.345 0 0 0 .221.064zm-.114-.026a.389.389 0 0 1-.086-.144l-.158.066a.533.533 0 0 0 .137.212zm-.084-.14a1.514 1.514 0 0 0-.57-.8l-.093.144a1.343 1.343 0 0 1 .5.715zm-.568-.8a1.6 1.6 0 0 0-.918-.249v.171a1.435 1.435 0 0 1 .822.219zm-.918-.249a1.535 1.535 0 0 0-1.166.462l.124.118a1.364 1.364 0 0 1 1.042-.408zm-1.166.462a2.036 2.036 0 0 0-.458 1.36l.171.006a1.872 1.872 0 0 1 .411-1.249zm-.458 1.361l-.011.4h.171l.011-.4zm-.011.406l.011.379.171-.005-.011-.379zm.011.38a2.052 2.052 0 0 0 .458 1.371l.124-.118a1.889 1.889 0 0 1-.411-1.26zm.458 1.371a1.533 1.533 0 0 0 1.166.451v-.172a1.363 1.363 0 0 1-1.042-.4zm1.166.451a1.661 1.661 0 0 0 .916-.237l-.093-.144a1.491 1.491 0 0 1-.823.209zm.918-.238a1.576 1.576 0 0 0 .568-.812l-.162-.057a1.409 1.409 0 0 1-.5.727zm.566-.807a.39.39 0 0 1 .086-.144l-.107-.134a.533.533 0 0 0-.137.213zm.093-.151a.144.144 0 0 1 .107-.031v-.171a.31.31 0 0 0-.228.081zm.107-.031h.535v-.171h-.535zm.535 0a.173.173 0 0 1 .129.053l.121-.121a.344.344 0 0 0-.25-.1zm.134.057a.11.11 0 0 1 .037.1l.17.017a.281.281 0 0 0-.1-.252zm.037.109a1.664 1.664 0 0 1-.288.806l.144.092a1.839 1.839 0 0 0 .315-.889zm-.288.806a1.989 1.989 0 0 1-.792.683l.079.152a2.162 2.162 0 0 0 .858-.744zm-.793.684a2.8 2.8 0 0 1-1.32.28v.171a2.96 2.96 0 0 0 1.4-.3zm2.568.187l-.065.056.01.009zm0-7.772l.061.06zm.926 0l-.065.056.009.009zm.078 2.776h-.085a.086.086 0 0 0 .153.053zm.758-.624l.038.077zm2.743.468l-.065.056zm.524 5.151l-.061-.06zm-.925 0l-.065.056.009.009zm-.457-4.5l-.065.056zm-2.23.011l-.062-.059zm-.49 4.493l-.061-.06zm-.736-.019a.2.2 0 0 1-.134-.046l-.112.13a.367.367 0 0 0 .245.088zm-.124-.037a.2.2 0 0 1-.046-.134h-.172a.367.367 0 0 0 .087.245zm-.046-.134v-7.4h-.172v7.4zm0-7.4a.156.156 0 0 1 .042-.118l-.121-.121a.326.326 0 0 0-.092.239zm.042-.118a.172.172 0 0 1 .129-.053v-.171a.343.343 0 0 0-.25.1zm.129-.053h.557v-.171h-.557zm.557 0a.137.137 0 0 1 .113.048l.13-.112a.308.308 0 0 0-.244-.108zm.122.057a.137.137 0 0 1 .048.113h.172a.309.309 0 0 0-.108-.243zm.048.113v2.6h.172v-2.6zm.153 2.651a2.076 2.076 0 0 1 .728-.6l-.075-.154a2.248 2.248 0 0 0-.788.649zm.73-.6a2.272 2.272 0 0 1 1.043-.214v-.171a2.438 2.438 0 0 0-1.121.232zm1.043-.214a1.982 1.982 0 0 1 1.6.661l.13-.112a2.152 2.152 0 0 0-1.727-.721zm1.6.663a2.557 2.557 0 0 1 .581 1.761h.171a2.727 2.727 0 0 0-.624-1.874zm.581 1.761v3.144h.171v-3.144zm0 3.144a.173.173 0 0 1-.053.129l.121.121a.345.345 0 0 0 .1-.25zm-.053.129a.156.156 0 0 1-.118.042v.171a.327.327 0 0 0 .239-.092zm-.118.042h-.557v.171h.557zm-.557 0a.2.2 0 0 1-.134-.046l-.112.13a.367.367 0 0 0 .245.088zm-.124-.037a.2.2 0 0 1-.046-.134h-.172a.368.368 0 0 0 .087.245zm-.046-.134V823.8h-.172v3.088zm0-3.088a1.859 1.859 0 0 0-.412-1.284l-.128.114a1.69 1.69 0 0 1 .368 1.169zm-.411-1.283a1.471 1.471 0 0 0-1.169-.464v.171a1.3 1.3 0 0 1 1.039.406zm-1.169-.464a1.566 1.566 0 0 0-1.188.473l.124.118a1.4 1.4 0 0 1 1.064-.419zm-1.188.473a1.779 1.779 0 0 0-.436 1.275h.172a1.609 1.609 0 0 1 .389-1.156zm-.436 1.275v3.088h.172V823.8zm0 3.088a.172.172 0 0 1-.053.129l.121.121a.344.344 0 0 0 .1-.25zm-.053.129a.156.156 0 0 1-.118.042v.171a.327.327 0 0 0 .239-.092zm-.118.042h-.557v.171h.557zm6.449-.505l-.062.059zm-.747-1.94h-.086zm-.012-.379h-.085v.005zm.012-.368l-.086-.006zm.758-1.918l-.061-.06zm3.735.078l-.065.056zm.6 2.5l.061.061zm-4.036.067v-.086a.086.086 0 0 0-.086.086zm0 .1h-.086zm.435 1.238l-.068.053zm1.918.3l.045.073zm.491-.435l-.069-.051zm.145-.156l.039.077h.006zm.9.022l-.055.066zm-.245.747l-.064-.057zm-.858.6l.035.078zm.267-3.189v.086a.086.086 0 0 0 .086-.086zm-.424-1.282l-.066.055zm-2.23 0l-.065-.055zm-.4 1.282h-.086a.086.086 0 0 0 .086.086zm1.528 3.349a2.38 2.38 0 0 1-1.779-.677l-.122.12a2.55 2.55 0 0 0 1.9.728zm-1.778-.676a2.86 2.86 0 0 1-.724-1.886l-.171.009a3.027 3.027 0 0 0 .771 1.995zm-.723-1.884l-.011-.379h-.171l.011.379zm-.011-.374l.011-.368-.172-.005-.011.368zm.011-.365a2.871 2.871 0 0 1 .735-1.864l-.124-.118a3.042 3.042 0 0 0-.782 1.971zm.734-1.864a2.331 2.331 0 0 1 1.756-.687v-.171a2.5 2.5 0 0 0-1.879.74zm1.756-.687a2.307 2.307 0 0 1 1.853.762l.13-.112a2.477 2.477 0 0 0-1.983-.821zm1.854.762a3.03 3.03 0 0 1 .659 2.062h.172a3.2 3.2 0 0 0-.7-2.175zm.659 2.062v.19h.172v-.19zm0 .19a.172.172 0 0 1-.053.129l.121.121a.345.345 0 0 0 .1-.25zm-.053.129a.156.156 0 0 1-.118.042v.171a.327.327 0 0 0 .239-.092zm-.118.042h-3.858v.171h3.858zm-3.944.086v.1h.172v-.1zm0 .1a2.2 2.2 0 0 0 .453 1.287l.135-.106a2.027 2.027 0 0 1-.417-1.189zm.454 1.288a1.418 1.418 0 0 0 1.148.533v-.171a1.247 1.247 0 0 1-1.015-.47zm1.148.533a1.647 1.647 0 0 0 .882-.214l-.09-.146a1.481 1.481 0 0 1-.791.188zm.882-.214a1.777 1.777 0 0 0 .515-.458l-.14-.1a1.613 1.613 0 0 1-.466.412zm.513-.456a1.251 1.251 0 0 1 .081-.1.28.28 0 0 1 .026-.025l.008-.006-.077-.153a.326.326 0 0 0-.083.068 1.55 1.55 0 0 0-.092.113zm.12-.134a.328.328 0 0 1 .146-.021v-.171a.468.468 0 0 0-.234.046zm.146-.021h.547v-.171h-.547zm.547 0a.166.166 0 0 1 .112.036l.11-.132a.337.337 0 0 0-.222-.076zm.112.036a.107.107 0 0 1 .036.09h.171a.277.277 0 0 0-.1-.222zm.036.09a.9.9 0 0 1-.291.534l.128.115a1.055 1.055 0 0 0 .334-.649zm-.291.535a2.42 2.42 0 0 1-.83.581l.072.156a2.6 2.6 0 0 0 .888-.624zm-.829.58a2.964 2.964 0 0 1-1.224.238v.171a3.133 3.133 0 0 0 1.295-.253zm.389-3.111v-.033h-.171v.033zm0-.033a1.9 1.9 0 0 0-.445-1.306l-.129.114a1.731 1.731 0 0 1 .4 1.192zm-.444-1.3a1.466 1.466 0 0 0-1.181-.521v.172a1.3 1.3 0 0 1 1.049.46zm-1.181-.521a1.466 1.466 0 0 0-1.18.521l.131.11a1.3 1.3 0 0 1 1.049-.46zm-1.181.521a1.965 1.965 0 0 0-.422 1.3h.172a1.794 1.794 0 0 1 .382-1.194zm-.422 1.3v.033h.172v-.033zm.086.119h3.055v-.171h-3.055z" fill="#51504f" data-name="Path 10" transform="translate(-1460.636 -807.945)"></path>
                                <path id="Path_11" d="M1519.066 884.011a.581.581 0 0 1-.567-.567 1.151 1.151 0 0 1 .028-.312l7.026-18.328a.881.881 0 0 1 .906-.623h1.926a.882.882 0 0 1 .907.623l7 18.328.057.312a.583.583 0 0 1-.567.567h-1.445a.735.735 0 0 1-.482-.142.9.9 0 0 1-.226-.34l-1.558-4.023h-9.292l-1.558 4.023a.8.8 0 0 1-.255.34.688.688 0 0 1-.453.142zm12.181-6.94l-3.824-10.056-3.823 10.055zm8.184-10.538a.592.592 0 0 1-.652-.651v-1.53a.714.714 0 0 1 .17-.482.656.656 0 0 1 .482-.2h1.785a.677.677 0 0 1 .68.68v1.53a.655.655 0 0 1-.2.481.713.713 0 0 1-.481.17zm.227 17.479a.593.593 0 0 1-.652-.652v-13.428a.611.611 0 0 1 .17-.453.656.656 0 0 1 .482-.2h1.359a.679.679 0 0 1 .652.651v13.427a.655.655 0 0 1-.2.482.613.613 0 0 1-.453.17zm6.861 0a.592.592 0 0 1-.651-.652v-13.4a.715.715 0 0 1 .17-.481.656.656 0 0 1 .482-.2h1.3a.677.677 0 0 1 .68.68v1.246a4.255 4.255 0 0 1 3.966-1.926h1.1a.679.679 0 0 1 .651.651v1.161a.566.566 0 0 1-.2.453.612.612 0 0 1-.453.17h-1.7a3.2 3.2 0 0 0-2.408.907 3.253 3.253 0 0 0-.879 2.408v8.328a.656.656 0 0 1-.2.482.716.716 0 0 1-.482.17zm12.234 0a.593.593 0 0 1-.651-.652v-11.814h-2.408a.592.592 0 0 1-.651-.651v-.963a.611.611 0 0 1 .17-.453.654.654 0 0 1 .481-.2h2.408v-1.417q0-4.816 4.872-4.815h1.586a.679.679 0 0 1 .652.651v.963a.656.656 0 0 1-.2.481.613.613 0 0 1-.453.17h-1.529a2.1 2.1 0 0 0-1.785.68 3.248 3.248 0 0 0-.51 2.011v1.275h6.062V863.7a.613.613 0 0 1 .17-.453.656.656 0 0 1 .482-.2h1.3a.679.679 0 0 1 .652.651v19.659a.655.655 0 0 1-.2.482.613.613 0 0 1-.454.17h-1.3a.592.592 0 0 1-.652-.652v-11.811h-6.062v11.813a.657.657 0 0 1-.2.482.614.614 0 0 1-.454.17zm20.9.283a6.487 6.487 0 0 1-4.844-1.757 6.837 6.837 0 0 1-1.813-4.674l-.029-1.218.029-1.218a6.732 6.732 0 0 1 1.841-4.646 7.389 7.389 0 0 1 9.631 0 6.736 6.736 0 0 1 1.841 4.646q.028.311.028 1.218t-.028 1.218a6.772 6.772 0 0 1-1.841 4.674 6.391 6.391 0 0 1-4.82 1.756zm0-2.181a3.582 3.582 0 0 0 2.8-1.133 4.931 4.931 0 0 0 1.133-3.258q.028-.283.028-1.076t-.028-1.076a4.931 4.931 0 0 0-1.133-3.258 3.582 3.582 0 0 0-2.8-1.133 3.671 3.671 0 0 0-2.833 1.133 4.83 4.83 0 0 0-1.1 3.258l-.028 1.076.028 1.076a4.83 4.83 0 0 0 1.1 3.258 3.671 3.671 0 0 0 2.828 1.132zm13.755 1.9a.846.846 0 0 1-.566-.17 1.321 1.321 0 0 1-.34-.538l-4.023-13.144-.056-.283a.575.575 0 0 1 .17-.425.641.641 0 0 1 .425-.17h1.246a.612.612 0 0 1 .453.17.646.646 0 0 1 .255.312l3.145 10.679 3.371-10.566a.761.761 0 0 1 .255-.4.726.726 0 0 1 .538-.2h.963a.728.728 0 0 1 .539.2.76.76 0 0 1 .255.4l3.371 10.566 3.144-10.679a.655.655 0 0 1 .2-.312.714.714 0 0 1 .482-.17h1.275a.542.542 0 0 1 .4.17.576.576 0 0 1 .17.425l-.057.283-3.994 13.144a1.323 1.323 0 0 1-.34.538.9.9 0 0 1-.6.17h-1.1a.86.86 0 0 1-.935-.708l-3.286-10.141-3.286 10.141a.928.928 0 0 1-.963.708z" fill="#51504f" data-name="Path 11" transform="translate(-1454.66 -838.62)"></path>
                            </g>
                        </g>
                    </g>
                </svg>

            </a>
        </div>
        <div class="desktop-only navbar__menu-container">

            <div class="navbar__menu-content" id="main_navbar">

                <div class="navbar__links-container">
                    
                        <a class="navbar__text-link" href="/community/">
                            Community
                        </a>
                    
                        <a class="navbar__text-link" href="/meetups/">
                            Meetups
                        </a>
                    
                        <a class="navbar__text-link" href="/docs/">
                            Documentation
                        </a>
                    
                        <a class="navbar__text-link" href="/use-cases/">
                            Use Cases
                        </a>
                    
                        <a class="navbar__text-link" href="/announcements/">
                            Announcements
                        </a>
                    
                        <a class="navbar__text-link" href="/blog/">
                            Blog
                        </a>
                    
                        <a class="navbar__text-link" href="/ecosystem/">
                            Ecosystem
                        </a>
                    
                </div>

                

            </div>

        </div>
        <div class="mobile-only navbar__drawer-container">
            <button class="navbar__toggle-button" id="navbar-toggle-button">

                <div id="hamburger-icon" class="navbar__toggle-button--icon visible">
                    <svg xmlns="http://www.w3.org/2000/svg" width="26" height="20" viewBox="0 0 26 20">
                        <g id="Group_1294" data-name="Group 1294" transform="translate(-38.791 291)">
                            <g id="Group_1291" data-name="Group 1291" transform="translate(39 -291)">
                                <rect id="Rectangle_461" width="26" height="2" fill="#51504f" data-name="Rectangle 461" rx="1" transform="translate(-.209)"></rect>
                            </g>
                            <g id="Group_1292" data-name="Group 1292" transform="translate(39 -281.822)">
                                <rect id="Rectangle_462" width="26" height="2" fill="#51504f" data-name="Rectangle 462" rx="1" transform="translate(-.209 -.178)"></rect>
                            </g>
                            <g id="Group_1293" data-name="Group 1293" transform="translate(39 -272.644)">
                                <rect id="Rectangle_463" width="26" height="2" fill="#51504f" data-name="Rectangle 463" rx="1" transform="translate(-.209 -.356)"></rect>
                            </g>
                        </g>
                    </svg>

                </div>

                <div id="close-icon" class="navbar__toggle-button--icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="19.799" height="19.799" viewBox="0 0 19.799 19.799">
                        <g id="Group_1574" data-name="Group 1574" transform="translate(-41.892 290.899)">
                            <g id="Group_1291" data-name="Group 1291" transform="rotate(-45 -308.114 -187.077)">
                                <rect id="Rectangle_461" width="26" height="2" fill="#51504f" data-name="Rectangle 461" rx="1" transform="translate(-.209)"></rect>
                            </g>
                            <g id="Group_1292" data-name="Group 1292" transform="rotate(45 372.48 -93.011)">
                                <rect id="Rectangle_462" width="26" height="2" fill="#51504f" data-name="Rectangle 462" rx="1" transform="translate(-.209 -.178)"></rect>
                            </g>
                        </g>
                    </svg>

                </div>

            </button>
            <div class="navbar__drawer" id="navbar-drawer">
                <div class="navbar__menu-content" id="main_navbar">

                    <div class="navbar__links-container">
                        
                            <a class="navbar__text-link" href="/community/">
                                Community
                            </a>
                        
                            <a class="navbar__text-link" href="/meetups/">
                                Meetups
                            </a>
                        
                            <a class="navbar__text-link" href="/docs/">
                                Documentation
                            </a>
                        
                            <a class="navbar__text-link" href="/use-cases/">
                                Use Cases
                            </a>
                        
                            <a class="navbar__text-link" href="/announcements/">
                                Announcements
                            </a>
                        
                            <a class="navbar__text-link" href="/blog/">
                                Blog
                            </a>
                        
                            <a class="navbar__text-link" href="/ecosystem/">
                                Ecosystem
                            </a>
                        

                    </div>
                    

                </div>
            </div>
        </div>
    </nav>

</header>


    <div class="roadmap container-fluid td-default base-layout">
        
        
    <div class="content-drawer-wrapper">
        <button class="content-drawer__toggle-button" id="content-open-button">

            <div id="hamburger-icon" class="content-drawer__toggle-button--icon visible">
                <svg xmlns="http://www.w3.org/2000/svg" width="20.005" height="13.879" viewBox="0 0 20.005 13.879">
                    <g id="Group_1619" data-name="Group 1619" transform="translate(271.132 -418.872)">
                        <g id="Group_1613" data-name="Group 1613" transform="translate(-266.229 431.045)">
                            <path id="Path_1337" d="M-218.5 513.215h-14.583a.259.259 0 0 1-.259-.26.259.259 0 0 1 .259-.259h14.583a.26.26 0 0 1 .259.259.259.259 0 0 1-.259.26z" fill="#51504f" data-name="Path 1337" transform="translate(233.345 -512.696)"></path>
                        </g>
                        <g id="Group_1614" data-name="Group 1614" transform="translate(-266.229 425.684)">
                            <path id="Path_1338" d="M-218.5 471.9h-14.583a.259.259 0 0 1-.259-.26.26.26 0 0 1 .259-.259h14.583a.26.26 0 0 1 .259.259.26.26 0 0 1-.259.26z" fill="#51504f" data-name="Path 1338" transform="translate(233.345 -471.376)"></path>
                        </g>
                        <g id="Group_1615" data-name="Group 1615" transform="translate(-266.229 420.323)">
                            <path id="Path_1339" d="M-218.5 430.574h-14.583a.259.259 0 0 1-.259-.259.259.259 0 0 1 .259-.259h14.583a.26.26 0 0 1 .259.259.259.259 0 0 1-.259.259z" fill="#51504f" data-name="Path 1339" transform="translate(233.345 -430.055)"></path>
                        </g>
                        <g id="Group_1616" data-name="Group 1616" transform="translate(-271.132 429.814)">
                            <path id="Path_1340" d="M-269.663 506.145a1.47 1.47 0 0 1-1.469-1.469 1.47 1.47 0 0 1 1.469-1.469 1.47 1.47 0 0 1 1.469 1.469 1.47 1.47 0 0 1-1.469 1.469zm0-2.418a.951.951 0 0 0-.95.95.951.951 0 0 0 .95.95.951.951 0 0 0 .95-.95.951.951 0 0 0-.95-.95z" fill="#51504f" data-name="Path 1340" transform="translate(271.132 -503.208)"></path>
                        </g>
                        <g id="Group_1617" data-name="Group 1617" transform="translate(-271.132 424.556)">
                            <path id="Path_1341" d="M-269.663 465.62a1.47 1.47 0 0 1-1.469-1.469 1.47 1.47 0 0 1 1.469-1.469 1.47 1.47 0 0 1 1.469 1.469 1.47 1.47 0 0 1-1.469 1.469zm0-2.418a.951.951 0 0 0-.95.95.951.951 0 0 0 .95.95.951.951 0 0 0 .95-.95.951.951 0 0 0-.95-.952z" fill="#51504f" data-name="Path 1341" transform="translate(271.132 -462.683)"></path>
                        </g>
                        <g id="Group_1618" data-name="Group 1618" transform="translate(-271.132 418.872)">
                            <path id="Path_1342" d="M-269.663 421.809a1.47 1.47 0 0 1-1.469-1.469 1.47 1.47 0 0 1 1.469-1.469 1.47 1.47 0 0 1 1.469 1.469 1.47 1.47 0 0 1-1.469 1.469zm0-2.418a.951.951 0 0 0-.95.95.951.951 0 0 0 .95.95.951.951 0 0 0 .95-.95.951.951 0 0 0-.95-.95z" fill="#51504f" data-name="Path 1342" transform="translate(271.132 -418.872)"></path>
                        </g>
                    </g>
                </svg>

                <span class="bodytext__mobile--brownish-grey">Content</span>
            </div>

        </button>
        <nav id="content-navbar" class="navbar navbar--hidden">
            <div class="navbar__icon-container">
                <a href="/">
                    <svg xmlns="http://www.w3.org/2000/svg" width="155.314" height="60" viewBox="0 0 155.314 60">
                        <defs>
                            <clipPath id="clip-path">
                                <path id="Rectangle_1" d="M0 0h155.314v60H0z" fill="none" data-name="Rectangle 1"></path>
                            </clipPath>
                        </defs>
                        <g id="logo" transform="translate(-1305 -780.355)">
                            <g id="Group_2" clip-path="url(#clip-path)" data-name="Group 2" transform="translate(1305 780.355)">
                                <g id="Group_1" data-name="Group 1" transform="translate(.486 .486)">
                                    <path id="Path_1" d="M1307.562 880.867l28.187-28.893a.521.521 0 0 0 .063-.666c-1.714-2.393-4.877-2.808-6.049-4.416-3.472-4.763-4.353-7.459-5.845-7.292a.456.456 0 0 0-.271.143l-10.182 10.438c-5.858 6-6.7 19.225-6.852 30.3a.552.552 0 0 0 .949.386z" fill="#017cee" data-name="Path 1" transform="translate(-1306.613 -822.232)"></path>
                                    <path id="Path_2" d="M1405.512 908.489l-28.893-28.189a.521.521 0 0 0-.667-.063c-2.393 1.715-2.808 4.877-4.416 6.049-4.763 3.472-7.459 4.353-7.292 5.845a.456.456 0 0 0 .143.27l10.438 10.182c6 5.858 19.225 6.7 30.3 6.852a.552.552 0 0 0 .387-.946z" fill="#00ad46" data-name="Path 2" transform="translate(-1346.876 -850.567)"></path>
                                    <path id="Path_3" d="M1373.909 902.252c-3.28-3.2-4.8-9.53 1.486-22.583-10.219 4.567-13.8 10.57-12.039 12.289z" fill="#04d659" data-name="Path 3" transform="translate(-1345.96 -850.233)"></path>
                                    <path id="Path_4" d="M1433.132 782.359l-28.186 28.893a.52.52 0 0 0-.063.666c1.715 2.393 4.876 2.808 6.049 4.416 3.472 4.763 4.354 7.459 5.845 7.292a.454.454 0 0 0 .271-.143l10.182-10.438c5.858-6 6.7-19.225 6.852-30.3a.553.553 0 0 0-.95-.386z" fill="#00c7d4" data-name="Path 4" transform="translate(-1375.21 -782.123)"></path>
                                    <path id="Path_5" d="M1426.9 881.155c-3.2 3.28-9.53 4.8-22.584-1.486 4.567 10.219 10.57 13.8 12.289 12.039z" fill="#11e1ee" data-name="Path 5" transform="translate(-1374.875 -850.233)"></path>
                                    <path id="Path_6" d="M1307 782.919l28.893 28.186a.521.521 0 0 0 .666.063c2.393-1.715 2.808-4.877 4.416-6.049 4.763-3.472 7.459-4.353 7.292-5.845a.459.459 0 0 0-.143-.271l-10.438-10.182c-6-5.858-19.225-6.7-30.3-6.852a.552.552 0 0 0-.386.95z" fill="#e43921" data-name="Path 6" transform="translate(-1306.766 -781.97)"></path>
                                    <path id="Path_7" d="M1405.8 804.711c3.28 3.2 4.8 9.53-1.486 22.584 10.219-4.567 13.8-10.571 12.039-12.289z" fill-rule="evenodd" fill="#ff7557" data-name="Path 7" transform="translate(-1374.875 -797.859)"></path>
                                    <path id="Path_8" d="M1329.355 849.266c3.2-3.28 9.53-4.8 22.584 1.486-4.567-10.219-10.57-13.8-12.289-12.039z" fill="#0cb6ff" data-name="Path 8" transform="translate(-1322.503 -821.316)"></path>
                                    <circle id="Ellipse_1" cx="1.26" cy="1.26" r="1.26" fill="#4a4848" data-name="Ellipse 1" transform="translate(28.18 28.171)"></circle>
                                    <path id="Path_9" d="M1527.558 827.347a.229.229 0 0 1-.223-.223.458.458 0 0 1 .011-.123l2.766-7.214a.346.346 0 0 1 .357-.245h.758a.348.348 0 0 1 .357.245l2.754 7.214.022.123a.228.228 0 0 1-.223.223h-.568a.288.288 0 0 1-.19-.056.352.352 0 0 1-.089-.134l-.613-1.583h-3.657l-.613 1.583a.317.317 0 0 1-.1.134.269.269 0 0 1-.178.056zm4.795-2.732l-1.505-3.958-1.505 3.958zm3.322 4.85a.258.258 0 0 1-.189-.078.241.241 0 0 1-.067-.178v-7.4a.241.241 0 0 1 .067-.178.258.258 0 0 1 .189-.078h.513a.268.268 0 0 1 .256.256v.49a2.118 2.118 0 0 1 1.828-.858 2.092 2.092 0 0 1 1.751.736 3.135 3.135 0 0 1 .636 1.9q.011.122.011.379t-.011.379a3.168 3.168 0 0 1-.636 1.9 2.111 2.111 0 0 1-1.751.736 2.154 2.154 0 0 1-1.806-.836v2.587a.241.241 0 0 1-.067.178.223.223 0 0 1-.179.078zm2.364-2.91a1.324 1.324 0 0 0 1.149-.491 2.266 2.266 0 0 0 .4-1.293q.011-.111.011-.323 0-2.107-1.562-2.107a1.365 1.365 0 0 0-1.159.513 2.111 2.111 0 0 0-.412 1.2l-.012.424.012.435a1.862 1.862 0 0 0 .424 1.149 1.4 1.4 0 0 0 1.148.493zm5.628.9a2.329 2.329 0 0 1-1.015-.223 1.94 1.94 0 0 1-.747-.6 1.487 1.487 0 0 1-.268-.859 1.459 1.459 0 0 1 .6-1.2 3.4 3.4 0 0 1 1.65-.624l1.661-.234v-.323q0-1.137-1.3-1.137a1.4 1.4 0 0 0-.8.212 1.376 1.376 0 0 0-.468.48.305.305 0 0 1-.089.145.18.18 0 0 1-.134.045h-.48a.23.23 0 0 1-.245-.245 1.17 1.17 0 0 1 .245-.6 1.931 1.931 0 0 1 .747-.591 2.7 2.7 0 0 1 1.238-.256 2.351 2.351 0 0 1 1.8.591 2.032 2.032 0 0 1 .547 1.45v3.613a.257.257 0 0 1-.078.19.24.24 0 0 1-.178.067h-.513a.233.233 0 0 1-.257-.256v-.479a1.923 1.923 0 0 1-.714.6 2.557 2.557 0 0 1-1.203.237zm.234-.836a1.579 1.579 0 0 0 1.182-.469 1.881 1.881 0 0 0 .468-1.371v-.312l-1.293.19a2.918 2.918 0 0 0-1.193.379.761.761 0 0 0-.4.658.784.784 0 0 0 .368.691 1.585 1.585 0 0 0 .867.237zm6.643.836a2.556 2.556 0 0 1-1.873-.669 2.738 2.738 0 0 1-.714-1.9l-.011-.446.011-.446a2.7 2.7 0 0 1 .714-1.885 2.531 2.531 0 0 1 1.873-.68 2.917 2.917 0 0 1 1.36.29 2.077 2.077 0 0 1 .825.714 1.7 1.7 0 0 1 .3.848.2.2 0 0 1-.067.178.281.281 0 0 1-.19.067h-.535a.265.265 0 0 1-.168-.045.458.458 0 0 1-.111-.178 1.428 1.428 0 0 0-.535-.758 1.516 1.516 0 0 0-.87-.234 1.45 1.45 0 0 0-1.1.435 1.952 1.952 0 0 0-.435 1.3l-.011.4.011.379a1.969 1.969 0 0 0 .435 1.316 1.446 1.446 0 0 0 1.1.424 1.577 1.577 0 0 0 .87-.223 1.493 1.493 0 0 0 .535-.769.458.458 0 0 1 .111-.178.228.228 0 0 1 .168-.056h.535a.258.258 0 0 1 .19.078.2.2 0 0 1 .067.178 1.75 1.75 0 0 1-.3.847 2.078 2.078 0 0 1-.825.714 2.876 2.876 0 0 1-1.361.302zm4.078-.112a.233.233 0 0 1-.257-.256v-7.4a.241.241 0 0 1 .067-.178.259.259 0 0 1 .19-.078h.557a.267.267 0 0 1 .257.256v2.6a2.167 2.167 0 0 1 .758-.624 2.353 2.353 0 0 1 1.082-.223 2.067 2.067 0 0 1 1.661.691 2.642 2.642 0 0 1 .6 1.818v3.144a.257.257 0 0 1-.078.19.24.24 0 0 1-.178.067h-.557a.233.233 0 0 1-.256-.256V824a1.775 1.775 0 0 0-.39-1.227 1.387 1.387 0 0 0-1.1-.435 1.481 1.481 0 0 0-1.126.446 1.7 1.7 0 0 0-.412 1.215v3.088a.257.257 0 0 1-.078.19.24.24 0 0 1-.178.067zm8.846.112a2.466 2.466 0 0 1-1.84-.7 2.938 2.938 0 0 1-.747-1.94l-.011-.379.011-.368a2.953 2.953 0 0 1 .758-1.918 2.7 2.7 0 0 1 3.735.078 3.114 3.114 0 0 1 .68 2.119v.19a.257.257 0 0 1-.078.189.241.241 0 0 1-.178.067h-3.858v.1a2.11 2.11 0 0 0 .435 1.238 1.332 1.332 0 0 0 1.081.5 1.563 1.563 0 0 0 .836-.2 1.7 1.7 0 0 0 .491-.435.6.6 0 0 1 .145-.156.391.391 0 0 1 .19-.033h.547a.252.252 0 0 1 .167.056.192.192 0 0 1 .067.156.975.975 0 0 1-.312.591 2.51 2.51 0 0 1-.859.6 3.049 3.049 0 0 1-1.26.248zm1.527-3.434v-.033a1.817 1.817 0 0 0-.424-1.249 1.512 1.512 0 0 0-2.23 0 1.883 1.883 0 0 0-.4 1.249v.033z" fill="#51504f" data-name="Path 9" transform="translate(-1460.834 -808.144)"></path>
                                    <path id="Path_10" d="M1527.2 827.081l-.061.061zm-.056-.279l-.08-.031zm2.766-7.214l.08.031zm1.472 0l-.081.029zm2.754 7.214l.084-.015a.064.064 0 0 0 0-.015zm.022.123h.086v-.015zm-.067.156l.06.061zm-.914.011l-.061.061.006.005zm-.089-.134l.081-.027zm-.613-1.583l.08-.031a.086.086 0 0 0-.08-.055zm-3.657 0v-.086a.086.086 0 0 0-.08.055zm-.613 1.583l-.08-.031zm-.1.134l.055.066zm4.047-2.676v.086a.086.086 0 0 0 .08-.116zm-1.505-3.958l.08-.03a.086.086 0 0 0-.16 0zm-1.505 3.958l-.08-.03a.086.086 0 0 0 .08.116zm-1.784 2.646a.128.128 0 0 1-.1-.042l-.122.121a.3.3 0 0 0 .217.092zm-.1-.042a.129.129 0 0 1-.042-.1h-.171a.3.3 0 0 0 .092.217zm-.042-.1a.38.38 0 0 1 .007-.1l-.163-.054a.514.514 0 0 0-.016.15zm.005-.092l2.765-7.214-.16-.061-2.765 7.214zm2.766-7.216a.283.283 0 0 1 .1-.143.3.3 0 0 1 .174-.046v-.172a.47.47 0 0 0-.271.076.453.453 0 0 0-.166.226zm.276-.189h.758v-.172h-.758zm.758 0a.3.3 0 0 1 .175.046.283.283 0 0 1 .1.143l.161-.059a.451.451 0 0 0-.166-.226.47.47 0 0 0-.272-.076zm.277.19l2.754 7.214.16-.061-2.754-7.214zm2.75 7.2l.022.123.169-.031-.022-.123zm.021.107a.13.13 0 0 1-.042.1l.121.121a.3.3 0 0 0 .092-.217zm-.042.1a.13.13 0 0 1-.1.042v.171a.3.3 0 0 0 .217-.092zm-.1.042h-.568v.171h.568zm-.568 0a.206.206 0 0 1-.135-.036l-.11.132a.373.373 0 0 0 .245.076zm-.129-.031a.262.262 0 0 1-.069-.1l-.162.054a.431.431 0 0 0 .11.167zm-.07-.1l-.613-1.584-.16.062.613 1.583zm-.693-1.638h-3.657v.171h3.657zm-3.737.055l-.614 1.584.16.062.613-1.583zm-.615 1.587a.235.235 0 0 1-.075.1l.111.13a.4.4 0 0 0 .126-.172zm-.074.1a.185.185 0 0 1-.124.036v.171a.354.354 0 0 0 .233-.076zm-.124.036h-.569v.171h.569zm4.306-2.677l-1.505-3.958-.16.061 1.505 3.958zm-1.666-3.958l-1.505 3.958.16.061 1.505-3.958zm-1.425 4.075h3.01v-.171h-3.01zm6.143 4.687l-.06.061zm0-7.761l.061.061zm.881 0l-.065.056.01.009zm.078.669h-.086a.086.086 0 0 0 .155.051zm3.579-.123l-.067.053zm.636 1.9h-.086zm0 .758l-.085-.007zm-.636 1.9l.067.054zm-3.557-.1l.068-.052a.086.086 0 0 0-.154.052zm-.067 2.765l-.061-.06zm2.787-3.323l-.069-.051zm.4-1.293l-.085-.008v.005zm-2.709-1.918l-.068-.052zm-.413 1.2h-.086zm-.011.423h-.085zm.011.435h-.086zm.424 1.149l.066-.054zm-1.216 3.315a.173.173 0 0 1-.129-.053l-.121.121a.342.342 0 0 0 .25.1zm-.129-.053a.157.157 0 0 1-.042-.118h-.172a.325.325 0 0 0 .092.239zm-.042-.118v-7.4h-.172v7.4zm0-7.4a.157.157 0 0 1 .042-.118l-.121-.121a.324.324 0 0 0-.092.239zm.042-.118a.173.173 0 0 1 .129-.053v-.172a.342.342 0 0 0-.25.1zm.129-.053h.513v-.172h-.513zm.513 0a.137.137 0 0 1 .113.048l.13-.111a.309.309 0 0 0-.244-.108zm.123.058a.137.137 0 0 1 .048.113h.171a.309.309 0 0 0-.108-.243zm.048.113v.49h.171v-.49zm.155.541a2.033 2.033 0 0 1 1.759-.823v-.171a2.2 2.2 0 0 0-1.9.894zm1.759-.823a2.007 2.007 0 0 1 1.683.7l.135-.106a2.177 2.177 0 0 0-1.818-.768zm1.683.7a3.045 3.045 0 0 1 .617 1.845l.171-.007a3.218 3.218 0 0 0-.654-1.946zm.617 1.85c.007.078.011.2.011.372h.171c0-.171 0-.3-.012-.387zm.011.372c0 .171 0 .294-.011.372l.17.015c.008-.086.012-.216.012-.387zm-.011.376a3.08 3.08 0 0 1-.617 1.846l.134.106a3.25 3.25 0 0 0 .654-1.945zm-.617 1.845a2.025 2.025 0 0 1-1.683.7v.171a2.2 2.2 0 0 0 1.817-.768zm-1.683.7a2.068 2.068 0 0 1-1.739-.8l-.136.1a2.239 2.239 0 0 0 1.874.87zm-1.892-.75v2.587h.172v-2.587zm0 2.587a.156.156 0 0 1-.042.118l.121.121a.325.325 0 0 0 .092-.239zm-.046.123a.138.138 0 0 1-.114.048v.172a.308.308 0 0 0 .244-.108zm-.114.048h-.546v.172h.546zm1.817-2.739a1.408 1.408 0 0 0 1.218-.526l-.138-.1a1.24 1.24 0 0 1-1.079.455zm1.217-.525a2.355 2.355 0 0 0 .419-1.341l-.171-.007a2.182 2.182 0 0 1-.385 1.246zm.418-1.336c.008-.079.012-.19.012-.332h-.172c0 .14 0 .245-.011.315zm.012-.332a2.726 2.726 0 0 0-.407-1.632 1.448 1.448 0 0 0-1.24-.562v.171a1.278 1.278 0 0 1 1.1.492 2.565 2.565 0 0 1 .374 1.53zm-1.647-2.193a1.452 1.452 0 0 0-1.228.547l.136.1a1.282 1.282 0 0 1 1.091-.479zm-1.228.547a2.2 2.2 0 0 0-.43 1.252l.172.008a2.028 2.028 0 0 1 .4-1.157zm-.43 1.254l-.011.424h.171l.011-.424zm-.011.428l.011.435h.172l-.011-.435zm.011.436a1.95 1.95 0 0 0 .443 1.2l.133-.109a1.776 1.776 0 0 1-.4-1.1zm.443 1.2a1.484 1.484 0 0 0 1.214.522v-.171a1.314 1.314 0 0 1-1.082-.459zm5.828 1.117l.037-.077zm-.747-.6l-.07.049zm.335-2.063l.052.068zm1.65-.624l.012.085zm1.661-.234l.012.085a.086.086 0 0 0 .074-.085zm-2.107-1.249l.046.072zm-.468.48l-.075-.042a.083.083 0 0 0-.006.015zm-.089.145l-.054-.067-.007.006zm-.792-.022l-.065.056.009.009zm-.067-.178h-.086zm.245-.6l-.07-.049zm.747-.591l.038.077zm3.033.334l-.063.058zm.468 5.252l.06.061zm-.881 0l-.065.056a.043.043 0 0 0 .009.009zm-.067-.669h.086a.086.086 0 0 0-.156-.048zm-.714.6l-.04-.076zm.223-1.059l-.062-.06zm.468-1.684h.086a.086.086 0 0 0-.1-.085zm-1.293.189l.012.085zm-1.193.379l.046.072zm-.033 1.349l-.047.071zm.635.985a2.241 2.241 0 0 1-.978-.215l-.074.155a2.412 2.412 0 0 0 1.051.231zm-.978-.215a1.859 1.859 0 0 1-.715-.576l-.138.1a2.024 2.024 0 0 0 .779.629zm-.713-.573a1.4 1.4 0 0 1-.253-.81h-.172a1.571 1.571 0 0 0 .283.907zm-.253-.81a1.374 1.374 0 0 1 .569-1.136l-.105-.135a1.544 1.544 0 0 0-.635 1.272zm.569-1.137a3.316 3.316 0 0 1 1.609-.607l-.024-.17a3.481 3.481 0 0 0-1.691.642zm1.609-.607l1.661-.234-.024-.17-1.662.234zm1.735-.319v-.323h-.171v.323zm0-.323a1.156 1.156 0 0 0-.355-.917 1.536 1.536 0 0 0-1.035-.306v.172a1.37 1.37 0 0 1 .922.263.986.986 0 0 1 .3.788zm-1.39-1.223a1.486 1.486 0 0 0-.851.227l.1.142a1.316 1.316 0 0 1 .755-.2zm-.849.226a1.452 1.452 0 0 0-.5.51l.15.084a1.286 1.286 0 0 1 .44-.449zm-.5.524a.226.226 0 0 1-.062.105l.107.134a.391.391 0 0 0 .117-.185zm-.068.112a.1.1 0 0 1-.073.019v.171a.266.266 0 0 0 .194-.07zm-.073.019h-.48v.171h.48zm-.48 0a.18.18 0 0 1-.122-.046l-.112.13a.352.352 0 0 0 .234.087zm-.113-.037a.18.18 0 0 1-.047-.123h-.171a.352.352 0 0 0 .087.234zm-.047-.119a1.1 1.1 0 0 1 .23-.557l-.14-.1a1.253 1.253 0 0 0-.261.648zm.23-.556a1.843 1.843 0 0 1 .715-.564l-.075-.154a2.018 2.018 0 0 0-.78.618zm.716-.564a2.611 2.611 0 0 1 1.2-.247v-.171a2.781 2.781 0 0 0-1.277.266zm1.2-.247a2.268 2.268 0 0 1 1.732.563l.126-.116a2.435 2.435 0 0 0-1.858-.618zm1.733.564a1.945 1.945 0 0 1 .523 1.391h.171a2.117 2.117 0 0 0-.57-1.508zm.523 1.391v3.613h.171v-3.613zm0 3.613a.172.172 0 0 1-.053.129l.121.121a.344.344 0 0 0 .1-.25zm-.053.129a.157.157 0 0 1-.118.042v.171a.326.326 0 0 0 .239-.092zm-.118.042h-.513v.171h.513zm-.513 0a.2.2 0 0 1-.134-.046l-.111.13a.367.367 0 0 0 .245.088zm-.124-.037a.194.194 0 0 1-.047-.134h-.171a.366.366 0 0 0 .087.245zm-.047-.134v-.479h-.171v.479zm-.156-.528a1.846 1.846 0 0 1-.683.575l.079.152a2.012 2.012 0 0 0 .745-.629zm-.683.575a2.476 2.476 0 0 1-1.153.236v.171a2.644 2.644 0 0 0 1.233-.255zm-.919-.429a1.666 1.666 0 0 0 1.244-.494l-.123-.12a1.493 1.493 0 0 1-1.121.442zm1.244-.494a1.969 1.969 0 0 0 .492-1.431h-.171a1.8 1.8 0 0 1-.444 1.312zm.492-1.431v-.312h-.171v.312zm-.1-.4l-1.293.189.025.17 1.293-.189zm-1.293.189a3 3 0 0 0-1.228.393l.095.143a2.837 2.837 0 0 1 1.158-.365zm-1.227.392a.845.845 0 0 0-.441.73h.172a.676.676 0 0 1 .362-.586zm-.441.73a.869.869 0 0 0 .406.762l.095-.142a.7.7 0 0 1-.33-.62zm.408.764a1.673 1.673 0 0 0 .916.247v-.171a1.5 1.5 0 0 1-.823-.221zm5.686.329l-.061.06zm-.714-1.9h-.085zm-.011-.446h-.085zm.011-.446h-.085zm.714-1.885l.061.061zm3.234-.39l-.04.076zm.825.713l-.073.046zm.3.848h-.086zm-.067.178l.056.065zm-.892.022l.054-.067zm-.112-.178l-.081.029zm-.535-.758l-.048.071zm-1.974.2l-.062-.059zm-.435 1.3h-.086zm-.011.4h-.086zm.011.379h-.086zm.435 1.316l-.062.059zm1.974.2l.046.072zm.535-.769l-.079-.033zm.112-.178l.054.067.007-.006zm.892.022l-.061.06zm.067.178l-.085-.009zm-.3.847l-.072-.046zm-.825.714l-.04-.076zm-1.36.2a2.471 2.471 0 0 1-1.814-.644l-.12.122a2.64 2.64 0 0 0 1.933.694zm-1.813-.643a2.653 2.653 0 0 1-.689-1.839l-.171.006a2.822 2.822 0 0 0 .738 1.952zm-.689-1.838l-.011-.446h-.171l.011.446zm-.011-.442l.011-.446h-.171l-.011.446zm.011-.445a2.611 2.611 0 0 1 .689-1.827l-.122-.121a2.78 2.78 0 0 0-.738 1.942zm.689-1.827a2.447 2.447 0 0 1 1.813-.655v-.171a2.617 2.617 0 0 0-1.934.705zm1.813-.655a2.836 2.836 0 0 1 1.32.28l.079-.152a3 3 0 0 0-1.4-.3zm1.32.28a1.99 1.99 0 0 1 .792.683l.145-.091a2.158 2.158 0 0 0-.858-.744zm.793.685a1.617 1.617 0 0 1 .287.8l.171-.009a1.789 1.789 0 0 0-.315-.89zm.287.809a.11.11 0 0 1-.037.1l.112.13a.281.281 0 0 0 .1-.252zm-.037.1a.2.2 0 0 1-.134.046v.171a.369.369 0 0 0 .246-.088zm-.134.046h-.535v.171h.535zm-.535 0a.184.184 0 0 1-.114-.026l-.107.134a.345.345 0 0 0 .221.064zm-.114-.026a.389.389 0 0 1-.086-.144l-.158.066a.533.533 0 0 0 .137.212zm-.084-.14a1.514 1.514 0 0 0-.57-.8l-.093.144a1.343 1.343 0 0 1 .5.715zm-.568-.8a1.6 1.6 0 0 0-.918-.249v.171a1.435 1.435 0 0 1 .822.219zm-.918-.249a1.535 1.535 0 0 0-1.166.462l.124.118a1.364 1.364 0 0 1 1.042-.408zm-1.166.462a2.036 2.036 0 0 0-.458 1.36l.171.006a1.872 1.872 0 0 1 .411-1.249zm-.458 1.361l-.011.4h.171l.011-.4zm-.011.406l.011.379.171-.005-.011-.379zm.011.38a2.052 2.052 0 0 0 .458 1.371l.124-.118a1.889 1.889 0 0 1-.411-1.26zm.458 1.371a1.533 1.533 0 0 0 1.166.451v-.172a1.363 1.363 0 0 1-1.042-.4zm1.166.451a1.661 1.661 0 0 0 .916-.237l-.093-.144a1.491 1.491 0 0 1-.823.209zm.918-.238a1.576 1.576 0 0 0 .568-.812l-.162-.057a1.409 1.409 0 0 1-.5.727zm.566-.807a.39.39 0 0 1 .086-.144l-.107-.134a.533.533 0 0 0-.137.213zm.093-.151a.144.144 0 0 1 .107-.031v-.171a.31.31 0 0 0-.228.081zm.107-.031h.535v-.171h-.535zm.535 0a.173.173 0 0 1 .129.053l.121-.121a.344.344 0 0 0-.25-.1zm.134.057a.11.11 0 0 1 .037.1l.17.017a.281.281 0 0 0-.1-.252zm.037.109a1.664 1.664 0 0 1-.288.806l.144.092a1.839 1.839 0 0 0 .315-.889zm-.288.806a1.989 1.989 0 0 1-.792.683l.079.152a2.162 2.162 0 0 0 .858-.744zm-.793.684a2.8 2.8 0 0 1-1.32.28v.171a2.96 2.96 0 0 0 1.4-.3zm2.568.187l-.065.056.01.009zm0-7.772l.061.06zm.926 0l-.065.056.009.009zm.078 2.776h-.085a.086.086 0 0 0 .153.053zm.758-.624l.038.077zm2.743.468l-.065.056zm.524 5.151l-.061-.06zm-.925 0l-.065.056.009.009zm-.457-4.5l-.065.056zm-2.23.011l-.062-.059zm-.49 4.493l-.061-.06zm-.736-.019a.2.2 0 0 1-.134-.046l-.112.13a.367.367 0 0 0 .245.088zm-.124-.037a.2.2 0 0 1-.046-.134h-.172a.367.367 0 0 0 .087.245zm-.046-.134v-7.4h-.172v7.4zm0-7.4a.156.156 0 0 1 .042-.118l-.121-.121a.326.326 0 0 0-.092.239zm.042-.118a.172.172 0 0 1 .129-.053v-.171a.343.343 0 0 0-.25.1zm.129-.053h.557v-.171h-.557zm.557 0a.137.137 0 0 1 .113.048l.13-.112a.308.308 0 0 0-.244-.108zm.122.057a.137.137 0 0 1 .048.113h.172a.309.309 0 0 0-.108-.243zm.048.113v2.6h.172v-2.6zm.153 2.651a2.076 2.076 0 0 1 .728-.6l-.075-.154a2.248 2.248 0 0 0-.788.649zm.73-.6a2.272 2.272 0 0 1 1.043-.214v-.171a2.438 2.438 0 0 0-1.121.232zm1.043-.214a1.982 1.982 0 0 1 1.6.661l.13-.112a2.152 2.152 0 0 0-1.727-.721zm1.6.663a2.557 2.557 0 0 1 .581 1.761h.171a2.727 2.727 0 0 0-.624-1.874zm.581 1.761v3.144h.171v-3.144zm0 3.144a.173.173 0 0 1-.053.129l.121.121a.345.345 0 0 0 .1-.25zm-.053.129a.156.156 0 0 1-.118.042v.171a.327.327 0 0 0 .239-.092zm-.118.042h-.557v.171h.557zm-.557 0a.2.2 0 0 1-.134-.046l-.112.13a.367.367 0 0 0 .245.088zm-.124-.037a.2.2 0 0 1-.046-.134h-.172a.368.368 0 0 0 .087.245zm-.046-.134V823.8h-.172v3.088zm0-3.088a1.859 1.859 0 0 0-.412-1.284l-.128.114a1.69 1.69 0 0 1 .368 1.169zm-.411-1.283a1.471 1.471 0 0 0-1.169-.464v.171a1.3 1.3 0 0 1 1.039.406zm-1.169-.464a1.566 1.566 0 0 0-1.188.473l.124.118a1.4 1.4 0 0 1 1.064-.419zm-1.188.473a1.779 1.779 0 0 0-.436 1.275h.172a1.609 1.609 0 0 1 .389-1.156zm-.436 1.275v3.088h.172V823.8zm0 3.088a.172.172 0 0 1-.053.129l.121.121a.344.344 0 0 0 .1-.25zm-.053.129a.156.156 0 0 1-.118.042v.171a.327.327 0 0 0 .239-.092zm-.118.042h-.557v.171h.557zm6.449-.505l-.062.059zm-.747-1.94h-.086zm-.012-.379h-.085v.005zm.012-.368l-.086-.006zm.758-1.918l-.061-.06zm3.735.078l-.065.056zm.6 2.5l.061.061zm-4.036.067v-.086a.086.086 0 0 0-.086.086zm0 .1h-.086zm.435 1.238l-.068.053zm1.918.3l.045.073zm.491-.435l-.069-.051zm.145-.156l.039.077h.006zm.9.022l-.055.066zm-.245.747l-.064-.057zm-.858.6l.035.078zm.267-3.189v.086a.086.086 0 0 0 .086-.086zm-.424-1.282l-.066.055zm-2.23 0l-.065-.055zm-.4 1.282h-.086a.086.086 0 0 0 .086.086zm1.528 3.349a2.38 2.38 0 0 1-1.779-.677l-.122.12a2.55 2.55 0 0 0 1.9.728zm-1.778-.676a2.86 2.86 0 0 1-.724-1.886l-.171.009a3.027 3.027 0 0 0 .771 1.995zm-.723-1.884l-.011-.379h-.171l.011.379zm-.011-.374l.011-.368-.172-.005-.011.368zm.011-.365a2.871 2.871 0 0 1 .735-1.864l-.124-.118a3.042 3.042 0 0 0-.782 1.971zm.734-1.864a2.331 2.331 0 0 1 1.756-.687v-.171a2.5 2.5 0 0 0-1.879.74zm1.756-.687a2.307 2.307 0 0 1 1.853.762l.13-.112a2.477 2.477 0 0 0-1.983-.821zm1.854.762a3.03 3.03 0 0 1 .659 2.062h.172a3.2 3.2 0 0 0-.7-2.175zm.659 2.062v.19h.172v-.19zm0 .19a.172.172 0 0 1-.053.129l.121.121a.345.345 0 0 0 .1-.25zm-.053.129a.156.156 0 0 1-.118.042v.171a.327.327 0 0 0 .239-.092zm-.118.042h-3.858v.171h3.858zm-3.944.086v.1h.172v-.1zm0 .1a2.2 2.2 0 0 0 .453 1.287l.135-.106a2.027 2.027 0 0 1-.417-1.189zm.454 1.288a1.418 1.418 0 0 0 1.148.533v-.171a1.247 1.247 0 0 1-1.015-.47zm1.148.533a1.647 1.647 0 0 0 .882-.214l-.09-.146a1.481 1.481 0 0 1-.791.188zm.882-.214a1.777 1.777 0 0 0 .515-.458l-.14-.1a1.613 1.613 0 0 1-.466.412zm.513-.456a1.251 1.251 0 0 1 .081-.1.28.28 0 0 1 .026-.025l.008-.006-.077-.153a.326.326 0 0 0-.083.068 1.55 1.55 0 0 0-.092.113zm.12-.134a.328.328 0 0 1 .146-.021v-.171a.468.468 0 0 0-.234.046zm.146-.021h.547v-.171h-.547zm.547 0a.166.166 0 0 1 .112.036l.11-.132a.337.337 0 0 0-.222-.076zm.112.036a.107.107 0 0 1 .036.09h.171a.277.277 0 0 0-.1-.222zm.036.09a.9.9 0 0 1-.291.534l.128.115a1.055 1.055 0 0 0 .334-.649zm-.291.535a2.42 2.42 0 0 1-.83.581l.072.156a2.6 2.6 0 0 0 .888-.624zm-.829.58a2.964 2.964 0 0 1-1.224.238v.171a3.133 3.133 0 0 0 1.295-.253zm.389-3.111v-.033h-.171v.033zm0-.033a1.9 1.9 0 0 0-.445-1.306l-.129.114a1.731 1.731 0 0 1 .4 1.192zm-.444-1.3a1.466 1.466 0 0 0-1.181-.521v.172a1.3 1.3 0 0 1 1.049.46zm-1.181-.521a1.466 1.466 0 0 0-1.18.521l.131.11a1.3 1.3 0 0 1 1.049-.46zm-1.181.521a1.965 1.965 0 0 0-.422 1.3h.172a1.794 1.794 0 0 1 .382-1.194zm-.422 1.3v.033h.172v-.033zm.086.119h3.055v-.171h-3.055z" fill="#51504f" data-name="Path 10" transform="translate(-1460.636 -807.945)"></path>
                                    <path id="Path_11" d="M1519.066 884.011a.581.581 0 0 1-.567-.567 1.151 1.151 0 0 1 .028-.312l7.026-18.328a.881.881 0 0 1 .906-.623h1.926a.882.882 0 0 1 .907.623l7 18.328.057.312a.583.583 0 0 1-.567.567h-1.445a.735.735 0 0 1-.482-.142.9.9 0 0 1-.226-.34l-1.558-4.023h-9.292l-1.558 4.023a.8.8 0 0 1-.255.34.688.688 0 0 1-.453.142zm12.181-6.94l-3.824-10.056-3.823 10.055zm8.184-10.538a.592.592 0 0 1-.652-.651v-1.53a.714.714 0 0 1 .17-.482.656.656 0 0 1 .482-.2h1.785a.677.677 0 0 1 .68.68v1.53a.655.655 0 0 1-.2.481.713.713 0 0 1-.481.17zm.227 17.479a.593.593 0 0 1-.652-.652v-13.428a.611.611 0 0 1 .17-.453.656.656 0 0 1 .482-.2h1.359a.679.679 0 0 1 .652.651v13.427a.655.655 0 0 1-.2.482.613.613 0 0 1-.453.17zm6.861 0a.592.592 0 0 1-.651-.652v-13.4a.715.715 0 0 1 .17-.481.656.656 0 0 1 .482-.2h1.3a.677.677 0 0 1 .68.68v1.246a4.255 4.255 0 0 1 3.966-1.926h1.1a.679.679 0 0 1 .651.651v1.161a.566.566 0 0 1-.2.453.612.612 0 0 1-.453.17h-1.7a3.2 3.2 0 0 0-2.408.907 3.253 3.253 0 0 0-.879 2.408v8.328a.656.656 0 0 1-.2.482.716.716 0 0 1-.482.17zm12.234 0a.593.593 0 0 1-.651-.652v-11.814h-2.408a.592.592 0 0 1-.651-.651v-.963a.611.611 0 0 1 .17-.453.654.654 0 0 1 .481-.2h2.408v-1.417q0-4.816 4.872-4.815h1.586a.679.679 0 0 1 .652.651v.963a.656.656 0 0 1-.2.481.613.613 0 0 1-.453.17h-1.529a2.1 2.1 0 0 0-1.785.68 3.248 3.248 0 0 0-.51 2.011v1.275h6.062V863.7a.613.613 0 0 1 .17-.453.656.656 0 0 1 .482-.2h1.3a.679.679 0 0 1 .652.651v19.659a.655.655 0 0 1-.2.482.613.613 0 0 1-.454.17h-1.3a.592.592 0 0 1-.652-.652v-11.811h-6.062v11.813a.657.657 0 0 1-.2.482.614.614 0 0 1-.454.17zm20.9.283a6.487 6.487 0 0 1-4.844-1.757 6.837 6.837 0 0 1-1.813-4.674l-.029-1.218.029-1.218a6.732 6.732 0 0 1 1.841-4.646 7.389 7.389 0 0 1 9.631 0 6.736 6.736 0 0 1 1.841 4.646q.028.311.028 1.218t-.028 1.218a6.772 6.772 0 0 1-1.841 4.674 6.391 6.391 0 0 1-4.82 1.756zm0-2.181a3.582 3.582 0 0 0 2.8-1.133 4.931 4.931 0 0 0 1.133-3.258q.028-.283.028-1.076t-.028-1.076a4.931 4.931 0 0 0-1.133-3.258 3.582 3.582 0 0 0-2.8-1.133 3.671 3.671 0 0 0-2.833 1.133 4.83 4.83 0 0 0-1.1 3.258l-.028 1.076.028 1.076a4.83 4.83 0 0 0 1.1 3.258 3.671 3.671 0 0 0 2.828 1.132zm13.755 1.9a.846.846 0 0 1-.566-.17 1.321 1.321 0 0 1-.34-.538l-4.023-13.144-.056-.283a.575.575 0 0 1 .17-.425.641.641 0 0 1 .425-.17h1.246a.612.612 0 0 1 .453.17.646.646 0 0 1 .255.312l3.145 10.679 3.371-10.566a.761.761 0 0 1 .255-.4.726.726 0 0 1 .538-.2h.963a.728.728 0 0 1 .539.2.76.76 0 0 1 .255.4l3.371 10.566 3.144-10.679a.655.655 0 0 1 .2-.312.714.714 0 0 1 .482-.17h1.275a.542.542 0 0 1 .4.17.576.576 0 0 1 .17.425l-.057.283-3.994 13.144a1.323 1.323 0 0 1-.34.538.9.9 0 0 1-.6.17h-1.1a.86.86 0 0 1-.935-.708l-3.286-10.141-3.286 10.141a.928.928 0 0 1-.963.708z" fill="#51504f" data-name="Path 11" transform="translate(-1454.66 -838.62)"></path>
                                </g>
                            </g>
                        </g>
                    </svg>

                </a>
            </div>

            <div id="content-close-button">
                <svg xmlns="http://www.w3.org/2000/svg" width="19.799" height="19.799" viewBox="0 0 19.799 19.799">
                    <g id="Group_1574" data-name="Group 1574" transform="translate(-41.892 290.899)">
                        <g id="Group_1291" data-name="Group 1291" transform="rotate(-45 -308.114 -187.077)">
                            <rect id="Rectangle_461" width="26" height="2" fill="#51504f" data-name="Rectangle 461" rx="1" transform="translate(-.209)"></rect>
                        </g>
                        <g id="Group_1292" data-name="Group 1292" transform="rotate(45 372.48 -93.011)">
                            <rect id="Rectangle_462" width="26" height="2" fill="#51504f" data-name="Rectangle 462" rx="1" transform="translate(-.209 -.178)"></rect>
                        </g>
                    </g>
                </svg>

            </div>

        </nav>
        <div class="content-drawer-container" id="content-drawer">
            <div class="content-drawer">
                <div class="td-sidebar">

<div id="docs-version-selector" class="docs-version-selector sidebar__version-selector">
    <a class="dropdown-toggle" href="#" id="versionDropdown" role="button" data-toggle="dropdown" aria-haspopup="true"
       aria-expanded="false">
        <span class="bodytext__medium--greyish-brown">Version: </span><span class="version">3.0.0</span>
    </a>
    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">

    </div>
    <script type="application/x-template" id="version-item-template">
        <a class="dropdown-item"></a>
    </script>
</div>

<div class="searchb-box">
    <form class="search-form" action="search.html" method="get">
        <input class="search-form__input" type="text" name="q" placeholder="Search docs" size="16">
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />

        <button class="search-form__button" type="submit">

            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
                <g id="Group_1579" data-name="Group 1579" transform="translate(-41.001 -41)">
                    <path id="Path_169" d="M71.415 64.687a7.215 7.215 0 1 0-6.729 6.728 7.222 7.222 0 0 0 6.729-6.728z" fill="none" data-name="Path 169" transform="translate(-14.277 -14.276)"></path>
                    <path id="Path_170" d="M60.863 59.8l-6.093-6.09a7.78 7.78 0 1 0-1.06 1.06l6.09 6.093a.468.468 0 0 0 .662 0l.4-.4a.468.468 0 0 0 .001-.663zM42.512 49.183a6.274 6.274 0 1 1 5.851 5.85 6.28 6.28 0 0 1-5.851-5.85z" fill="#51504f" data-name="Path 170"></path>
                </g>
            </svg>
        </button>
    </form>
</div>


<style>
    .searchb-box {
        margin-bottom: 26px;
    }
    .searchb-box .search-form {
        width: 100%;
        margin-top: 20px;
    }
</style>


<div class="toctree" role="navigation" aria-label="main navigation">
    <p class="caption" role="heading"><span class="caption-text">Content</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="start.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation/index.html">Installation of Airflow®</a></li>
<li class="toctree-l1"><a class="reference internal" href="security/index.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="howto/index.html">How-to Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="ui.html">UI Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-concepts/index.html">Core Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="authoring-and-scheduling/index.html">Authoring and Scheduling</a></li>
<li class="toctree-l1"><a class="reference internal" href="administration-and-deployment/index.html">Administration and Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="integration.html">Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="public-airflow-interface.html">Public Interface of Airflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="best-practices.html">Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="release-process.html">Release Policies</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#airflow-3-0-0-2025-04-22">Airflow 3.0.0 (2025-04-22)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#highlights">Highlights</a></li>
<li class="toctree-l3"><a class="reference internal" href="#significant-changes">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#task-execution-api-task-sdk-aip-72">Task Execution API &amp; Task SDK (AIP-72)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#edge-executor-aip-69">Edge Executor (AIP-69)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scheduler-managed-backfills-aip-78">Scheduler-Managed Backfills (AIP-78)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dag-versioning-aip-66">DAG Versioning (AIP-66)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#react-ui-rewrite-aip-38-aip-84">React UI Rewrite (AIP-38, AIP-84)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#asset-based-scheduling-terminology-alignment-aip-74-aip-75">Asset-Based Scheduling &amp; Terminology Alignment (AIP-74, AIP-75)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#unified-scheduling-field">Unified Scheduling Field</a></li>
<li class="toctree-l4"><a class="reference internal" href="#updated-scheduling-defaults">Updated Scheduling Defaults</a></li>
<li class="toctree-l4"><a class="reference internal" href="#restricted-metadata-database-access">Restricted Metadata Database Access</a></li>
<li class="toctree-l4"><a class="reference internal" href="#future-logical-dates-no-longer-supported">Future Logical Dates No Longer Supported</a></li>
<li class="toctree-l4"><a class="reference internal" href="#context-behavior-for-asset-and-manually-triggered-dags">Context Behavior for Asset and Manually Triggered DAGs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#improved-callback-behavior">Improved Callback Behavior</a></li>
<li class="toctree-l4"><a class="reference internal" href="#updated-default-configuration">Updated Default Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#executor-scheduler-updates">Executor &amp; Scheduler Updates</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#standalone-dag-processor-required">Standalone DAG Processor Required</a></li>
<li class="toctree-l4"><a class="reference internal" href="#priority-weight-capped-by-pool-slots">Priority Weight Capped by Pool Slots</a></li>
<li class="toctree-l4"><a class="reference internal" href="#teardown-task-handling-during-dag-termination">Teardown Task Handling During DAG Termination</a></li>
<li class="toctree-l4"><a class="reference internal" href="#improved-scheduler-fault-tolerance">Improved Scheduler Fault Tolerance</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mapped-task-stats-accuracy">Mapped Task Stats Accuracy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sequentialexecutor-has-been-removed"><code class="docutils literal notranslate"><span class="pre">SequentialExecutor</span></code> has been removed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#dag-authoring-enhancements">DAG Authoring Enhancements</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#new-stable-dag-authoring-interface-airflow-sdk">New Stable DAG Authoring Interface: <code class="docutils literal notranslate"><span class="pre">airflow.sdk</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#renamed-parameter-fail-stop-fail-fast">Renamed Parameter: <code class="docutils literal notranslate"><span class="pre">fail_stop</span></code> → <code class="docutils literal notranslate"><span class="pre">fail_fast</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#context-cleanup-and-parameter-removal">Context Cleanup and Parameter Removal</a></li>
<li class="toctree-l4"><a class="reference internal" href="#task-context-utilities-moved">Task Context Utilities Moved</a></li>
<li class="toctree-l4"><a class="reference internal" href="#trigger-rule-restrictions">Trigger Rule Restrictions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#asset-aliases-for-reusability">Asset Aliases for Reusability</a></li>
<li class="toctree-l4"><a class="reference internal" href="#operator-links-interface-changed">Operator Links interface changed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#plugins-no-longer-support-adding-executors-operators-hooks">Plugins no longer support adding executors, operators &amp; hooks</a></li>
<li class="toctree-l4"><a class="reference internal" href="#support-for-ml-ai-use-cases-aip-83">Support for ML &amp; AI Use Cases (AIP-83)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#config-interface-changes">Config &amp; Interface Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#default-value-handling">Default Value Handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="#refactored-config-defaults">Refactored Config Defaults</a></li>
<li class="toctree-l4"><a class="reference internal" href="#refactored-internal-utilities">Refactored Internal Utilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#improved-inlet-events-outlet-events-and-triggering-asset-events">Improved <code class="docutils literal notranslate"><span class="pre">inlet_events</span></code>, <code class="docutils literal notranslate"><span class="pre">outlet_events</span></code>, and <code class="docutils literal notranslate"><span class="pre">triggering_asset_events</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#behaviour-change-in-xcom-pull">Behaviour change in <code class="docutils literal notranslate"><span class="pre">xcom_pull</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#removed-configuration-keys">Removed Configuration Keys</a></li>
<li class="toctree-l4"><a class="reference internal" href="#upgrade-tooling">Upgrade Tooling</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#cli-api-changes">CLI &amp; API Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#split-cli-architecture-aip-81">Split CLI Architecture (AIP-81)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rest-api-dag-trigger-behavior-updated">REST API: DAG Trigger Behavior Updated</a></li>
<li class="toctree-l4"><a class="reference internal" href="#removed-cli-flags-and-commands">Removed CLI Flags and Commands</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#provider-refactor-standardization">Provider Refactor &amp; Standardization</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ui-usability-improvements">UI &amp; Usability Improvements</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#new-home-page">New Home Page</a></li>
<li class="toctree-l4"><a class="reference internal" href="#unified-dag-list-view">Unified DAG List View</a></li>
<li class="toctree-l4"><a class="reference internal" href="#version-aware-graph-and-grid-views">Version-Aware Graph and Grid Views</a></li>
<li class="toctree-l4"><a class="reference internal" href="#expanded-dag-graph-visualization">Expanded DAG Graph Visualization</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dag-code-view">DAG Code View</a></li>
<li class="toctree-l4"><a class="reference internal" href="#improved-task-log-access">Improved Task Log Access</a></li>
<li class="toctree-l4"><a class="reference internal" href="#enhanced-asset-and-backfill-views">Enhanced Asset and Backfill Views</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#deprecations-removals">Deprecations &amp; Removals</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#summary-of-removed-features">Summary of Removed Features</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#migration-tooling-upgrade-process">Migration Tooling &amp; Upgrade Process</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#minimum-supported-versions">Minimum Supported Versions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dag-compatibility-checks">DAG Compatibility Checks</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuration-migration">Configuration Migration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#metadata-database-upgrade">Metadata Database Upgrade</a></li>
<li class="toctree-l4"><a class="reference internal" href="#startup-behavior-changes">Startup Behavior Changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#resources">Resources</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-10-5-2025-02-10">Airflow 2.10.5 (2025-02-10)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ensure-teardown-tasks-are-executed-when-dag-run-is-set-to-failed-45530">Ensure teardown tasks are executed when DAG run is set to failed (#45530)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bug-fixes">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#miscellaneous">Miscellaneous</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-10-4-2024-12-16">Airflow 2.10.4 (2024-12-16)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#taskinstance-priority-weight-is-capped-in-32-bit-signed-integer-ranges-43611">TaskInstance <code class="docutils literal notranslate"><span class="pre">priority_weight</span></code> is capped in 32-bit signed integer ranges (#43611)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id3">Bug Fixes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#doc-only-changes">Doc Only Changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">Miscellaneous</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-10-3-2024-11-05">Airflow 2.10.3 (2024-11-05)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id5">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id6">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id7">Miscellaneous</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-10-2-2024-09-18">Airflow 2.10.2 (2024-09-18)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id9">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id10">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id11">Miscellaneous</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id12">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-10-1-2024-09-05">Airflow 2.10.1 (2024-09-05)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id13">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id14">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id15">Miscellaneous</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id16">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-10-0-2024-08-15">Airflow 2.10.0 (2024-08-15)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id17">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#scarf-based-telemetry-airflow-now-collect-telemetry-data-39510">Scarf based telemetry: Airflow now collect telemetry data (#39510)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#datasets-no-longer-trigger-inactive-dags-38891">Datasets no longer trigger inactive DAGs (#38891)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#try-number-is-no-longer-incremented-during-task-execution-39336"><code class="docutils literal notranslate"><span class="pre">try_number</span></code> is no longer incremented during task execution (#39336)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#logout-endpoint-in-fab-auth-manager-is-now-csrf-protected-40145"><code class="docutils literal notranslate"><span class="pre">/logout</span></code> endpoint in FAB Auth Manager is now CSRF protected (#40145)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#opentelemetry-traces-for-apache-airflow-37948">OpenTelemetry Traces for Apache Airflow (#37948).</a></li>
<li class="toctree-l4"><a class="reference internal" href="#decorator-for-task-flow-skip-if-run-if-to-make-it-simple-to-apply-whether-or-not-to-skip-a-task-41116">Decorator for Task Flow <code class="docutils literal notranslate"><span class="pre">(&#64;skip_if,</span> <span class="pre">&#64;run_if)</span></code> to make it simple to apply whether or not to skip a Task. (#41116)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-multiple-executors-concurrently-40701">Using Multiple Executors Concurrently (#40701)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#new-features">New Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="#improvements">Improvements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id18">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id19">Miscellaneous</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id20">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-9-3-2024-07-15">Airflow 2.9.3 (2024-07-15)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id21">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#time-unit-for-scheduled-duration-and-queued-duration-changed-37936">Time unit for <code class="docutils literal notranslate"><span class="pre">scheduled_duration</span></code> and <code class="docutils literal notranslate"><span class="pre">queued_duration</span></code> changed (#37936)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#support-for-opentelemetry-metrics-is-no-longer-experimental-40286">Support for OpenTelemetry Metrics is no longer “Experimental” (#40286)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id22">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id23">Doc Only Changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id24">Miscellaneous</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-9-2-2024-06-10">Airflow 2.9.2 (2024-06-10)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id25">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id26">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id27">Miscellaneous</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id28">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-9-1-2024-05-03">Airflow 2.9.1 (2024-05-03)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id29">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#stackdriver-logging-bugfix-requires-google-provider-10-17-0-or-later-38071">Stackdriver logging bugfix requires Google provider <code class="docutils literal notranslate"><span class="pre">10.17.0</span></code> or later (#38071)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id30">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id31">Miscellaneous</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id32">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-9-0-2024-04-08">Airflow 2.9.0 (2024-04-08)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id33">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#following-listener-api-methods-are-considered-stable-and-can-be-used-for-production-system-were-experimental-feature-in-older-airflow-versions-36376">Following Listener API methods are considered stable and can be used for production system (were experimental feature in older Airflow versions) (#36376):</a></li>
<li class="toctree-l4"><a class="reference internal" href="#support-for-microsoft-sql-server-for-airflow-meta-database-has-been-removed-36514">Support for Microsoft SQL-Server for Airflow Meta Database has been removed (#36514)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dataset-uris-are-now-validated-on-input-37005">Dataset URIs are now validated on input (#37005)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-method-get-permitted-menu-items-in-baseauthmanager-has-been-renamed-filter-permitted-menu-items-37627">The method <code class="docutils literal notranslate"><span class="pre">get_permitted_menu_items</span></code> in <code class="docutils literal notranslate"><span class="pre">BaseAuthManager</span></code> has been renamed <code class="docutils literal notranslate"><span class="pre">filter_permitted_menu_items</span></code> (#37627)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#add-rest-api-actions-to-audit-log-events-37734">Add REST API actions to Audit Log events (#37734)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#official-support-for-python-3-12-38025">Official support for Python 3.12 (#38025)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#prevent-large-string-objects-from-being-stored-in-the-rendered-template-fields-38094">Prevent large string objects from being stored in the Rendered Template Fields (#38094)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#change-xcom-table-column-value-type-to-longblob-for-mysql-backend-38401">Change xcom table column value type to longblob for MySQL backend (#38401)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stronger-validation-for-key-parameter-defaults-in-taskflow-context-variables-38015">Stronger validation for key parameter defaults in taskflow context variables (#38015)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id34">New Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id35">Improvements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id36">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id37">Miscellaneous</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id38">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-8-4-2024-03-25">Airflow 2.8.4 (2024-03-25)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id39">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id40">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id41">Miscellaneous</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id42">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-8-3-2024-03-11">Airflow 2.8.3 (2024-03-11)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id43">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#the-smtp-provider-is-now-pre-installed-when-you-install-airflow-37713">The smtp provider is now pre-installed when you install Airflow. (#37713)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id44">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id45">Miscellaneous</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id46">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-8-2-2024-02-26">Airflow 2.8.2 (2024-02-26)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id47">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#the-allowed-deserialization-classes-flag-now-follows-a-glob-pattern-36147">The <code class="docutils literal notranslate"><span class="pre">allowed_deserialization_classes</span></code> flag now follows a glob pattern (#36147).</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-audit-logs-permissions-have-been-updated-for-heightened-security-37501">The audit_logs permissions have been updated for heightened security (#37501).</a></li>
<li class="toctree-l4"><a class="reference internal" href="#airflowtimeouterror-is-no-longer-except-by-default-through-exception-35653"><code class="docutils literal notranslate"><span class="pre">AirflowTimeoutError</span></code> is no longer <code class="docutils literal notranslate"><span class="pre">except</span></code> by default through <code class="docutils literal notranslate"><span class="pre">Exception</span></code> (#35653).</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id48">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id49">Miscellaneous</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id50">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-8-1-2024-01-19">Airflow 2.8.1 (2024-01-19)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id51">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#target-version-for-core-dependency-pendulum-package-set-to-3-36281">Target version for core dependency <code class="docutils literal notranslate"><span class="pre">pendulum</span></code> package set to 3 (#36281).</a></li>
<li class="toctree-l4"><a class="reference internal" href="#airflow-packaging-specification-follows-modern-python-packaging-standards-36537">Airflow packaging specification follows modern Python packaging standards (#36537).</a></li>
<li class="toctree-l4"><a class="reference internal" href="#graphviz-dependency-is-now-an-optional-one-not-required-one-36647">Graphviz dependency is now an optional one, not required one (#36647).</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id52">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id53">Miscellaneous</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id54">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-8-0-2023-12-18">Airflow 2.8.0 (2023-12-18)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id55">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#raw-html-code-in-dag-docs-and-dag-params-descriptions-is-disabled-by-default-35460">Raw HTML code in DAG docs and DAG params descriptions is disabled by default (#35460)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id56">New Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id57">Improvements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id58">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id59">Miscellaneous</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id60">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-7-3-2023-11-06">Airflow 2.7.3 (2023-11-06)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id61">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id62">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#misc-internal">Misc/Internal</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id63">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-7-2-2023-10-12">Airflow 2.7.2 (2023-10-12)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id64">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id65">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id66">Doc Only Changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id67">Misc/Internal</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-7-1-2023-09-07">Airflow 2.7.1 (2023-09-07)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id68">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#crontriggertimetable-is-now-less-aggressive-when-trying-to-skip-a-run-33404">CronTriggerTimetable is now less aggressive when trying to skip a run (#33404)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#conf-set-becomes-case-insensitive-to-match-conf-get-behavior-33452"><code class="docutils literal notranslate"><span class="pre">conf.set()</span></code> becomes case insensitive to match <code class="docutils literal notranslate"><span class="pre">conf.get()</span></code> behavior (#33452)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id69">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id70">Misc/Internal</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id71">Doc only changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-7-0-2023-08-18">Airflow 2.7.0 (2023-08-18)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id72">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#remove-python-3-7-support-30963">Remove Python 3.7 support (#30963)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#old-graph-view-is-removed-32958">Old Graph View is removed (#32958)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-trigger-ui-form-is-skipped-in-web-ui-if-no-parameters-are-defined-in-a-dag-33351">The trigger UI form is skipped in web UI if no parameters are defined in a DAG (#33351)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-db-init-db-upgrade-commands-and-database-load-default-connections-configuration-options-are-deprecated-33136">The “db init”, “db upgrade” commands and “[database] load_default_connections” configuration options are deprecated (#33136).</a></li>
<li class="toctree-l4"><a class="reference internal" href="#in-case-of-smtp-ssl-connection-the-context-now-uses-the-default-context-33070">In case of SMTP SSL connection, the context now uses the “default” context (#33070)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#disable-default-allowing-the-testing-of-connections-in-ui-api-and-cli-32052">Disable default allowing the testing of connections in UI, API and CLI(#32052)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-xcomentries-api-disables-support-for-the-deserialize-flag-by-default-32176">The <code class="docutils literal notranslate"><span class="pre">xcomEntries</span></code> API disables support for the <code class="docutils literal notranslate"><span class="pre">deserialize</span></code> flag by default (#32176)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#change-of-the-default-celery-application-name-32526">Change of the default Celery application name (#32526)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-default-value-for-scheduler-max-tis-per-query-is-changed-from-512-to-16-32572">The default value for <code class="docutils literal notranslate"><span class="pre">scheduler.max_tis_per_query</span></code> is changed from 512 to 16 (#32572)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#some-executors-have-been-moved-to-corresponding-providers-32767">Some executors have been moved to corresponding providers (#32767)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#improvement-changes">Improvement Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#postgresql-only-improvement-added-index-on-taskinstance-table-30762">PostgreSQL only improvement: Added index on taskinstance table (#30762)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id73">New Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id74">Improvements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id75">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id76">Misc/Internal</a></li>
<li class="toctree-l4"><a class="reference internal" href="#docs-only-changes">Docs only changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-6-3-2023-07-10">Airflow 2.6.3 (2023-07-10)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id77">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#default-allowed-pattern-of-a-run-id-has-been-changed-to-a-za-z0-9-32293">Default allowed pattern of a run_id has been changed to <code class="docutils literal notranslate"><span class="pre">^[A-Za-z0-9_.~:+-]+$</span></code> (#32293).</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id78">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id79">Misc/Internal</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id80">Doc only changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-6-2-2023-06-17">Airflow 2.6.2 (2023-06-17)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id81">Significant Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id82">Bug Fixes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id83">Misc/Internal</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id84">Doc only changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-6-1-2023-05-16">Airflow 2.6.1 (2023-05-16)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id85">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#clarifications-of-the-external-health-check-mechanism-and-using-job-classes-31277">Clarifications of the external Health Check mechanism and using <code class="docutils literal notranslate"><span class="pre">Job</span></code> classes (#31277).</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id86">Bug Fixes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id87">Misc/Internal</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id88">Doc only changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-6-0-2023-04-30">Airflow 2.6.0 (2023-04-30)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id89">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#default-permissions-of-file-task-handler-log-directories-and-files-has-been-changed-to-owner-group-writeable-29506">Default permissions of file task handler log directories and files has been changed to “owner + group” writeable (#29506).</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sla-callbacks-no-longer-add-files-to-the-dag-processor-manager-s-queue-30076">SLA callbacks no longer add files to the dag processor manager’s queue (#30076)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-cleanup-method-in-basetrigger-is-now-defined-as-asynchronous-following-async-await-pattern-30152">The <code class="docutils literal notranslate"><span class="pre">cleanup()</span></code> method in BaseTrigger is now defined as asynchronous (following async/await) pattern (#30152).</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-gauge-scheduler-tasks-running-no-longer-exist-30374">The gauge <code class="docutils literal notranslate"><span class="pre">scheduler.tasks.running</span></code> no longer exist (#30374)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#consolidate-handling-of-tasks-stuck-in-queued-under-new-task-queued-timeout-config-30375">Consolidate handling of tasks stuck in queued under new <code class="docutils literal notranslate"><span class="pre">task_queued_timeout</span></code> config (#30375)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id90">Improvement Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#display-only-the-running-configuration-in-configurations-view-28892">Display only the running configuration in configurations view (#28892)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#explicit-skipped-states-list-for-externaltasksensor-29933">Explicit skipped states list for ExternalTaskSensor (#29933)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#miscellaneous-changes">Miscellaneous Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#handle-overflowerror-on-exponential-backoff-in-next-run-calculation-28172">Handle OverflowError on exponential backoff in next_run_calculation (#28172)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#move-hive-macros-to-the-provider-28538">Move Hive macros to the provider (#28538)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#updated-app-to-support-configuring-the-caching-hash-method-for-fips-v2-30675">Updated app to support configuring the caching hash method for FIPS v2 (#30675)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id91">New Features</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id92">Improvements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id93">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id94">Misc/Internal</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id95">Doc only changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-5-3-2023-04-01">Airflow 2.5.3 (2023-04-01)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id96">Significant Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id97">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id98">Misc/Internal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id99">Doc only changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-5-2-2023-03-15">Airflow 2.5.2 (2023-03-15)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id100">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#the-date-time-fields-passed-as-api-parameters-or-params-should-be-rfc3339-compliant-29395">The date-time fields passed as API parameters or Params should be RFC3339-compliant (#29395)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-for-webserver-expose-hostname-changed-to-false-29547">Default for <code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">expose_hostname</span></code> changed to <code class="docutils literal notranslate"><span class="pre">False</span></code> (#29547)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id101">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id102">Misc/Internal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id103">Doc only changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-5-1-2023-01-20">Airflow 2.5.1 (2023-01-20)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id104">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#trigger-gevent-monkeypatching-via-environment-variable-28283">Trigger gevent <code class="docutils literal notranslate"><span class="pre">monkeypatching</span></code> via environment variable (#28283)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id105">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id106">Misc/Internal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id107">Doc only changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-5-0-2022-12-02">Airflow 2.5.0 (2022-12-02)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id108">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#airflow-dags-test-no-longer-performs-a-backfill-job-26400"><code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">dags</span> <span class="pre">test</span></code> no longer performs a backfill job (#26400)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#airflow-config-section-kubernetes-renamed-to-kubernetes-executor-26873">Airflow config section <code class="docutils literal notranslate"><span class="pre">kubernetes</span></code> renamed to <code class="docutils literal notranslate"><span class="pre">kubernetes_executor</span></code> (#26873)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#airflowexception-is-now-thrown-as-soon-as-any-dependent-tasks-of-externaltasksensor-fails-27190"><code class="docutils literal notranslate"><span class="pre">AirflowException</span></code> is now thrown as soon as any dependent tasks of ExternalTaskSensor fails (#27190)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-airflow-config-option-scheduler-deactivate-stale-dags-interval-has-been-renamed-to-scheduler-parsing-cleanup-interval-27828">The Airflow config option <code class="docutils literal notranslate"><span class="pre">scheduler.deactivate_stale_dags_interval</span></code> has been renamed to <code class="docutils literal notranslate"><span class="pre">scheduler.parsing_cleanup_interval</span></code> (#27828).</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id109">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id110">Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id111">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id112">Misc/Internal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id113">Doc only changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-4-3-2022-11-14">Airflow 2.4.3 (2022-11-14)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id114">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#make-rotatingfilehandler-used-in-dagprocessor-non-caching-27223">Make <code class="docutils literal notranslate"><span class="pre">RotatingFilehandler</span></code> used in <code class="docutils literal notranslate"><span class="pre">DagProcessor</span></code> non-caching (#27223)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id115">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id116">Misc/Internal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id117">Doc only changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-4-2-2022-10-23">Airflow 2.4.2 (2022-10-23)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id118">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#default-for-webserver-expose-stacktrace-changed-to-false-27059">Default for <code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">expose_stacktrace</span></code> changed to <code class="docutils literal notranslate"><span class="pre">False</span></code> (#27059)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id119">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id120">Misc/Internal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id121">Doc only changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-4-1-2022-09-30">Airflow 2.4.1 (2022-09-30)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id122">Significant Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id123">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id124">Doc only changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-4-0-2022-09-19">Airflow 2.4.0 (2022-09-19)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id125">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#data-aware-scheduling-and-dataset-concept-added-to-airflow">Data-aware Scheduling and <code class="docutils literal notranslate"><span class="pre">Dataset</span></code> concept added to Airflow</a></li>
<li class="toctree-l4"><a class="reference internal" href="#expanded-dynamic-task-mapping-support">Expanded dynamic task mapping support</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dags-used-in-a-context-manager-no-longer-need-to-be-assigned-to-a-module-variable-23592">DAGS used in a context manager no longer need to be assigned to a module variable (#23592)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#deprecation-of-schedule-interval-and-timetable-arguments-25410">Deprecation of <code class="docutils literal notranslate"><span class="pre">schedule_interval</span></code> and <code class="docutils literal notranslate"><span class="pre">timetable</span></code> arguments (#25410)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#removal-of-experimental-smart-sensors-25507">Removal of experimental Smart Sensors (#25507)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#airflow-contrib-packages-and-deprecated-modules-are-dynamically-generated-26153-26179-26167"><code class="docutils literal notranslate"><span class="pre">airflow.contrib</span></code> packages and deprecated modules are dynamically generated (#26153, #26179, #26167)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dbapihook-and-sqlsensor-have-moved-24836"><code class="docutils literal notranslate"><span class="pre">DBApiHook</span></code> and <code class="docutils literal notranslate"><span class="pre">SQLSensor</span></code> have moved (#24836)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dag-runs-sorting-logic-changed-in-grid-view-25090">DAG runs sorting logic changed in grid view (#25090)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id126">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id127">Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id128">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id129">Misc/Internal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id130">Doc only changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-3-4-2022-08-23">Airflow 2.3.4 (2022-08-23)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id131">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#added-new-config-logging-log-formatter-class-to-fix-timezone-display-for-logs-on-ui-24811">Added new config <code class="docutils literal notranslate"><span class="pre">[logging]log_formatter_class</span></code> to fix timezone display for logs on UI (#24811)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id132">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id133">Doc only changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id134">Misc/Internal</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-3-3-2022-07-09">Airflow 2.3.3 (2022-07-09)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id135">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#we-ve-upgraded-flask-app-builder-to-a-major-version-4-24399">We’ve upgraded Flask App Builder to a major version 4.* (#24399)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id136">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id137">Doc only changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id138">Misc/Internal</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-3-2-2022-06-04">Airflow 2.3.2 (2022-06-04)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id139">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id140">Doc only changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id141">Misc/Internal</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-3-1-2022-05-25">Airflow 2.3.1 (2022-05-25)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id142">Significant Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id143">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id144">Doc only changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id145">Misc/Internal</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-3-0-2022-04-30">Airflow 2.3.0 (2022-04-30)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id146">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#passing-execution-date-to-xcom-set-xcom-clear-xcom-get-one-and-xcom-get-many-is-deprecated-19825">Passing <code class="docutils literal notranslate"><span class="pre">execution_date</span></code> to <code class="docutils literal notranslate"><span class="pre">XCom.set()</span></code>, <code class="docutils literal notranslate"><span class="pre">XCom.clear()</span></code> , <code class="docutils literal notranslate"><span class="pre">XCom.get_one()</span></code> , and <code class="docutils literal notranslate"><span class="pre">XCom.get_many()</span></code> is deprecated (#19825)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#task-log-templates-are-now-read-from-the-metadata-database-instead-of-airflow-cfg-20165">Task log templates are now read from the metadata database instead of <code class="docutils literal notranslate"><span class="pre">airflow.cfg</span></code> (#20165)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#minimum-kubernetes-library-version-bumped-from-3-0-0-to-21-7-0-20759">Minimum kubernetes library version bumped from <code class="docutils literal notranslate"><span class="pre">3.0.0</span></code> to <code class="docutils literal notranslate"><span class="pre">21.7.0</span></code> (#20759)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xcom-now-defined-by-run-id-instead-of-execution-date-20975">XCom now defined by <code class="docutils literal notranslate"><span class="pre">run_id</span></code> instead of <code class="docutils literal notranslate"><span class="pre">execution_date</span></code> (#20975)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#non-json-serializable-params-deprecated-21135">Non-JSON-serializable params deprecated (#21135).</a></li>
<li class="toctree-l4"><a class="reference internal" href="#you-must-use-postgresql-instead-of-postgres-in-sql-alchemy-conn-for-sqlalchemy-1-4-0-21205">You must use <code class="docutils literal notranslate"><span class="pre">postgresql://</span></code> instead of <code class="docutils literal notranslate"><span class="pre">postgres://</span></code> in <code class="docutils literal notranslate"><span class="pre">sql_alchemy_conn</span></code> for SQLAlchemy 1.4.0+ (#21205)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#auth-backends-replaces-auth-backend-configuration-setting-21472"><code class="docutils literal notranslate"><span class="pre">auth_backends</span></code> replaces <code class="docutils literal notranslate"><span class="pre">auth_backend</span></code> configuration setting (#21472)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#airflow-models-base-operator-is-removed-21505"><code class="docutils literal notranslate"><span class="pre">airflow.models.base.Operator</span></code> is removed (#21505)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#zip-files-in-the-dags-folder-can-no-longer-have-a-py-extension-21538">Zip files in the DAGs folder can no longer have a <code class="docutils literal notranslate"><span class="pre">.py</span></code> extension (#21538)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#auth-backends-includes-session-21640"><code class="docutils literal notranslate"><span class="pre">auth_backends</span></code> includes session (#21640)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-templates-for-log-filenames-and-elasticsearch-log-id-changed-21734">Default templates for log filenames and elasticsearch log_id changed (#21734)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#baseoperatorlink-s-get-link-method-changed-to-take-a-ti-key-keyword-argument-21798">BaseOperatorLink’s <code class="docutils literal notranslate"><span class="pre">get_link</span></code> method changed to take a <code class="docutils literal notranslate"><span class="pre">ti_key</span></code> keyword argument (#21798)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#readytorescheduledep-now-only-runs-when-reschedule-is-true-21815"><code class="docutils literal notranslate"><span class="pre">ReadyToRescheduleDep</span></code> now only runs when <code class="docutils literal notranslate"><span class="pre">reschedule</span></code> is <em>True</em> (#21815)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-deps-attribute-on-an-operator-class-should-be-a-class-level-attribute-21815">The <code class="docutils literal notranslate"><span class="pre">deps</span></code> attribute on an operator class should be a class level attribute (#21815)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#deprecation-connection-extra-must-be-json-encoded-dict-21816">Deprecation: <code class="docutils literal notranslate"><span class="pre">Connection.extra</span></code> must be JSON-encoded dict (#21816)</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#tldr">TLDR</a></li>
<li class="toctree-l5"><a class="reference internal" href="#what-why-and-when">What, why, and when?</a></li>
<li class="toctree-l5"><a class="reference internal" href="#how-will-i-be-affected">How will I be affected?</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#the-tree-default-view-setting-has-been-renamed-to-grid-22167">The <code class="docutils literal notranslate"><span class="pre">tree</span></code> default view setting has been renamed to <code class="docutils literal notranslate"><span class="pre">grid</span></code> (#22167)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#database-configuration-moved-to-new-section-22284">Database configuration moved to new section (#22284)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#remove-requirement-that-custom-connection-ui-fields-be-prefixed-22607">Remove requirement that custom connection UI fields be prefixed (#22607)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-webserver-x-frame-enabled-configuration-works-according-to-description-now-23222">The webserver.X_FRAME_ENABLED configuration works according to description now (#23222).</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id147">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id148">Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id149">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id150">Doc only changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id151">Misc/Internal</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-2-5-2022-04-04">Airflow 2.2.5, (2022-04-04)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id152">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id153">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id154">Doc only changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#misc">Misc</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-2-4-2022-02-22">Airflow 2.2.4, (2022-02-22)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id155">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#smart-sensors-deprecated">Smart sensors deprecated</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id156">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id157">Doc only changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id158">Misc</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-2-3-2021-12-21">Airflow 2.2.3, (2021-12-21)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id159">Significant Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id160">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id161">Doc only changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-2-2-2021-11-15">Airflow 2.2.2 (2021-11-15)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id162">Significant Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id163">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id164">Doc only changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-2-1-2021-10-29">Airflow 2.2.1 (2021-10-29)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id165">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#param-s-default-value-for-default-removed"><code class="docutils literal notranslate"><span class="pre">Param</span></code>’s default value for <code class="docutils literal notranslate"><span class="pre">default</span></code> removed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#max-queued-runs-per-dag-configuration-has-been-removed"><code class="docutils literal notranslate"><span class="pre">max_queued_runs_per_dag</span></code> configuration has been removed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id166">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id167">Doc only changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-2-0-2021-10-11">Airflow 2.2.0 (2021-10-11)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id168">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#worker-log-server-port-configuration-has-been-moved-to-the-logging-section"><code class="docutils literal notranslate"><span class="pre">worker_log_server_port</span></code> configuration has been moved to the <code class="docutils literal notranslate"><span class="pre">logging</span></code> section.</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pandas-is-now-an-optional-dependency"><code class="docutils literal notranslate"><span class="pre">pandas</span></code> is now an optional dependency</a></li>
<li class="toctree-l4"><a class="reference internal" href="#none-failed-or-skipped-trigger-rule-has-been-deprecated"><code class="docutils literal notranslate"><span class="pre">none_failed_or_skipped</span></code> trigger rule has been deprecated</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dummy-trigger-rule-has-been-deprecated">Dummy trigger rule has been deprecated</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dag-concurrency-settings-have-been-renamed">DAG concurrency settings have been renamed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#task-concurrency-parameter-has-been-renamed">Task concurrency parameter has been renamed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#processor-poll-interval-config-have-been-renamed-to-scheduler-idle-sleep-time"><code class="docutils literal notranslate"><span class="pre">processor_poll_interval</span></code> config have been renamed to <code class="docutils literal notranslate"><span class="pre">scheduler_idle_sleep_time</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#marking-success-failed-automatically-clears-failed-downstream-tasks">Marking success/failed automatically clears failed downstream tasks</a></li>
<li class="toctree-l4"><a class="reference internal" href="#core-store-dag-code-has-been-removed"><code class="docutils literal notranslate"><span class="pre">[core]</span> <span class="pre">store_dag_code</span></code> has been removed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#clearing-a-running-task-sets-its-state-to-restarting">Clearing a running task sets its state to <code class="docutils literal notranslate"><span class="pre">RESTARTING</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#remove-taskinstance-log-filepath-attribute">Remove <code class="docutils literal notranslate"><span class="pre">TaskInstance.log_filepath</span></code> attribute</a></li>
<li class="toctree-l4"><a class="reference internal" href="#if-a-sensor-times-out-it-will-not-retry">If a sensor times out, it will not retry</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-task-pools-slots-can-be-set-using-core-default-pool-task-slot-count">Default Task Pools Slots can be set using <code class="docutils literal notranslate"><span class="pre">[core]</span> <span class="pre">default_pool_task_slot_count</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#webserver-dag-refresh-buttons-removed">Webserver DAG refresh buttons removed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#taskinstances-now-require-a-dagrun">TaskInstances now <em>require</em> a DagRun</a></li>
<li class="toctree-l4"><a class="reference internal" href="#taskinstance-and-taskreschedule-now-define-run-id-instead-of-execution-date">TaskInstance and TaskReschedule now define <code class="docutils literal notranslate"><span class="pre">run_id</span></code> instead of <code class="docutils literal notranslate"><span class="pre">execution_date</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#daskexecutor-dask-worker-resources-and-queues">DaskExecutor - Dask Worker Resources and queues</a></li>
<li class="toctree-l4"><a class="reference internal" href="#logical-date-of-a-dag-run-triggered-from-the-web-ui-now-have-its-sub-second-component-set-to-zero">Logical date of a DAG run triggered from the web UI now have its sub-second component set to zero</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id171">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id172">Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id173">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id174">Doc only changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id175">Misc/Internal</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-1-4-2021-09-18">Airflow 2.1.4 (2021-09-18)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id176">Significant Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id177">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id178">Doc only changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-1-3-2021-08-23">Airflow 2.1.3 (2021-08-23)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id179">Significant Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id180">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id181">Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id182">Doc only changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id183">Misc</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-1-2-2021-07-14">Airflow 2.1.2 (2021-07-14)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id184">Significant Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id185">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id186">Misc</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-1-1-2021-07-02">Airflow 2.1.1 (2021-07-02)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id187">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#activate-dag-runs-argument-of-the-function-clear-task-instances-is-replaced-with-dag-run-state"><code class="docutils literal notranslate"><span class="pre">activate_dag_runs</span></code> argument of the function <code class="docutils literal notranslate"><span class="pre">clear_task_instances</span></code> is replaced with <code class="docutils literal notranslate"><span class="pre">dag_run_state</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dag-set-dag-runs-state-is-deprecated"><code class="docutils literal notranslate"><span class="pre">dag.set_dag_runs_state</span></code> is deprecated</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id189">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-1-0-2021-05-21">Airflow 2.1.0 (2021-05-21)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id190">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#new-deprecated-api-extra">New “deprecated_api” extra</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-http-provider-is-not-installed-by-default">The <code class="docutils literal notranslate"><span class="pre">http</span></code> provider is not installed by default</a></li>
<li class="toctree-l4"><a class="reference internal" href="#apply-default-decorator-isn-t-longer-necessary"><code class="docutils literal notranslate"><span class="pre">&#64;apply_default</span></code> decorator isn’t longer necessary</a></li>
<li class="toctree-l4"><a class="reference internal" href="#change-the-configuration-options-for-field-masking">Change the configuration options for field masking</a></li>
<li class="toctree-l4"><a class="reference internal" href="#deprecated-poddefaults-and-add-xcom-sidecar-in-airflow-kubernetes-pod-generator">Deprecated PodDefaults and add_xcom_sidecar in airflow.kubernetes.pod_generator</a></li>
<li class="toctree-l4"><a class="reference internal" href="#removed-pod-launcher-from-core-airflow">Removed pod_launcher from core airflow</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-webserver-worker-refresh-interval-is-changed-to-6000-seconds">Default <code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">worker_refresh_interval</span></code> is changed to <code class="docutils literal notranslate"><span class="pre">6000</span></code> seconds</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-queue-configuration-has-been-moved-to-the-operators-section"><code class="docutils literal notranslate"><span class="pre">default_queue</span></code> configuration has been moved to the <code class="docutils literal notranslate"><span class="pre">operators</span></code> section.</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id191">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id192">Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id193">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id194">Doc only changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id195">Misc/Internal</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-0-2-2021-04-19">Airflow 2.0.2 (2021-04-19)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id196">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#default-kubernetes-enable-tcp-keepalive-is-changed-to-true">Default <code class="docutils literal notranslate"><span class="pre">[kubernetes]</span> <span class="pre">enable_tcp_keepalive</span></code> is changed to <code class="docutils literal notranslate"><span class="pre">True</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sync-perm-cli-no-longer-syncs-dag-specific-permissions-by-default"><code class="docutils literal notranslate"><span class="pre">sync-perm</span></code> CLI no longer syncs DAG specific permissions by default</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id197">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id198">Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id199">Doc only changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id200">Misc/Internal</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-0-1-2021-02-08">Airflow 2.0.1 (2021-02-08)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id201">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#permission-to-view-airflow-configurations-has-been-removed-from-user-and-viewer-role">Permission to view Airflow Configurations has been removed from <code class="docutils literal notranslate"><span class="pre">User</span></code> and <code class="docutils literal notranslate"><span class="pre">Viewer</span></code> role</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-celery-worker-concurrency-is-changed-to-16">Default <code class="docutils literal notranslate"><span class="pre">[celery]</span> <span class="pre">worker_concurrency</span></code> is changed to <code class="docutils literal notranslate"><span class="pre">16</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-scheduler-min-file-process-interval-is-changed-to-30">Default <code class="docutils literal notranslate"><span class="pre">[scheduler]</span> <span class="pre">min_file_process_interval</span></code> is changed to <code class="docutils literal notranslate"><span class="pre">30</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id202">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id203">Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id204">Doc only changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-0-0-2020-12-18">Airflow 2.0.0 (2020-12-18)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id205">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#major-changes">Major changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-experimental-rest-api-is-disabled-by-default">The experimental REST API is disabled by default</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sparkjdbchook-default-connection">SparkJDBCHook default connection</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-to-output-argument-in-commands">Changes to output argument in commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="#azure-wasb-hook-does-not-work-together-with-snowflake-hook">Azure Wasb Hook does not work together with Snowflake hook</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rename-all-to-devel-all-extra">Rename <code class="docutils literal notranslate"><span class="pre">all</span></code> to <code class="docutils literal notranslate"><span class="pre">devel_all</span></code> extra</a></li>
<li class="toctree-l4"><a class="reference internal" href="#context-variables-prev-execution-date-success-and-prev-execution-date-success-are-now-pendulum-datetime">Context variables <code class="docutils literal notranslate"><span class="pre">prev_execution_date_success</span></code> and <code class="docutils literal notranslate"><span class="pre">prev_execution_date_success</span></code> are now <code class="docutils literal notranslate"><span class="pre">pendulum.DateTime</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#rename-policy-to-task-policy">Rename policy to task_policy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-value-for-celery-operation-timeout-has-changed-to-1-0">Default value for <code class="docutils literal notranslate"><span class="pre">[celery]</span> <span class="pre">operation_timeout</span></code> has changed to <code class="docutils literal notranslate"><span class="pre">1.0</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#adding-operators-and-sensors-via-plugins-is-no-longer-supported">Adding Operators and Sensors via plugins is no longer supported</a></li>
<li class="toctree-l4"><a class="reference internal" href="#importing-hooks-via-plugins-is-no-longer-supported">Importing Hooks via plugins is no longer supported</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-default-value-for-core-enable-xcom-pickling-has-been-changed-to-false">The default value for <code class="docutils literal notranslate"><span class="pre">[core]</span> <span class="pre">enable_xcom_pickling</span></code> has been changed to <code class="docutils literal notranslate"><span class="pre">False</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#airflowignore-of-base-path">Airflowignore of base path</a></li>
<li class="toctree-l4"><a class="reference internal" href="#externaltasksensor-provides-all-task-context-variables-to-execution-date-fn-as-keyword-arguments"><code class="docutils literal notranslate"><span class="pre">ExternalTaskSensor</span></code> provides all task context variables to <code class="docutils literal notranslate"><span class="pre">execution_date_fn</span></code> as keyword arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-default-value-for-webserver-cookie-samesite-has-been-changed-to-lax">The default value for <code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">cookie_samesite</span></code> has been changed to <code class="docutils literal notranslate"><span class="pre">Lax</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="#changes-to-import-paths">Changes to import paths</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#database-schema-changes">Database schema changes</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#unique-conn-id-in-connection-table">Unique conn_id in connection table</a></li>
<li class="toctree-l5"><a class="reference internal" href="#not-nullable-conn-type-column-in-connection-table">Not-nullable conn_type column in connection table</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#configuration-changes">Configuration changes</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#airflow-contrib-utils-log-has-been-moved">airflow.contrib.utils.log has been moved</a></li>
<li class="toctree-l5"><a class="reference internal" href="#sendgrid-emailer-has-been-moved">SendGrid emailer has been moved</a></li>
<li class="toctree-l5"><a class="reference internal" href="#unify-hostname-callable-option-in-core-section">Unify <code class="docutils literal notranslate"><span class="pre">hostname_callable</span></code> option in <code class="docutils literal notranslate"><span class="pre">core</span></code> section</a></li>
<li class="toctree-l5"><a class="reference internal" href="#custom-executors-is-loaded-using-full-import-path">Custom executors is loaded using full import path</a></li>
<li class="toctree-l5"><a class="reference internal" href="#use-customsqlainterface-instead-of-sqlainterface-for-custom-data-models">Use <code class="docutils literal notranslate"><span class="pre">CustomSQLAInterface</span></code> instead of <code class="docutils literal notranslate"><span class="pre">SQLAInterface</span></code> for custom data models.</a></li>
<li class="toctree-l5"><a class="reference internal" href="#drop-plugin-support-for-stat-name-handler">Drop plugin support for stat_name_handler</a></li>
<li class="toctree-l5"><a class="reference internal" href="#logging-configuration-has-been-moved-to-new-section">Logging configuration has been moved to new section</a></li>
<li class="toctree-l5"><a class="reference internal" href="#metrics-configuration-has-been-moved-to-new-section">Metrics configuration has been moved to new section</a></li>
<li class="toctree-l5"><a class="reference internal" href="#changes-to-elasticsearch-logging-provider">Changes to Elasticsearch logging provider</a></li>
<li class="toctree-l5"><a class="reference internal" href="#remove-gcp-service-account-keys-option-in-airflow-cfg-file">Remove gcp_service_account_keys option in airflow.cfg file</a></li>
<li class="toctree-l5"><a class="reference internal" href="#fernet-is-enabled-by-default">Fernet is enabled by default</a></li>
<li class="toctree-l5"><a class="reference internal" href="#changes-to-propagating-kubernetes-worker-annotations">Changes to propagating Kubernetes worker annotations</a></li>
<li class="toctree-l5"><a class="reference internal" href="#remove-run-duration">Remove run_duration</a></li>
<li class="toctree-l5"><a class="reference internal" href="#rename-pool-statsd-metrics">Rename pool statsd metrics</a></li>
<li class="toctree-l5"><a class="reference internal" href="#removal-of-mesos-executor">Removal of Mesos Executor</a></li>
<li class="toctree-l5"><a class="reference internal" href="#change-dag-loading-duration-metric-name">Change dag loading duration metric name</a></li>
<li class="toctree-l5"><a class="reference internal" href="#sentry-is-disabled-by-default">Sentry is disabled by default</a></li>
<li class="toctree-l5"><a class="reference internal" href="#simplified-gcstaskhandler-configuration">Simplified GCSTaskHandler configuration</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#changes-to-the-core-operators-hooks">Changes to the core operators/hooks</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#basesensoroperator-now-respects-the-trigger-rule-of-downstream-tasks">BaseSensorOperator now respects the trigger_rule of downstream tasks</a></li>
<li class="toctree-l5"><a class="reference internal" href="#baseoperator-uses-metaclass">BaseOperator uses metaclass</a></li>
<li class="toctree-l5"><a class="reference internal" href="#remove-sql-support-in-basehook">Remove SQL support in BaseHook</a></li>
<li class="toctree-l5"><a class="reference internal" href="#assigning-task-to-a-dag-using-bitwise-shift-bit-shift-operators-are-no-longer-supported">Assigning task to a DAG using bitwise shift (bit-shift) operators are no longer supported</a></li>
<li class="toctree-l5"><a class="reference internal" href="#removed-deprecated-import-mechanism">Removed deprecated import mechanism</a></li>
<li class="toctree-l5"><a class="reference internal" href="#changes-to-sensor-imports">Changes to sensor imports</a></li>
<li class="toctree-l5"><a class="reference internal" href="#skipped-tasks-can-satisfy-wait-for-downstream">Skipped tasks can satisfy wait_for_downstream</a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-utils-helpers-cross-downstream"><code class="docutils literal notranslate"><span class="pre">airflow.utils.helpers.cross_downstream</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-utils-helpers-chain"><code class="docutils literal notranslate"><span class="pre">airflow.utils.helpers.chain</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-operators-python-branchpythonoperator"><code class="docutils literal notranslate"><span class="pre">airflow.operators.python.BranchPythonOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-sensors-sql-sensor-sqlsensor"><code class="docutils literal notranslate"><span class="pre">airflow.sensors.sql_sensor.SqlSensor</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-operators-trigger-dagrun-triggerdagrunoperator"><code class="docutils literal notranslate"><span class="pre">airflow.operators.trigger_dagrun.TriggerDagRunOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-operators-python-pythonoperator"><code class="docutils literal notranslate"><span class="pre">airflow.operators.python.PythonOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-standard-sensors-filesystem-filesensor"><code class="docutils literal notranslate"><span class="pre">airflow.providers.standard.sensors.filesystem.FileSensor</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-operators-subdag-operator-subdagoperator"><code class="docutils literal notranslate"><span class="pre">airflow.operators.subdag_operator.SubDagOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-datastore-clouddatastoreexportentitiesoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.datastore.CloudDatastoreExportEntitiesOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-datastore-clouddatastoreimportentitiesoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.datastore.CloudDatastoreImportEntitiesOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-cncf-kubernetes-operators-kubernetes-pod-kubernetespodoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.cncf.kubernetes.operators.kubernetes_pod.KubernetesPodOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-ssh-operators-ssh-sshoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.ssh.operators.ssh.SSHOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-microsoft-winrm-operators-winrm-winrmoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.microsoft.winrm.operators.winrm.WinRMOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-operators-bash-bashoperator"><code class="docutils literal notranslate"><span class="pre">airflow.operators.bash.BashOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-docker-operators-docker-dockeroperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.docker.operators.docker.DockerOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-http-operators-http-simplehttpoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.http.operators.http.SimpleHttpOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-operators-latest-only-operator-latestonlyoperator"><code class="docutils literal notranslate"><span class="pre">airflow.operators.latest_only_operator.LatestOnlyOperator</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#changes-to-the-core-python-api">Changes to the core Python API</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#removed-sub-package-imports-from-airflow-init-py">Removed sub-package imports from <code class="docutils literal notranslate"><span class="pre">airflow/__init__.py</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#variables-removed-from-the-task-instance-context">Variables removed from the task instance context</a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-contrib-utils-weekday"><code class="docutils literal notranslate"><span class="pre">airflow.contrib.utils.Weekday</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-models-connection-connection"><code class="docutils literal notranslate"><span class="pre">airflow.models.connection.Connection</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-models-dag-dag-create-dagrun"><code class="docutils literal notranslate"><span class="pre">airflow.models.dag.DAG.create_dagrun</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-models-dagrun-dagrun"><code class="docutils literal notranslate"><span class="pre">airflow.models.dagrun.DagRun</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-utils-file-temporarydirectory"><code class="docutils literal notranslate"><span class="pre">airflow.utils.file.TemporaryDirectory</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-airflowmacroplugin"><code class="docutils literal notranslate"><span class="pre">airflow.AirflowMacroPlugin</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-settings-context-manager-dag"><code class="docutils literal notranslate"><span class="pre">airflow.settings.CONTEXT_MANAGER_DAG</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-utils-log-logging-mixin-redirect-stderr"><code class="docutils literal notranslate"><span class="pre">airflow.utils.log.logging_mixin.redirect_stderr</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-utils-log-logging-mixin-redirect-stdout"><code class="docutils literal notranslate"><span class="pre">airflow.utils.log.logging_mixin.redirect_stdout</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-models-baseoperator-baseoperator"><code class="docutils literal notranslate"><span class="pre">airflow.models.baseoperator.BaseOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-models-dagbag-dagbag"><code class="docutils literal notranslate"><span class="pre">airflow.models.dagbag.DagBag</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-google-provider-package">Changes in <code class="docutils literal notranslate"><span class="pre">google</span></code> provider package</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#direct-impersonation-added-to-operators-communicating-with-google-services">Direct impersonation added to operators communicating with Google services</a></li>
<li class="toctree-l5"><a class="reference internal" href="#normalize-gcp-conn-id-for-google-cloud">Normalize gcp_conn_id for Google Cloud</a></li>
<li class="toctree-l5"><a class="reference internal" href="#changes-to-import-paths-and-names-of-gcp-operators-and-hooks">Changes to import paths and names of GCP operators and hooks</a></li>
<li class="toctree-l5"><a class="reference internal" href="#unify-default-conn-id-for-google-cloud">Unify default conn_id for Google Cloud</a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-hooks-dataflow-dataflowhook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.dataflow.DataflowHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-dataflow-dataflowcreatejavajoboperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataflow.DataflowCreateJavaJobOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-dataflow-dataflowtemplatedjobstartoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataflow.DataflowTemplatedJobStartOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-dataflow-dataflowcreatepythonjoboperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataflow.DataflowCreatePythonJobOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-sensors-gcs-gcsuploadsessioncompletesensor"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.sensors.gcs.GCSUploadSessionCompleteSensor</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-hooks-bigquery-bigquerybasecursor"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-hooks-bigquery-bigqueryhook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#id208"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-bigquery-bigquerycreateemptytableoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigquery.BigQueryCreateEmptyTableOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-bigquery-bigquerycreateemptydatasetoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigquery.BigQueryCreateEmptyDatasetOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#id209"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.dataflow.DataflowHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-hooks-mlengine-mlenginehook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.mlengine.MLEngineHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-hooks-pubsub-pubsubhook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.pubsub.PubSubHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#id210"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.pubsub.PubSubHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-pubsub-pubsubtopiccreateoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.pubsub.PubSubTopicCreateOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-pubsub-pubsubsubscriptioncreateoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.pubsub.PubSubSubscriptionCreateOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-pubsub-pubsubtopicdeleteoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.pubsub.PubSubTopicDeleteOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-pubsub-pubsubsubscriptiondeleteoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.pubsub.PubSubSubscriptionDeleteOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-pubsub-pubsubpublishoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.pubsub.PubSubPublishOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-sensors-pubsub-pubsubpullsensor"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.sensors.pubsub.PubSubPullSensor</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-kubernetes-engine-gkestartpodoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.kubernetes_engine.GKEStartPodOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-hooks-gcs-gcshook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.gcs.GCSHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-dataproc-dataprocsubmitpigjoboperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocSubmitPigJobOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-dataproc-dataprocsubmithivejoboperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocSubmitHiveJobOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-dataproc-dataprocsubmitsparksqljoboperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocSubmitSparkSqlJobOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-dataproc-dataprocsubmitsparkjoboperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocSubmitSparkJobOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-dataproc-dataprocsubmithadoopjoboperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocSubmitHadoopJobOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-dataproc-dataprocsubmitpysparkjoboperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocSubmitPySparkJobOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-cloud-storage-transfer-service-clouddatatransferservicecreatejoboperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.cloud_storage_transfer_service.CloudDataTransferServiceCreateJobOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-hooks-cloud-storage-transfer-service-clouddatatransferservicehook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.cloud_storage_transfer_service.CloudDataTransferServiceHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#id211"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-hooks-cloud-build-cloudbuildhook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.cloud_build.CloudBuildHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-cloud-build-cloudbuildcreatebuildoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.cloud_build.CloudBuildCreateBuildOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-hooks-dataflow-dataflowhook-start-python-dataflow"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.dataflow.DataflowHook.start_python_dataflow</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#id212"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.dataflow.DataflowHook.start_python_dataflow</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#id213"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataflow.DataflowCreatePythonJobOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-common-hooks-base-google-googlebasehook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.common.hooks.base_google.GoogleBaseHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-dataproc-dataproccreateclusteroperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocCreateClusterOperator</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#generating-cluster-config">Generating Cluster Config</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-bigquery-bigquerygetdatasettablesoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigquery.BigQueryGetDatasetTablesOperator</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-amazon-provider-package">Changes in <code class="docutils literal notranslate"><span class="pre">amazon</span></code> provider package</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#migration-of-aws-components">Migration of AWS components</a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-amazon-aws-hooks-emr-emrhook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.hooks.emr.EmrHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-amazon-aws-operators-emr-add-steps-emraddstepsoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.operators.emr_add_steps.EmrAddStepsOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-amazon-aws-operators-emr-create-job-flow-emrcreatejobflowoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.operators.emr_create_job_flow.EmrCreateJobFlowOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-amazon-aws-operators-emr-terminate-job-flow-emrterminatejobflowoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.operators.emr_terminate_job_flow.EmrTerminateJobFlowOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-amazon-aws-operators-batch-awsbatchoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.operators.batch.AwsBatchOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-amazon-aws-sensors-athena-athenasensor"><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.sensors.athena.AthenaSensor</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-amazon-aws-hooks-s3-s3hook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.hooks.s3.S3Hook</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-other-provider-packages">Changes in other provider packages</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#changed-return-type-of-list-prefixes-and-list-keys-methods-in-s3hook">Changed return type of <code class="docutils literal notranslate"><span class="pre">list_prefixes</span></code> and <code class="docutils literal notranslate"><span class="pre">list_keys</span></code> methods in <code class="docutils literal notranslate"><span class="pre">S3Hook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#removed-hipchat-integration">Removed HipChat integration</a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-salesforce-hooks-salesforce-salesforcehook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.salesforce.hooks.salesforce.SalesforceHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-apache-pinot-hooks-pinot-pinotadminhook-create-segment"><code class="docutils literal notranslate"><span class="pre">airflow.providers.apache.pinot.hooks.pinot.PinotAdminHook.create_segment</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-apache-hive-hooks-hive-hivemetastorehook-get-partitions"><code class="docutils literal notranslate"><span class="pre">airflow.providers.apache.hive.hooks.hive.HiveMetastoreHook.get_partitions</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-ftp-hooks-ftp-ftphook-list-directory"><code class="docutils literal notranslate"><span class="pre">airflow.providers.ftp.hooks.ftp.FTPHook.list_directory</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-postgres-hooks-postgres-postgreshook-copy-expert"><code class="docutils literal notranslate"><span class="pre">airflow.providers.postgres.hooks.postgres.PostgresHook.copy_expert</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-opsgenie-operators-opsgenie-alert-opsgeniealertoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.opsgenie.operators.opsgenie_alert.OpsgenieAlertOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-imap-hooks-imap-imaphook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.imap.hooks.imap.ImapHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-imap-sensors-imap-attachment-imapattachmentsensor"><code class="docutils literal notranslate"><span class="pre">airflow.providers.imap.sensors.imap_attachment.ImapAttachmentSensor</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-http-hooks-http-httphook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.http.hooks.http.HttpHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-cloudant-hooks-cloudant-cloudanthook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.cloudant.hooks.cloudant.CloudantHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-snowflake"><code class="docutils literal notranslate"><span class="pre">airflow.providers.snowflake</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#other-changes">Other changes</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#standardized-extra-requirements">Standardized “extra” requirements</a></li>
<li class="toctree-l5"><a class="reference internal" href="#simplify-the-response-payload-of-endpoints-dag-stats-and-task-stats">Simplify the response payload of endpoints /dag_stats and /task_stats</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="privacy_notice.html">Privacy Notice</a></li>
<li class="toctree-l1"><a class="reference internal" href="project.html">Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="operators-and-hooks-ref.html">Operators and hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli-and-env-variables-ref.html">CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="templates-ref.html">Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="stable-rest-api-ref.html">Airflow public API</a></li>
<li class="toctree-l1"><a class="reference internal" href="configurations-ref.html">Configurations</a></li>
<li class="toctree-l1"><a class="reference internal" href="extra-packages-ref.html">Extra packages</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Internal DB details</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="migrations-ref.html">Database Migrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="database-erd-ref.html">Database ERD Schema</a></li>
</ul>

</div>

<style type="text/css">
    .toctree {
    }
    .toctree li {
        list-style: none;
    }
    .toctree .caption {
        font-family: Roboto;
        font-size: 18px;
        font-weight: bold;
        font-stretch: normal;
        font-style: normal;
        line-height: 1.33;
        letter-spacing: normal;
        color: #51504f;
        padding-bottom: 13px;
        text-transform: uppercase;
        margin-bottom: 0;
    }
    .toctree .current > a:not([href="#"])  {
        color: #017cee;
    }
    .toctree > ul {
        padding-left: 0;
    }
    .toctree ul {
        padding-left: 15px;
        display: none;
    }
    .toctree > ul,
    .toctree li.current > ul {
        display: block;
    }

    .toctree a .toctree-expand {
        display: inline-block;
        position: relative;
        height: 1em;
    }

    .toctree a .toctree-expand:before {
        position: absolute;
        top: 6px;
        left: -12px;
        content: '►';
        font-size: 7px;
    }
    .toctree .current > a > .toctree-expand:before {
        content: '▼';
    }

    .toctree .current {
        color: #017cee;
    }
    .toctree li {
        font-family: Roboto;
        font-size: 16px;
        font-weight: normal;
        font-stretch: normal;
        font-style: normal;
        line-height: 1.63;
        letter-spacing: normal;
        color: #707070;
    }

</style>
                </div>
            </div>
        </div>
    </div>
        
        <div class="d-flex">
            
            
    <div class="td-sidebar desktop-only d-print-none">

<div id="docs-version-selector" class="docs-version-selector sidebar__version-selector">
    <a class="dropdown-toggle" href="#" id="versionDropdown" role="button" data-toggle="dropdown" aria-haspopup="true"
       aria-expanded="false">
        <span class="bodytext__medium--greyish-brown">Version: </span><span class="version">3.0.0</span>
    </a>
    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">

    </div>
    <script type="application/x-template" id="version-item-template">
        <a class="dropdown-item"></a>
    </script>
</div>

<div class="searchb-box">
    <form class="search-form" action="search.html" method="get">
        <input class="search-form__input" type="text" name="q" placeholder="Search docs" size="16">
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />

        <button class="search-form__button" type="submit">

            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
                <g id="Group_1579" data-name="Group 1579" transform="translate(-41.001 -41)">
                    <path id="Path_169" d="M71.415 64.687a7.215 7.215 0 1 0-6.729 6.728 7.222 7.222 0 0 0 6.729-6.728z" fill="none" data-name="Path 169" transform="translate(-14.277 -14.276)"></path>
                    <path id="Path_170" d="M60.863 59.8l-6.093-6.09a7.78 7.78 0 1 0-1.06 1.06l6.09 6.093a.468.468 0 0 0 .662 0l.4-.4a.468.468 0 0 0 .001-.663zM42.512 49.183a6.274 6.274 0 1 1 5.851 5.85 6.28 6.28 0 0 1-5.851-5.85z" fill="#51504f" data-name="Path 170"></path>
                </g>
            </svg>
        </button>
    </form>
</div>


<style>
    .searchb-box {
        margin-bottom: 26px;
    }
    .searchb-box .search-form {
        width: 100%;
        margin-top: 20px;
    }
</style>


<div class="toctree" role="navigation" aria-label="main navigation">
    <p class="caption" role="heading"><span class="caption-text">Content</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="start.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation/index.html">Installation of Airflow®</a></li>
<li class="toctree-l1"><a class="reference internal" href="security/index.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="howto/index.html">How-to Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="ui.html">UI Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-concepts/index.html">Core Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="authoring-and-scheduling/index.html">Authoring and Scheduling</a></li>
<li class="toctree-l1"><a class="reference internal" href="administration-and-deployment/index.html">Administration and Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="integration.html">Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="public-airflow-interface.html">Public Interface of Airflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="best-practices.html">Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="release-process.html">Release Policies</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#airflow-3-0-0-2025-04-22">Airflow 3.0.0 (2025-04-22)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#highlights">Highlights</a></li>
<li class="toctree-l3"><a class="reference internal" href="#significant-changes">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#task-execution-api-task-sdk-aip-72">Task Execution API &amp; Task SDK (AIP-72)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#edge-executor-aip-69">Edge Executor (AIP-69)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scheduler-managed-backfills-aip-78">Scheduler-Managed Backfills (AIP-78)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dag-versioning-aip-66">DAG Versioning (AIP-66)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#react-ui-rewrite-aip-38-aip-84">React UI Rewrite (AIP-38, AIP-84)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#asset-based-scheduling-terminology-alignment-aip-74-aip-75">Asset-Based Scheduling &amp; Terminology Alignment (AIP-74, AIP-75)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#unified-scheduling-field">Unified Scheduling Field</a></li>
<li class="toctree-l4"><a class="reference internal" href="#updated-scheduling-defaults">Updated Scheduling Defaults</a></li>
<li class="toctree-l4"><a class="reference internal" href="#restricted-metadata-database-access">Restricted Metadata Database Access</a></li>
<li class="toctree-l4"><a class="reference internal" href="#future-logical-dates-no-longer-supported">Future Logical Dates No Longer Supported</a></li>
<li class="toctree-l4"><a class="reference internal" href="#context-behavior-for-asset-and-manually-triggered-dags">Context Behavior for Asset and Manually Triggered DAGs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#improved-callback-behavior">Improved Callback Behavior</a></li>
<li class="toctree-l4"><a class="reference internal" href="#updated-default-configuration">Updated Default Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#executor-scheduler-updates">Executor &amp; Scheduler Updates</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#standalone-dag-processor-required">Standalone DAG Processor Required</a></li>
<li class="toctree-l4"><a class="reference internal" href="#priority-weight-capped-by-pool-slots">Priority Weight Capped by Pool Slots</a></li>
<li class="toctree-l4"><a class="reference internal" href="#teardown-task-handling-during-dag-termination">Teardown Task Handling During DAG Termination</a></li>
<li class="toctree-l4"><a class="reference internal" href="#improved-scheduler-fault-tolerance">Improved Scheduler Fault Tolerance</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mapped-task-stats-accuracy">Mapped Task Stats Accuracy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sequentialexecutor-has-been-removed"><code class="docutils literal notranslate"><span class="pre">SequentialExecutor</span></code> has been removed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#dag-authoring-enhancements">DAG Authoring Enhancements</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#new-stable-dag-authoring-interface-airflow-sdk">New Stable DAG Authoring Interface: <code class="docutils literal notranslate"><span class="pre">airflow.sdk</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#renamed-parameter-fail-stop-fail-fast">Renamed Parameter: <code class="docutils literal notranslate"><span class="pre">fail_stop</span></code> → <code class="docutils literal notranslate"><span class="pre">fail_fast</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#context-cleanup-and-parameter-removal">Context Cleanup and Parameter Removal</a></li>
<li class="toctree-l4"><a class="reference internal" href="#task-context-utilities-moved">Task Context Utilities Moved</a></li>
<li class="toctree-l4"><a class="reference internal" href="#trigger-rule-restrictions">Trigger Rule Restrictions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#asset-aliases-for-reusability">Asset Aliases for Reusability</a></li>
<li class="toctree-l4"><a class="reference internal" href="#operator-links-interface-changed">Operator Links interface changed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#plugins-no-longer-support-adding-executors-operators-hooks">Plugins no longer support adding executors, operators &amp; hooks</a></li>
<li class="toctree-l4"><a class="reference internal" href="#support-for-ml-ai-use-cases-aip-83">Support for ML &amp; AI Use Cases (AIP-83)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#config-interface-changes">Config &amp; Interface Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#default-value-handling">Default Value Handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="#refactored-config-defaults">Refactored Config Defaults</a></li>
<li class="toctree-l4"><a class="reference internal" href="#refactored-internal-utilities">Refactored Internal Utilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#improved-inlet-events-outlet-events-and-triggering-asset-events">Improved <code class="docutils literal notranslate"><span class="pre">inlet_events</span></code>, <code class="docutils literal notranslate"><span class="pre">outlet_events</span></code>, and <code class="docutils literal notranslate"><span class="pre">triggering_asset_events</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#behaviour-change-in-xcom-pull">Behaviour change in <code class="docutils literal notranslate"><span class="pre">xcom_pull</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#removed-configuration-keys">Removed Configuration Keys</a></li>
<li class="toctree-l4"><a class="reference internal" href="#upgrade-tooling">Upgrade Tooling</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#cli-api-changes">CLI &amp; API Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#split-cli-architecture-aip-81">Split CLI Architecture (AIP-81)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rest-api-dag-trigger-behavior-updated">REST API: DAG Trigger Behavior Updated</a></li>
<li class="toctree-l4"><a class="reference internal" href="#removed-cli-flags-and-commands">Removed CLI Flags and Commands</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#provider-refactor-standardization">Provider Refactor &amp; Standardization</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ui-usability-improvements">UI &amp; Usability Improvements</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#new-home-page">New Home Page</a></li>
<li class="toctree-l4"><a class="reference internal" href="#unified-dag-list-view">Unified DAG List View</a></li>
<li class="toctree-l4"><a class="reference internal" href="#version-aware-graph-and-grid-views">Version-Aware Graph and Grid Views</a></li>
<li class="toctree-l4"><a class="reference internal" href="#expanded-dag-graph-visualization">Expanded DAG Graph Visualization</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dag-code-view">DAG Code View</a></li>
<li class="toctree-l4"><a class="reference internal" href="#improved-task-log-access">Improved Task Log Access</a></li>
<li class="toctree-l4"><a class="reference internal" href="#enhanced-asset-and-backfill-views">Enhanced Asset and Backfill Views</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#deprecations-removals">Deprecations &amp; Removals</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#summary-of-removed-features">Summary of Removed Features</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#migration-tooling-upgrade-process">Migration Tooling &amp; Upgrade Process</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#minimum-supported-versions">Minimum Supported Versions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dag-compatibility-checks">DAG Compatibility Checks</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuration-migration">Configuration Migration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#metadata-database-upgrade">Metadata Database Upgrade</a></li>
<li class="toctree-l4"><a class="reference internal" href="#startup-behavior-changes">Startup Behavior Changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#resources">Resources</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-10-5-2025-02-10">Airflow 2.10.5 (2025-02-10)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ensure-teardown-tasks-are-executed-when-dag-run-is-set-to-failed-45530">Ensure teardown tasks are executed when DAG run is set to failed (#45530)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bug-fixes">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#miscellaneous">Miscellaneous</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-10-4-2024-12-16">Airflow 2.10.4 (2024-12-16)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#taskinstance-priority-weight-is-capped-in-32-bit-signed-integer-ranges-43611">TaskInstance <code class="docutils literal notranslate"><span class="pre">priority_weight</span></code> is capped in 32-bit signed integer ranges (#43611)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id3">Bug Fixes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#doc-only-changes">Doc Only Changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">Miscellaneous</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-10-3-2024-11-05">Airflow 2.10.3 (2024-11-05)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id5">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id6">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id7">Miscellaneous</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-10-2-2024-09-18">Airflow 2.10.2 (2024-09-18)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id9">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id10">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id11">Miscellaneous</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id12">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-10-1-2024-09-05">Airflow 2.10.1 (2024-09-05)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id13">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id14">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id15">Miscellaneous</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id16">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-10-0-2024-08-15">Airflow 2.10.0 (2024-08-15)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id17">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#scarf-based-telemetry-airflow-now-collect-telemetry-data-39510">Scarf based telemetry: Airflow now collect telemetry data (#39510)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#datasets-no-longer-trigger-inactive-dags-38891">Datasets no longer trigger inactive DAGs (#38891)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#try-number-is-no-longer-incremented-during-task-execution-39336"><code class="docutils literal notranslate"><span class="pre">try_number</span></code> is no longer incremented during task execution (#39336)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#logout-endpoint-in-fab-auth-manager-is-now-csrf-protected-40145"><code class="docutils literal notranslate"><span class="pre">/logout</span></code> endpoint in FAB Auth Manager is now CSRF protected (#40145)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#opentelemetry-traces-for-apache-airflow-37948">OpenTelemetry Traces for Apache Airflow (#37948).</a></li>
<li class="toctree-l4"><a class="reference internal" href="#decorator-for-task-flow-skip-if-run-if-to-make-it-simple-to-apply-whether-or-not-to-skip-a-task-41116">Decorator for Task Flow <code class="docutils literal notranslate"><span class="pre">(&#64;skip_if,</span> <span class="pre">&#64;run_if)</span></code> to make it simple to apply whether or not to skip a Task. (#41116)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-multiple-executors-concurrently-40701">Using Multiple Executors Concurrently (#40701)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#new-features">New Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="#improvements">Improvements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id18">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id19">Miscellaneous</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id20">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-9-3-2024-07-15">Airflow 2.9.3 (2024-07-15)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id21">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#time-unit-for-scheduled-duration-and-queued-duration-changed-37936">Time unit for <code class="docutils literal notranslate"><span class="pre">scheduled_duration</span></code> and <code class="docutils literal notranslate"><span class="pre">queued_duration</span></code> changed (#37936)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#support-for-opentelemetry-metrics-is-no-longer-experimental-40286">Support for OpenTelemetry Metrics is no longer “Experimental” (#40286)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id22">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id23">Doc Only Changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id24">Miscellaneous</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-9-2-2024-06-10">Airflow 2.9.2 (2024-06-10)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id25">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id26">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id27">Miscellaneous</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id28">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-9-1-2024-05-03">Airflow 2.9.1 (2024-05-03)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id29">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#stackdriver-logging-bugfix-requires-google-provider-10-17-0-or-later-38071">Stackdriver logging bugfix requires Google provider <code class="docutils literal notranslate"><span class="pre">10.17.0</span></code> or later (#38071)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id30">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id31">Miscellaneous</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id32">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-9-0-2024-04-08">Airflow 2.9.0 (2024-04-08)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id33">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#following-listener-api-methods-are-considered-stable-and-can-be-used-for-production-system-were-experimental-feature-in-older-airflow-versions-36376">Following Listener API methods are considered stable and can be used for production system (were experimental feature in older Airflow versions) (#36376):</a></li>
<li class="toctree-l4"><a class="reference internal" href="#support-for-microsoft-sql-server-for-airflow-meta-database-has-been-removed-36514">Support for Microsoft SQL-Server for Airflow Meta Database has been removed (#36514)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dataset-uris-are-now-validated-on-input-37005">Dataset URIs are now validated on input (#37005)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-method-get-permitted-menu-items-in-baseauthmanager-has-been-renamed-filter-permitted-menu-items-37627">The method <code class="docutils literal notranslate"><span class="pre">get_permitted_menu_items</span></code> in <code class="docutils literal notranslate"><span class="pre">BaseAuthManager</span></code> has been renamed <code class="docutils literal notranslate"><span class="pre">filter_permitted_menu_items</span></code> (#37627)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#add-rest-api-actions-to-audit-log-events-37734">Add REST API actions to Audit Log events (#37734)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#official-support-for-python-3-12-38025">Official support for Python 3.12 (#38025)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#prevent-large-string-objects-from-being-stored-in-the-rendered-template-fields-38094">Prevent large string objects from being stored in the Rendered Template Fields (#38094)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#change-xcom-table-column-value-type-to-longblob-for-mysql-backend-38401">Change xcom table column value type to longblob for MySQL backend (#38401)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stronger-validation-for-key-parameter-defaults-in-taskflow-context-variables-38015">Stronger validation for key parameter defaults in taskflow context variables (#38015)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id34">New Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id35">Improvements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id36">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id37">Miscellaneous</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id38">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-8-4-2024-03-25">Airflow 2.8.4 (2024-03-25)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id39">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id40">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id41">Miscellaneous</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id42">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-8-3-2024-03-11">Airflow 2.8.3 (2024-03-11)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id43">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#the-smtp-provider-is-now-pre-installed-when-you-install-airflow-37713">The smtp provider is now pre-installed when you install Airflow. (#37713)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id44">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id45">Miscellaneous</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id46">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-8-2-2024-02-26">Airflow 2.8.2 (2024-02-26)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id47">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#the-allowed-deserialization-classes-flag-now-follows-a-glob-pattern-36147">The <code class="docutils literal notranslate"><span class="pre">allowed_deserialization_classes</span></code> flag now follows a glob pattern (#36147).</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-audit-logs-permissions-have-been-updated-for-heightened-security-37501">The audit_logs permissions have been updated for heightened security (#37501).</a></li>
<li class="toctree-l4"><a class="reference internal" href="#airflowtimeouterror-is-no-longer-except-by-default-through-exception-35653"><code class="docutils literal notranslate"><span class="pre">AirflowTimeoutError</span></code> is no longer <code class="docutils literal notranslate"><span class="pre">except</span></code> by default through <code class="docutils literal notranslate"><span class="pre">Exception</span></code> (#35653).</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id48">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id49">Miscellaneous</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id50">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-8-1-2024-01-19">Airflow 2.8.1 (2024-01-19)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id51">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#target-version-for-core-dependency-pendulum-package-set-to-3-36281">Target version for core dependency <code class="docutils literal notranslate"><span class="pre">pendulum</span></code> package set to 3 (#36281).</a></li>
<li class="toctree-l4"><a class="reference internal" href="#airflow-packaging-specification-follows-modern-python-packaging-standards-36537">Airflow packaging specification follows modern Python packaging standards (#36537).</a></li>
<li class="toctree-l4"><a class="reference internal" href="#graphviz-dependency-is-now-an-optional-one-not-required-one-36647">Graphviz dependency is now an optional one, not required one (#36647).</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id52">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id53">Miscellaneous</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id54">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-8-0-2023-12-18">Airflow 2.8.0 (2023-12-18)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id55">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#raw-html-code-in-dag-docs-and-dag-params-descriptions-is-disabled-by-default-35460">Raw HTML code in DAG docs and DAG params descriptions is disabled by default (#35460)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id56">New Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id57">Improvements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id58">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id59">Miscellaneous</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id60">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-7-3-2023-11-06">Airflow 2.7.3 (2023-11-06)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id61">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id62">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#misc-internal">Misc/Internal</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id63">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-7-2-2023-10-12">Airflow 2.7.2 (2023-10-12)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id64">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id65">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id66">Doc Only Changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id67">Misc/Internal</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-7-1-2023-09-07">Airflow 2.7.1 (2023-09-07)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id68">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#crontriggertimetable-is-now-less-aggressive-when-trying-to-skip-a-run-33404">CronTriggerTimetable is now less aggressive when trying to skip a run (#33404)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#conf-set-becomes-case-insensitive-to-match-conf-get-behavior-33452"><code class="docutils literal notranslate"><span class="pre">conf.set()</span></code> becomes case insensitive to match <code class="docutils literal notranslate"><span class="pre">conf.get()</span></code> behavior (#33452)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id69">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id70">Misc/Internal</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id71">Doc only changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-7-0-2023-08-18">Airflow 2.7.0 (2023-08-18)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id72">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#remove-python-3-7-support-30963">Remove Python 3.7 support (#30963)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#old-graph-view-is-removed-32958">Old Graph View is removed (#32958)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-trigger-ui-form-is-skipped-in-web-ui-if-no-parameters-are-defined-in-a-dag-33351">The trigger UI form is skipped in web UI if no parameters are defined in a DAG (#33351)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-db-init-db-upgrade-commands-and-database-load-default-connections-configuration-options-are-deprecated-33136">The “db init”, “db upgrade” commands and “[database] load_default_connections” configuration options are deprecated (#33136).</a></li>
<li class="toctree-l4"><a class="reference internal" href="#in-case-of-smtp-ssl-connection-the-context-now-uses-the-default-context-33070">In case of SMTP SSL connection, the context now uses the “default” context (#33070)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#disable-default-allowing-the-testing-of-connections-in-ui-api-and-cli-32052">Disable default allowing the testing of connections in UI, API and CLI(#32052)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-xcomentries-api-disables-support-for-the-deserialize-flag-by-default-32176">The <code class="docutils literal notranslate"><span class="pre">xcomEntries</span></code> API disables support for the <code class="docutils literal notranslate"><span class="pre">deserialize</span></code> flag by default (#32176)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#change-of-the-default-celery-application-name-32526">Change of the default Celery application name (#32526)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-default-value-for-scheduler-max-tis-per-query-is-changed-from-512-to-16-32572">The default value for <code class="docutils literal notranslate"><span class="pre">scheduler.max_tis_per_query</span></code> is changed from 512 to 16 (#32572)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#some-executors-have-been-moved-to-corresponding-providers-32767">Some executors have been moved to corresponding providers (#32767)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#improvement-changes">Improvement Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#postgresql-only-improvement-added-index-on-taskinstance-table-30762">PostgreSQL only improvement: Added index on taskinstance table (#30762)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id73">New Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id74">Improvements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id75">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id76">Misc/Internal</a></li>
<li class="toctree-l4"><a class="reference internal" href="#docs-only-changes">Docs only changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-6-3-2023-07-10">Airflow 2.6.3 (2023-07-10)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id77">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#default-allowed-pattern-of-a-run-id-has-been-changed-to-a-za-z0-9-32293">Default allowed pattern of a run_id has been changed to <code class="docutils literal notranslate"><span class="pre">^[A-Za-z0-9_.~:+-]+$</span></code> (#32293).</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id78">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id79">Misc/Internal</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id80">Doc only changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-6-2-2023-06-17">Airflow 2.6.2 (2023-06-17)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id81">Significant Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id82">Bug Fixes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id83">Misc/Internal</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id84">Doc only changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-6-1-2023-05-16">Airflow 2.6.1 (2023-05-16)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id85">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#clarifications-of-the-external-health-check-mechanism-and-using-job-classes-31277">Clarifications of the external Health Check mechanism and using <code class="docutils literal notranslate"><span class="pre">Job</span></code> classes (#31277).</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id86">Bug Fixes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id87">Misc/Internal</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id88">Doc only changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-6-0-2023-04-30">Airflow 2.6.0 (2023-04-30)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id89">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#default-permissions-of-file-task-handler-log-directories-and-files-has-been-changed-to-owner-group-writeable-29506">Default permissions of file task handler log directories and files has been changed to “owner + group” writeable (#29506).</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sla-callbacks-no-longer-add-files-to-the-dag-processor-manager-s-queue-30076">SLA callbacks no longer add files to the dag processor manager’s queue (#30076)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-cleanup-method-in-basetrigger-is-now-defined-as-asynchronous-following-async-await-pattern-30152">The <code class="docutils literal notranslate"><span class="pre">cleanup()</span></code> method in BaseTrigger is now defined as asynchronous (following async/await) pattern (#30152).</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-gauge-scheduler-tasks-running-no-longer-exist-30374">The gauge <code class="docutils literal notranslate"><span class="pre">scheduler.tasks.running</span></code> no longer exist (#30374)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#consolidate-handling-of-tasks-stuck-in-queued-under-new-task-queued-timeout-config-30375">Consolidate handling of tasks stuck in queued under new <code class="docutils literal notranslate"><span class="pre">task_queued_timeout</span></code> config (#30375)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id90">Improvement Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#display-only-the-running-configuration-in-configurations-view-28892">Display only the running configuration in configurations view (#28892)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#explicit-skipped-states-list-for-externaltasksensor-29933">Explicit skipped states list for ExternalTaskSensor (#29933)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#miscellaneous-changes">Miscellaneous Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#handle-overflowerror-on-exponential-backoff-in-next-run-calculation-28172">Handle OverflowError on exponential backoff in next_run_calculation (#28172)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#move-hive-macros-to-the-provider-28538">Move Hive macros to the provider (#28538)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#updated-app-to-support-configuring-the-caching-hash-method-for-fips-v2-30675">Updated app to support configuring the caching hash method for FIPS v2 (#30675)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id91">New Features</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id92">Improvements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id93">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id94">Misc/Internal</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id95">Doc only changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-5-3-2023-04-01">Airflow 2.5.3 (2023-04-01)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id96">Significant Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id97">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id98">Misc/Internal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id99">Doc only changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-5-2-2023-03-15">Airflow 2.5.2 (2023-03-15)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id100">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#the-date-time-fields-passed-as-api-parameters-or-params-should-be-rfc3339-compliant-29395">The date-time fields passed as API parameters or Params should be RFC3339-compliant (#29395)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-for-webserver-expose-hostname-changed-to-false-29547">Default for <code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">expose_hostname</span></code> changed to <code class="docutils literal notranslate"><span class="pre">False</span></code> (#29547)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id101">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id102">Misc/Internal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id103">Doc only changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-5-1-2023-01-20">Airflow 2.5.1 (2023-01-20)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id104">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#trigger-gevent-monkeypatching-via-environment-variable-28283">Trigger gevent <code class="docutils literal notranslate"><span class="pre">monkeypatching</span></code> via environment variable (#28283)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id105">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id106">Misc/Internal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id107">Doc only changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-5-0-2022-12-02">Airflow 2.5.0 (2022-12-02)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id108">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#airflow-dags-test-no-longer-performs-a-backfill-job-26400"><code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">dags</span> <span class="pre">test</span></code> no longer performs a backfill job (#26400)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#airflow-config-section-kubernetes-renamed-to-kubernetes-executor-26873">Airflow config section <code class="docutils literal notranslate"><span class="pre">kubernetes</span></code> renamed to <code class="docutils literal notranslate"><span class="pre">kubernetes_executor</span></code> (#26873)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#airflowexception-is-now-thrown-as-soon-as-any-dependent-tasks-of-externaltasksensor-fails-27190"><code class="docutils literal notranslate"><span class="pre">AirflowException</span></code> is now thrown as soon as any dependent tasks of ExternalTaskSensor fails (#27190)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-airflow-config-option-scheduler-deactivate-stale-dags-interval-has-been-renamed-to-scheduler-parsing-cleanup-interval-27828">The Airflow config option <code class="docutils literal notranslate"><span class="pre">scheduler.deactivate_stale_dags_interval</span></code> has been renamed to <code class="docutils literal notranslate"><span class="pre">scheduler.parsing_cleanup_interval</span></code> (#27828).</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id109">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id110">Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id111">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id112">Misc/Internal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id113">Doc only changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-4-3-2022-11-14">Airflow 2.4.3 (2022-11-14)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id114">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#make-rotatingfilehandler-used-in-dagprocessor-non-caching-27223">Make <code class="docutils literal notranslate"><span class="pre">RotatingFilehandler</span></code> used in <code class="docutils literal notranslate"><span class="pre">DagProcessor</span></code> non-caching (#27223)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id115">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id116">Misc/Internal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id117">Doc only changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-4-2-2022-10-23">Airflow 2.4.2 (2022-10-23)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id118">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#default-for-webserver-expose-stacktrace-changed-to-false-27059">Default for <code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">expose_stacktrace</span></code> changed to <code class="docutils literal notranslate"><span class="pre">False</span></code> (#27059)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id119">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id120">Misc/Internal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id121">Doc only changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-4-1-2022-09-30">Airflow 2.4.1 (2022-09-30)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id122">Significant Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id123">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id124">Doc only changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-4-0-2022-09-19">Airflow 2.4.0 (2022-09-19)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id125">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#data-aware-scheduling-and-dataset-concept-added-to-airflow">Data-aware Scheduling and <code class="docutils literal notranslate"><span class="pre">Dataset</span></code> concept added to Airflow</a></li>
<li class="toctree-l4"><a class="reference internal" href="#expanded-dynamic-task-mapping-support">Expanded dynamic task mapping support</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dags-used-in-a-context-manager-no-longer-need-to-be-assigned-to-a-module-variable-23592">DAGS used in a context manager no longer need to be assigned to a module variable (#23592)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#deprecation-of-schedule-interval-and-timetable-arguments-25410">Deprecation of <code class="docutils literal notranslate"><span class="pre">schedule_interval</span></code> and <code class="docutils literal notranslate"><span class="pre">timetable</span></code> arguments (#25410)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#removal-of-experimental-smart-sensors-25507">Removal of experimental Smart Sensors (#25507)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#airflow-contrib-packages-and-deprecated-modules-are-dynamically-generated-26153-26179-26167"><code class="docutils literal notranslate"><span class="pre">airflow.contrib</span></code> packages and deprecated modules are dynamically generated (#26153, #26179, #26167)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dbapihook-and-sqlsensor-have-moved-24836"><code class="docutils literal notranslate"><span class="pre">DBApiHook</span></code> and <code class="docutils literal notranslate"><span class="pre">SQLSensor</span></code> have moved (#24836)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dag-runs-sorting-logic-changed-in-grid-view-25090">DAG runs sorting logic changed in grid view (#25090)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id126">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id127">Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id128">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id129">Misc/Internal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id130">Doc only changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-3-4-2022-08-23">Airflow 2.3.4 (2022-08-23)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id131">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#added-new-config-logging-log-formatter-class-to-fix-timezone-display-for-logs-on-ui-24811">Added new config <code class="docutils literal notranslate"><span class="pre">[logging]log_formatter_class</span></code> to fix timezone display for logs on UI (#24811)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id132">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id133">Doc only changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id134">Misc/Internal</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-3-3-2022-07-09">Airflow 2.3.3 (2022-07-09)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id135">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#we-ve-upgraded-flask-app-builder-to-a-major-version-4-24399">We’ve upgraded Flask App Builder to a major version 4.* (#24399)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id136">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id137">Doc only changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id138">Misc/Internal</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-3-2-2022-06-04">Airflow 2.3.2 (2022-06-04)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id139">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id140">Doc only changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id141">Misc/Internal</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-3-1-2022-05-25">Airflow 2.3.1 (2022-05-25)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id142">Significant Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id143">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id144">Doc only changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id145">Misc/Internal</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-3-0-2022-04-30">Airflow 2.3.0 (2022-04-30)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id146">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#passing-execution-date-to-xcom-set-xcom-clear-xcom-get-one-and-xcom-get-many-is-deprecated-19825">Passing <code class="docutils literal notranslate"><span class="pre">execution_date</span></code> to <code class="docutils literal notranslate"><span class="pre">XCom.set()</span></code>, <code class="docutils literal notranslate"><span class="pre">XCom.clear()</span></code> , <code class="docutils literal notranslate"><span class="pre">XCom.get_one()</span></code> , and <code class="docutils literal notranslate"><span class="pre">XCom.get_many()</span></code> is deprecated (#19825)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#task-log-templates-are-now-read-from-the-metadata-database-instead-of-airflow-cfg-20165">Task log templates are now read from the metadata database instead of <code class="docutils literal notranslate"><span class="pre">airflow.cfg</span></code> (#20165)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#minimum-kubernetes-library-version-bumped-from-3-0-0-to-21-7-0-20759">Minimum kubernetes library version bumped from <code class="docutils literal notranslate"><span class="pre">3.0.0</span></code> to <code class="docutils literal notranslate"><span class="pre">21.7.0</span></code> (#20759)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xcom-now-defined-by-run-id-instead-of-execution-date-20975">XCom now defined by <code class="docutils literal notranslate"><span class="pre">run_id</span></code> instead of <code class="docutils literal notranslate"><span class="pre">execution_date</span></code> (#20975)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#non-json-serializable-params-deprecated-21135">Non-JSON-serializable params deprecated (#21135).</a></li>
<li class="toctree-l4"><a class="reference internal" href="#you-must-use-postgresql-instead-of-postgres-in-sql-alchemy-conn-for-sqlalchemy-1-4-0-21205">You must use <code class="docutils literal notranslate"><span class="pre">postgresql://</span></code> instead of <code class="docutils literal notranslate"><span class="pre">postgres://</span></code> in <code class="docutils literal notranslate"><span class="pre">sql_alchemy_conn</span></code> for SQLAlchemy 1.4.0+ (#21205)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#auth-backends-replaces-auth-backend-configuration-setting-21472"><code class="docutils literal notranslate"><span class="pre">auth_backends</span></code> replaces <code class="docutils literal notranslate"><span class="pre">auth_backend</span></code> configuration setting (#21472)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#airflow-models-base-operator-is-removed-21505"><code class="docutils literal notranslate"><span class="pre">airflow.models.base.Operator</span></code> is removed (#21505)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#zip-files-in-the-dags-folder-can-no-longer-have-a-py-extension-21538">Zip files in the DAGs folder can no longer have a <code class="docutils literal notranslate"><span class="pre">.py</span></code> extension (#21538)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#auth-backends-includes-session-21640"><code class="docutils literal notranslate"><span class="pre">auth_backends</span></code> includes session (#21640)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-templates-for-log-filenames-and-elasticsearch-log-id-changed-21734">Default templates for log filenames and elasticsearch log_id changed (#21734)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#baseoperatorlink-s-get-link-method-changed-to-take-a-ti-key-keyword-argument-21798">BaseOperatorLink’s <code class="docutils literal notranslate"><span class="pre">get_link</span></code> method changed to take a <code class="docutils literal notranslate"><span class="pre">ti_key</span></code> keyword argument (#21798)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#readytorescheduledep-now-only-runs-when-reschedule-is-true-21815"><code class="docutils literal notranslate"><span class="pre">ReadyToRescheduleDep</span></code> now only runs when <code class="docutils literal notranslate"><span class="pre">reschedule</span></code> is <em>True</em> (#21815)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-deps-attribute-on-an-operator-class-should-be-a-class-level-attribute-21815">The <code class="docutils literal notranslate"><span class="pre">deps</span></code> attribute on an operator class should be a class level attribute (#21815)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#deprecation-connection-extra-must-be-json-encoded-dict-21816">Deprecation: <code class="docutils literal notranslate"><span class="pre">Connection.extra</span></code> must be JSON-encoded dict (#21816)</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#tldr">TLDR</a></li>
<li class="toctree-l5"><a class="reference internal" href="#what-why-and-when">What, why, and when?</a></li>
<li class="toctree-l5"><a class="reference internal" href="#how-will-i-be-affected">How will I be affected?</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#the-tree-default-view-setting-has-been-renamed-to-grid-22167">The <code class="docutils literal notranslate"><span class="pre">tree</span></code> default view setting has been renamed to <code class="docutils literal notranslate"><span class="pre">grid</span></code> (#22167)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#database-configuration-moved-to-new-section-22284">Database configuration moved to new section (#22284)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#remove-requirement-that-custom-connection-ui-fields-be-prefixed-22607">Remove requirement that custom connection UI fields be prefixed (#22607)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-webserver-x-frame-enabled-configuration-works-according-to-description-now-23222">The webserver.X_FRAME_ENABLED configuration works according to description now (#23222).</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id147">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id148">Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id149">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id150">Doc only changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id151">Misc/Internal</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-2-5-2022-04-04">Airflow 2.2.5, (2022-04-04)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id152">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id153">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id154">Doc only changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#misc">Misc</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-2-4-2022-02-22">Airflow 2.2.4, (2022-02-22)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id155">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#smart-sensors-deprecated">Smart sensors deprecated</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id156">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id157">Doc only changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id158">Misc</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-2-3-2021-12-21">Airflow 2.2.3, (2021-12-21)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id159">Significant Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id160">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id161">Doc only changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-2-2-2021-11-15">Airflow 2.2.2 (2021-11-15)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id162">Significant Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id163">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id164">Doc only changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-2-1-2021-10-29">Airflow 2.2.1 (2021-10-29)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id165">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#param-s-default-value-for-default-removed"><code class="docutils literal notranslate"><span class="pre">Param</span></code>’s default value for <code class="docutils literal notranslate"><span class="pre">default</span></code> removed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#max-queued-runs-per-dag-configuration-has-been-removed"><code class="docutils literal notranslate"><span class="pre">max_queued_runs_per_dag</span></code> configuration has been removed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id166">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id167">Doc only changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-2-0-2021-10-11">Airflow 2.2.0 (2021-10-11)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id168">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#worker-log-server-port-configuration-has-been-moved-to-the-logging-section"><code class="docutils literal notranslate"><span class="pre">worker_log_server_port</span></code> configuration has been moved to the <code class="docutils literal notranslate"><span class="pre">logging</span></code> section.</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pandas-is-now-an-optional-dependency"><code class="docutils literal notranslate"><span class="pre">pandas</span></code> is now an optional dependency</a></li>
<li class="toctree-l4"><a class="reference internal" href="#none-failed-or-skipped-trigger-rule-has-been-deprecated"><code class="docutils literal notranslate"><span class="pre">none_failed_or_skipped</span></code> trigger rule has been deprecated</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dummy-trigger-rule-has-been-deprecated">Dummy trigger rule has been deprecated</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dag-concurrency-settings-have-been-renamed">DAG concurrency settings have been renamed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#task-concurrency-parameter-has-been-renamed">Task concurrency parameter has been renamed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#processor-poll-interval-config-have-been-renamed-to-scheduler-idle-sleep-time"><code class="docutils literal notranslate"><span class="pre">processor_poll_interval</span></code> config have been renamed to <code class="docutils literal notranslate"><span class="pre">scheduler_idle_sleep_time</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#marking-success-failed-automatically-clears-failed-downstream-tasks">Marking success/failed automatically clears failed downstream tasks</a></li>
<li class="toctree-l4"><a class="reference internal" href="#core-store-dag-code-has-been-removed"><code class="docutils literal notranslate"><span class="pre">[core]</span> <span class="pre">store_dag_code</span></code> has been removed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#clearing-a-running-task-sets-its-state-to-restarting">Clearing a running task sets its state to <code class="docutils literal notranslate"><span class="pre">RESTARTING</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#remove-taskinstance-log-filepath-attribute">Remove <code class="docutils literal notranslate"><span class="pre">TaskInstance.log_filepath</span></code> attribute</a></li>
<li class="toctree-l4"><a class="reference internal" href="#if-a-sensor-times-out-it-will-not-retry">If a sensor times out, it will not retry</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-task-pools-slots-can-be-set-using-core-default-pool-task-slot-count">Default Task Pools Slots can be set using <code class="docutils literal notranslate"><span class="pre">[core]</span> <span class="pre">default_pool_task_slot_count</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#webserver-dag-refresh-buttons-removed">Webserver DAG refresh buttons removed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#taskinstances-now-require-a-dagrun">TaskInstances now <em>require</em> a DagRun</a></li>
<li class="toctree-l4"><a class="reference internal" href="#taskinstance-and-taskreschedule-now-define-run-id-instead-of-execution-date">TaskInstance and TaskReschedule now define <code class="docutils literal notranslate"><span class="pre">run_id</span></code> instead of <code class="docutils literal notranslate"><span class="pre">execution_date</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#daskexecutor-dask-worker-resources-and-queues">DaskExecutor - Dask Worker Resources and queues</a></li>
<li class="toctree-l4"><a class="reference internal" href="#logical-date-of-a-dag-run-triggered-from-the-web-ui-now-have-its-sub-second-component-set-to-zero">Logical date of a DAG run triggered from the web UI now have its sub-second component set to zero</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id171">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id172">Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id173">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id174">Doc only changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id175">Misc/Internal</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-1-4-2021-09-18">Airflow 2.1.4 (2021-09-18)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id176">Significant Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id177">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id178">Doc only changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-1-3-2021-08-23">Airflow 2.1.3 (2021-08-23)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id179">Significant Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id180">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id181">Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id182">Doc only changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id183">Misc</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-1-2-2021-07-14">Airflow 2.1.2 (2021-07-14)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id184">Significant Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id185">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id186">Misc</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-1-1-2021-07-02">Airflow 2.1.1 (2021-07-02)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id187">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#activate-dag-runs-argument-of-the-function-clear-task-instances-is-replaced-with-dag-run-state"><code class="docutils literal notranslate"><span class="pre">activate_dag_runs</span></code> argument of the function <code class="docutils literal notranslate"><span class="pre">clear_task_instances</span></code> is replaced with <code class="docutils literal notranslate"><span class="pre">dag_run_state</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dag-set-dag-runs-state-is-deprecated"><code class="docutils literal notranslate"><span class="pre">dag.set_dag_runs_state</span></code> is deprecated</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id189">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-1-0-2021-05-21">Airflow 2.1.0 (2021-05-21)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id190">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#new-deprecated-api-extra">New “deprecated_api” extra</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-http-provider-is-not-installed-by-default">The <code class="docutils literal notranslate"><span class="pre">http</span></code> provider is not installed by default</a></li>
<li class="toctree-l4"><a class="reference internal" href="#apply-default-decorator-isn-t-longer-necessary"><code class="docutils literal notranslate"><span class="pre">&#64;apply_default</span></code> decorator isn’t longer necessary</a></li>
<li class="toctree-l4"><a class="reference internal" href="#change-the-configuration-options-for-field-masking">Change the configuration options for field masking</a></li>
<li class="toctree-l4"><a class="reference internal" href="#deprecated-poddefaults-and-add-xcom-sidecar-in-airflow-kubernetes-pod-generator">Deprecated PodDefaults and add_xcom_sidecar in airflow.kubernetes.pod_generator</a></li>
<li class="toctree-l4"><a class="reference internal" href="#removed-pod-launcher-from-core-airflow">Removed pod_launcher from core airflow</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-webserver-worker-refresh-interval-is-changed-to-6000-seconds">Default <code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">worker_refresh_interval</span></code> is changed to <code class="docutils literal notranslate"><span class="pre">6000</span></code> seconds</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-queue-configuration-has-been-moved-to-the-operators-section"><code class="docutils literal notranslate"><span class="pre">default_queue</span></code> configuration has been moved to the <code class="docutils literal notranslate"><span class="pre">operators</span></code> section.</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id191">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id192">Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id193">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id194">Doc only changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id195">Misc/Internal</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-0-2-2021-04-19">Airflow 2.0.2 (2021-04-19)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id196">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#default-kubernetes-enable-tcp-keepalive-is-changed-to-true">Default <code class="docutils literal notranslate"><span class="pre">[kubernetes]</span> <span class="pre">enable_tcp_keepalive</span></code> is changed to <code class="docutils literal notranslate"><span class="pre">True</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sync-perm-cli-no-longer-syncs-dag-specific-permissions-by-default"><code class="docutils literal notranslate"><span class="pre">sync-perm</span></code> CLI no longer syncs DAG specific permissions by default</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id197">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id198">Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id199">Doc only changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id200">Misc/Internal</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-0-1-2021-02-08">Airflow 2.0.1 (2021-02-08)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id201">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#permission-to-view-airflow-configurations-has-been-removed-from-user-and-viewer-role">Permission to view Airflow Configurations has been removed from <code class="docutils literal notranslate"><span class="pre">User</span></code> and <code class="docutils literal notranslate"><span class="pre">Viewer</span></code> role</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-celery-worker-concurrency-is-changed-to-16">Default <code class="docutils literal notranslate"><span class="pre">[celery]</span> <span class="pre">worker_concurrency</span></code> is changed to <code class="docutils literal notranslate"><span class="pre">16</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-scheduler-min-file-process-interval-is-changed-to-30">Default <code class="docutils literal notranslate"><span class="pre">[scheduler]</span> <span class="pre">min_file_process_interval</span></code> is changed to <code class="docutils literal notranslate"><span class="pre">30</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id202">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id203">Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id204">Doc only changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-2-0-0-2020-12-18">Airflow 2.0.0 (2020-12-18)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id205">Significant Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#major-changes">Major changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-experimental-rest-api-is-disabled-by-default">The experimental REST API is disabled by default</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sparkjdbchook-default-connection">SparkJDBCHook default connection</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-to-output-argument-in-commands">Changes to output argument in commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="#azure-wasb-hook-does-not-work-together-with-snowflake-hook">Azure Wasb Hook does not work together with Snowflake hook</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rename-all-to-devel-all-extra">Rename <code class="docutils literal notranslate"><span class="pre">all</span></code> to <code class="docutils literal notranslate"><span class="pre">devel_all</span></code> extra</a></li>
<li class="toctree-l4"><a class="reference internal" href="#context-variables-prev-execution-date-success-and-prev-execution-date-success-are-now-pendulum-datetime">Context variables <code class="docutils literal notranslate"><span class="pre">prev_execution_date_success</span></code> and <code class="docutils literal notranslate"><span class="pre">prev_execution_date_success</span></code> are now <code class="docutils literal notranslate"><span class="pre">pendulum.DateTime</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#rename-policy-to-task-policy">Rename policy to task_policy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-value-for-celery-operation-timeout-has-changed-to-1-0">Default value for <code class="docutils literal notranslate"><span class="pre">[celery]</span> <span class="pre">operation_timeout</span></code> has changed to <code class="docutils literal notranslate"><span class="pre">1.0</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#adding-operators-and-sensors-via-plugins-is-no-longer-supported">Adding Operators and Sensors via plugins is no longer supported</a></li>
<li class="toctree-l4"><a class="reference internal" href="#importing-hooks-via-plugins-is-no-longer-supported">Importing Hooks via plugins is no longer supported</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-default-value-for-core-enable-xcom-pickling-has-been-changed-to-false">The default value for <code class="docutils literal notranslate"><span class="pre">[core]</span> <span class="pre">enable_xcom_pickling</span></code> has been changed to <code class="docutils literal notranslate"><span class="pre">False</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#airflowignore-of-base-path">Airflowignore of base path</a></li>
<li class="toctree-l4"><a class="reference internal" href="#externaltasksensor-provides-all-task-context-variables-to-execution-date-fn-as-keyword-arguments"><code class="docutils literal notranslate"><span class="pre">ExternalTaskSensor</span></code> provides all task context variables to <code class="docutils literal notranslate"><span class="pre">execution_date_fn</span></code> as keyword arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-default-value-for-webserver-cookie-samesite-has-been-changed-to-lax">The default value for <code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">cookie_samesite</span></code> has been changed to <code class="docutils literal notranslate"><span class="pre">Lax</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="#changes-to-import-paths">Changes to import paths</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#database-schema-changes">Database schema changes</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#unique-conn-id-in-connection-table">Unique conn_id in connection table</a></li>
<li class="toctree-l5"><a class="reference internal" href="#not-nullable-conn-type-column-in-connection-table">Not-nullable conn_type column in connection table</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#configuration-changes">Configuration changes</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#airflow-contrib-utils-log-has-been-moved">airflow.contrib.utils.log has been moved</a></li>
<li class="toctree-l5"><a class="reference internal" href="#sendgrid-emailer-has-been-moved">SendGrid emailer has been moved</a></li>
<li class="toctree-l5"><a class="reference internal" href="#unify-hostname-callable-option-in-core-section">Unify <code class="docutils literal notranslate"><span class="pre">hostname_callable</span></code> option in <code class="docutils literal notranslate"><span class="pre">core</span></code> section</a></li>
<li class="toctree-l5"><a class="reference internal" href="#custom-executors-is-loaded-using-full-import-path">Custom executors is loaded using full import path</a></li>
<li class="toctree-l5"><a class="reference internal" href="#use-customsqlainterface-instead-of-sqlainterface-for-custom-data-models">Use <code class="docutils literal notranslate"><span class="pre">CustomSQLAInterface</span></code> instead of <code class="docutils literal notranslate"><span class="pre">SQLAInterface</span></code> for custom data models.</a></li>
<li class="toctree-l5"><a class="reference internal" href="#drop-plugin-support-for-stat-name-handler">Drop plugin support for stat_name_handler</a></li>
<li class="toctree-l5"><a class="reference internal" href="#logging-configuration-has-been-moved-to-new-section">Logging configuration has been moved to new section</a></li>
<li class="toctree-l5"><a class="reference internal" href="#metrics-configuration-has-been-moved-to-new-section">Metrics configuration has been moved to new section</a></li>
<li class="toctree-l5"><a class="reference internal" href="#changes-to-elasticsearch-logging-provider">Changes to Elasticsearch logging provider</a></li>
<li class="toctree-l5"><a class="reference internal" href="#remove-gcp-service-account-keys-option-in-airflow-cfg-file">Remove gcp_service_account_keys option in airflow.cfg file</a></li>
<li class="toctree-l5"><a class="reference internal" href="#fernet-is-enabled-by-default">Fernet is enabled by default</a></li>
<li class="toctree-l5"><a class="reference internal" href="#changes-to-propagating-kubernetes-worker-annotations">Changes to propagating Kubernetes worker annotations</a></li>
<li class="toctree-l5"><a class="reference internal" href="#remove-run-duration">Remove run_duration</a></li>
<li class="toctree-l5"><a class="reference internal" href="#rename-pool-statsd-metrics">Rename pool statsd metrics</a></li>
<li class="toctree-l5"><a class="reference internal" href="#removal-of-mesos-executor">Removal of Mesos Executor</a></li>
<li class="toctree-l5"><a class="reference internal" href="#change-dag-loading-duration-metric-name">Change dag loading duration metric name</a></li>
<li class="toctree-l5"><a class="reference internal" href="#sentry-is-disabled-by-default">Sentry is disabled by default</a></li>
<li class="toctree-l5"><a class="reference internal" href="#simplified-gcstaskhandler-configuration">Simplified GCSTaskHandler configuration</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#changes-to-the-core-operators-hooks">Changes to the core operators/hooks</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#basesensoroperator-now-respects-the-trigger-rule-of-downstream-tasks">BaseSensorOperator now respects the trigger_rule of downstream tasks</a></li>
<li class="toctree-l5"><a class="reference internal" href="#baseoperator-uses-metaclass">BaseOperator uses metaclass</a></li>
<li class="toctree-l5"><a class="reference internal" href="#remove-sql-support-in-basehook">Remove SQL support in BaseHook</a></li>
<li class="toctree-l5"><a class="reference internal" href="#assigning-task-to-a-dag-using-bitwise-shift-bit-shift-operators-are-no-longer-supported">Assigning task to a DAG using bitwise shift (bit-shift) operators are no longer supported</a></li>
<li class="toctree-l5"><a class="reference internal" href="#removed-deprecated-import-mechanism">Removed deprecated import mechanism</a></li>
<li class="toctree-l5"><a class="reference internal" href="#changes-to-sensor-imports">Changes to sensor imports</a></li>
<li class="toctree-l5"><a class="reference internal" href="#skipped-tasks-can-satisfy-wait-for-downstream">Skipped tasks can satisfy wait_for_downstream</a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-utils-helpers-cross-downstream"><code class="docutils literal notranslate"><span class="pre">airflow.utils.helpers.cross_downstream</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-utils-helpers-chain"><code class="docutils literal notranslate"><span class="pre">airflow.utils.helpers.chain</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-operators-python-branchpythonoperator"><code class="docutils literal notranslate"><span class="pre">airflow.operators.python.BranchPythonOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-sensors-sql-sensor-sqlsensor"><code class="docutils literal notranslate"><span class="pre">airflow.sensors.sql_sensor.SqlSensor</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-operators-trigger-dagrun-triggerdagrunoperator"><code class="docutils literal notranslate"><span class="pre">airflow.operators.trigger_dagrun.TriggerDagRunOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-operators-python-pythonoperator"><code class="docutils literal notranslate"><span class="pre">airflow.operators.python.PythonOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-standard-sensors-filesystem-filesensor"><code class="docutils literal notranslate"><span class="pre">airflow.providers.standard.sensors.filesystem.FileSensor</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-operators-subdag-operator-subdagoperator"><code class="docutils literal notranslate"><span class="pre">airflow.operators.subdag_operator.SubDagOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-datastore-clouddatastoreexportentitiesoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.datastore.CloudDatastoreExportEntitiesOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-datastore-clouddatastoreimportentitiesoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.datastore.CloudDatastoreImportEntitiesOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-cncf-kubernetes-operators-kubernetes-pod-kubernetespodoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.cncf.kubernetes.operators.kubernetes_pod.KubernetesPodOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-ssh-operators-ssh-sshoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.ssh.operators.ssh.SSHOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-microsoft-winrm-operators-winrm-winrmoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.microsoft.winrm.operators.winrm.WinRMOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-operators-bash-bashoperator"><code class="docutils literal notranslate"><span class="pre">airflow.operators.bash.BashOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-docker-operators-docker-dockeroperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.docker.operators.docker.DockerOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-http-operators-http-simplehttpoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.http.operators.http.SimpleHttpOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-operators-latest-only-operator-latestonlyoperator"><code class="docutils literal notranslate"><span class="pre">airflow.operators.latest_only_operator.LatestOnlyOperator</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#changes-to-the-core-python-api">Changes to the core Python API</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#removed-sub-package-imports-from-airflow-init-py">Removed sub-package imports from <code class="docutils literal notranslate"><span class="pre">airflow/__init__.py</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#variables-removed-from-the-task-instance-context">Variables removed from the task instance context</a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-contrib-utils-weekday"><code class="docutils literal notranslate"><span class="pre">airflow.contrib.utils.Weekday</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-models-connection-connection"><code class="docutils literal notranslate"><span class="pre">airflow.models.connection.Connection</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-models-dag-dag-create-dagrun"><code class="docutils literal notranslate"><span class="pre">airflow.models.dag.DAG.create_dagrun</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-models-dagrun-dagrun"><code class="docutils literal notranslate"><span class="pre">airflow.models.dagrun.DagRun</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-utils-file-temporarydirectory"><code class="docutils literal notranslate"><span class="pre">airflow.utils.file.TemporaryDirectory</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-airflowmacroplugin"><code class="docutils literal notranslate"><span class="pre">airflow.AirflowMacroPlugin</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-settings-context-manager-dag"><code class="docutils literal notranslate"><span class="pre">airflow.settings.CONTEXT_MANAGER_DAG</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-utils-log-logging-mixin-redirect-stderr"><code class="docutils literal notranslate"><span class="pre">airflow.utils.log.logging_mixin.redirect_stderr</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-utils-log-logging-mixin-redirect-stdout"><code class="docutils literal notranslate"><span class="pre">airflow.utils.log.logging_mixin.redirect_stdout</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-models-baseoperator-baseoperator"><code class="docutils literal notranslate"><span class="pre">airflow.models.baseoperator.BaseOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-models-dagbag-dagbag"><code class="docutils literal notranslate"><span class="pre">airflow.models.dagbag.DagBag</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-google-provider-package">Changes in <code class="docutils literal notranslate"><span class="pre">google</span></code> provider package</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#direct-impersonation-added-to-operators-communicating-with-google-services">Direct impersonation added to operators communicating with Google services</a></li>
<li class="toctree-l5"><a class="reference internal" href="#normalize-gcp-conn-id-for-google-cloud">Normalize gcp_conn_id for Google Cloud</a></li>
<li class="toctree-l5"><a class="reference internal" href="#changes-to-import-paths-and-names-of-gcp-operators-and-hooks">Changes to import paths and names of GCP operators and hooks</a></li>
<li class="toctree-l5"><a class="reference internal" href="#unify-default-conn-id-for-google-cloud">Unify default conn_id for Google Cloud</a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-hooks-dataflow-dataflowhook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.dataflow.DataflowHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-dataflow-dataflowcreatejavajoboperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataflow.DataflowCreateJavaJobOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-dataflow-dataflowtemplatedjobstartoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataflow.DataflowTemplatedJobStartOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-dataflow-dataflowcreatepythonjoboperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataflow.DataflowCreatePythonJobOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-sensors-gcs-gcsuploadsessioncompletesensor"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.sensors.gcs.GCSUploadSessionCompleteSensor</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-hooks-bigquery-bigquerybasecursor"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-hooks-bigquery-bigqueryhook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#id208"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-bigquery-bigquerycreateemptytableoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigquery.BigQueryCreateEmptyTableOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-bigquery-bigquerycreateemptydatasetoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigquery.BigQueryCreateEmptyDatasetOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#id209"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.dataflow.DataflowHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-hooks-mlengine-mlenginehook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.mlengine.MLEngineHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-hooks-pubsub-pubsubhook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.pubsub.PubSubHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#id210"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.pubsub.PubSubHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-pubsub-pubsubtopiccreateoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.pubsub.PubSubTopicCreateOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-pubsub-pubsubsubscriptioncreateoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.pubsub.PubSubSubscriptionCreateOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-pubsub-pubsubtopicdeleteoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.pubsub.PubSubTopicDeleteOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-pubsub-pubsubsubscriptiondeleteoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.pubsub.PubSubSubscriptionDeleteOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-pubsub-pubsubpublishoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.pubsub.PubSubPublishOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-sensors-pubsub-pubsubpullsensor"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.sensors.pubsub.PubSubPullSensor</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-kubernetes-engine-gkestartpodoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.kubernetes_engine.GKEStartPodOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-hooks-gcs-gcshook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.gcs.GCSHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-dataproc-dataprocsubmitpigjoboperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocSubmitPigJobOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-dataproc-dataprocsubmithivejoboperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocSubmitHiveJobOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-dataproc-dataprocsubmitsparksqljoboperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocSubmitSparkSqlJobOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-dataproc-dataprocsubmitsparkjoboperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocSubmitSparkJobOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-dataproc-dataprocsubmithadoopjoboperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocSubmitHadoopJobOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-dataproc-dataprocsubmitpysparkjoboperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocSubmitPySparkJobOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-cloud-storage-transfer-service-clouddatatransferservicecreatejoboperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.cloud_storage_transfer_service.CloudDataTransferServiceCreateJobOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-hooks-cloud-storage-transfer-service-clouddatatransferservicehook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.cloud_storage_transfer_service.CloudDataTransferServiceHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#id211"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-hooks-cloud-build-cloudbuildhook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.cloud_build.CloudBuildHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-cloud-build-cloudbuildcreatebuildoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.cloud_build.CloudBuildCreateBuildOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-hooks-dataflow-dataflowhook-start-python-dataflow"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.dataflow.DataflowHook.start_python_dataflow</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#id212"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.dataflow.DataflowHook.start_python_dataflow</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#id213"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataflow.DataflowCreatePythonJobOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-common-hooks-base-google-googlebasehook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.common.hooks.base_google.GoogleBaseHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-dataproc-dataproccreateclusteroperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocCreateClusterOperator</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#generating-cluster-config">Generating Cluster Config</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-google-cloud-operators-bigquery-bigquerygetdatasettablesoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigquery.BigQueryGetDatasetTablesOperator</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-amazon-provider-package">Changes in <code class="docutils literal notranslate"><span class="pre">amazon</span></code> provider package</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#migration-of-aws-components">Migration of AWS components</a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-amazon-aws-hooks-emr-emrhook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.hooks.emr.EmrHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-amazon-aws-operators-emr-add-steps-emraddstepsoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.operators.emr_add_steps.EmrAddStepsOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-amazon-aws-operators-emr-create-job-flow-emrcreatejobflowoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.operators.emr_create_job_flow.EmrCreateJobFlowOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-amazon-aws-operators-emr-terminate-job-flow-emrterminatejobflowoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.operators.emr_terminate_job_flow.EmrTerminateJobFlowOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-amazon-aws-operators-batch-awsbatchoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.operators.batch.AwsBatchOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-amazon-aws-sensors-athena-athenasensor"><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.sensors.athena.AthenaSensor</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-amazon-aws-hooks-s3-s3hook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.hooks.s3.S3Hook</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-other-provider-packages">Changes in other provider packages</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#changed-return-type-of-list-prefixes-and-list-keys-methods-in-s3hook">Changed return type of <code class="docutils literal notranslate"><span class="pre">list_prefixes</span></code> and <code class="docutils literal notranslate"><span class="pre">list_keys</span></code> methods in <code class="docutils literal notranslate"><span class="pre">S3Hook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#removed-hipchat-integration">Removed HipChat integration</a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-salesforce-hooks-salesforce-salesforcehook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.salesforce.hooks.salesforce.SalesforceHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-apache-pinot-hooks-pinot-pinotadminhook-create-segment"><code class="docutils literal notranslate"><span class="pre">airflow.providers.apache.pinot.hooks.pinot.PinotAdminHook.create_segment</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-apache-hive-hooks-hive-hivemetastorehook-get-partitions"><code class="docutils literal notranslate"><span class="pre">airflow.providers.apache.hive.hooks.hive.HiveMetastoreHook.get_partitions</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-ftp-hooks-ftp-ftphook-list-directory"><code class="docutils literal notranslate"><span class="pre">airflow.providers.ftp.hooks.ftp.FTPHook.list_directory</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-postgres-hooks-postgres-postgreshook-copy-expert"><code class="docutils literal notranslate"><span class="pre">airflow.providers.postgres.hooks.postgres.PostgresHook.copy_expert</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-opsgenie-operators-opsgenie-alert-opsgeniealertoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.opsgenie.operators.opsgenie_alert.OpsgenieAlertOperator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-imap-hooks-imap-imaphook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.imap.hooks.imap.ImapHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-imap-sensors-imap-attachment-imapattachmentsensor"><code class="docutils literal notranslate"><span class="pre">airflow.providers.imap.sensors.imap_attachment.ImapAttachmentSensor</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-http-hooks-http-httphook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.http.hooks.http.HttpHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-cloudant-hooks-cloudant-cloudanthook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.cloudant.hooks.cloudant.CloudantHook</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#airflow-providers-snowflake"><code class="docutils literal notranslate"><span class="pre">airflow.providers.snowflake</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#other-changes">Other changes</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#standardized-extra-requirements">Standardized “extra” requirements</a></li>
<li class="toctree-l5"><a class="reference internal" href="#simplify-the-response-payload-of-endpoints-dag-stats-and-task-stats">Simplify the response payload of endpoints /dag_stats and /task_stats</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="privacy_notice.html">Privacy Notice</a></li>
<li class="toctree-l1"><a class="reference internal" href="project.html">Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="operators-and-hooks-ref.html">Operators and hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli-and-env-variables-ref.html">CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="templates-ref.html">Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="stable-rest-api-ref.html">Airflow public API</a></li>
<li class="toctree-l1"><a class="reference internal" href="configurations-ref.html">Configurations</a></li>
<li class="toctree-l1"><a class="reference internal" href="extra-packages-ref.html">Extra packages</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Internal DB details</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="migrations-ref.html">Database Migrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="database-erd-ref.html">Database ERD Schema</a></li>
</ul>

</div>

<style type="text/css">
    .toctree {
    }
    .toctree li {
        list-style: none;
    }
    .toctree .caption {
        font-family: Roboto;
        font-size: 18px;
        font-weight: bold;
        font-stretch: normal;
        font-style: normal;
        line-height: 1.33;
        letter-spacing: normal;
        color: #51504f;
        padding-bottom: 13px;
        text-transform: uppercase;
        margin-bottom: 0;
    }
    .toctree .current > a:not([href="#"])  {
        color: #017cee;
    }
    .toctree > ul {
        padding-left: 0;
    }
    .toctree ul {
        padding-left: 15px;
        display: none;
    }
    .toctree > ul,
    .toctree li.current > ul {
        display: block;
    }

    .toctree a .toctree-expand {
        display: inline-block;
        position: relative;
        height: 1em;
    }

    .toctree a .toctree-expand:before {
        position: absolute;
        top: 6px;
        left: -12px;
        content: '►';
        font-size: 7px;
    }
    .toctree .current > a > .toctree-expand:before {
        content: '▼';
    }

    .toctree .current {
        color: #017cee;
    }
    .toctree li {
        font-family: Roboto;
        font-size: 16px;
        font-weight: normal;
        font-stretch: normal;
        font-style: normal;
        line-height: 1.63;
        letter-spacing: normal;
        color: #707070;
    }

</style>
    </div>
            

            

            <main class="col-12 col-md-9 col-xl-8" role="main">
                


    




<div role="navigation" aria-label="breadcrumbs navigation" class="d-none d-md-block d-print-none">

    <ul class="breadcrumb">
        
            <li class="breadcrumb-item"><a href="index.html" class="icon icon-home"> Home</a></li>
            
            <li class="breadcrumb-item"><a href="release_notes.html"> Release Notes</a></li>
        
    </ul>
</div>
                
                <div class="rst-content">
                    <div class="document">
                            <div class="documentwrapper">
                                <div class="bodywrapper">
                                    <div class="body" role="main">
                                        
  <blockquote>
<div></div></blockquote>
<section id="release-notes">
<h1>Release Notes<a class="headerlink" href="#release-notes" title="Link to this heading">¶</a></h1>
<blockquote>
<div></div></blockquote>
<nav class="contents local" id="apache-airflow-releases">
<p class="topic-title">Apache Airflow Releases</p>
<ul class="simple">
<li><p><a class="reference internal" href="#airflow-3-0-0-2025-04-22" id="id215">Airflow 3.0.0 (2025-04-22)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-10-5-2025-02-10" id="id216">Airflow 2.10.5 (2025-02-10)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-10-4-2024-12-16" id="id217">Airflow 2.10.4 (2024-12-16)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-10-3-2024-11-05" id="id218">Airflow 2.10.3 (2024-11-05)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-10-2-2024-09-18" id="id219">Airflow 2.10.2 (2024-09-18)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-10-1-2024-09-05" id="id220">Airflow 2.10.1 (2024-09-05)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-10-0-2024-08-15" id="id221">Airflow 2.10.0 (2024-08-15)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-9-3-2024-07-15" id="id222">Airflow 2.9.3 (2024-07-15)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-9-2-2024-06-10" id="id223">Airflow 2.9.2 (2024-06-10)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-9-1-2024-05-03" id="id224">Airflow 2.9.1 (2024-05-03)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-9-0-2024-04-08" id="id225">Airflow 2.9.0 (2024-04-08)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-8-4-2024-03-25" id="id226">Airflow 2.8.4 (2024-03-25)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-8-3-2024-03-11" id="id227">Airflow 2.8.3 (2024-03-11)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-8-2-2024-02-26" id="id228">Airflow 2.8.2 (2024-02-26)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-8-1-2024-01-19" id="id229">Airflow 2.8.1 (2024-01-19)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-8-0-2023-12-18" id="id230">Airflow 2.8.0 (2023-12-18)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-7-3-2023-11-06" id="id231">Airflow 2.7.3 (2023-11-06)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-7-2-2023-10-12" id="id232">Airflow 2.7.2 (2023-10-12)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-7-1-2023-09-07" id="id233">Airflow 2.7.1 (2023-09-07)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-7-0-2023-08-18" id="id234">Airflow 2.7.0 (2023-08-18)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-6-3-2023-07-10" id="id235">Airflow 2.6.3 (2023-07-10)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-6-2-2023-06-17" id="id236">Airflow 2.6.2 (2023-06-17)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-6-1-2023-05-16" id="id237">Airflow 2.6.1 (2023-05-16)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-6-0-2023-04-30" id="id238">Airflow 2.6.0 (2023-04-30)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-5-3-2023-04-01" id="id239">Airflow 2.5.3 (2023-04-01)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-5-2-2023-03-15" id="id240">Airflow 2.5.2 (2023-03-15)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-5-1-2023-01-20" id="id241">Airflow 2.5.1 (2023-01-20)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-5-0-2022-12-02" id="id242">Airflow 2.5.0 (2022-12-02)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-4-3-2022-11-14" id="id243">Airflow 2.4.3 (2022-11-14)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-4-2-2022-10-23" id="id244">Airflow 2.4.2 (2022-10-23)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-4-1-2022-09-30" id="id245">Airflow 2.4.1 (2022-09-30)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-4-0-2022-09-19" id="id246">Airflow 2.4.0 (2022-09-19)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-3-4-2022-08-23" id="id247">Airflow 2.3.4 (2022-08-23)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-3-3-2022-07-09" id="id248">Airflow 2.3.3 (2022-07-09)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-3-2-2022-06-04" id="id249">Airflow 2.3.2 (2022-06-04)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-3-1-2022-05-25" id="id250">Airflow 2.3.1 (2022-05-25)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-3-0-2022-04-30" id="id251">Airflow 2.3.0 (2022-04-30)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-2-5-2022-04-04" id="id252">Airflow 2.2.5, (2022-04-04)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-2-4-2022-02-22" id="id253">Airflow 2.2.4, (2022-02-22)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-2-3-2021-12-21" id="id254">Airflow 2.2.3, (2021-12-21)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-2-2-2021-11-15" id="id255">Airflow 2.2.2 (2021-11-15)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-2-1-2021-10-29" id="id256">Airflow 2.2.1 (2021-10-29)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-2-0-2021-10-11" id="id257">Airflow 2.2.0 (2021-10-11)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-1-4-2021-09-18" id="id258">Airflow 2.1.4 (2021-09-18)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-1-3-2021-08-23" id="id259">Airflow 2.1.3 (2021-08-23)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-1-2-2021-07-14" id="id260">Airflow 2.1.2 (2021-07-14)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-1-1-2021-07-02" id="id261">Airflow 2.1.1 (2021-07-02)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-1-0-2021-05-21" id="id262">Airflow 2.1.0 (2021-05-21)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-0-2-2021-04-19" id="id263">Airflow 2.0.2 (2021-04-19)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-0-1-2021-02-08" id="id264">Airflow 2.0.1 (2021-02-08)</a></p></li>
<li><p><a class="reference internal" href="#airflow-2-0-0-2020-12-18" id="id265">Airflow 2.0.0 (2020-12-18)</a></p></li>
</ul>
</nav>
<section id="airflow-3-0-0-2025-04-22">
<h2><a class="toc-backref" href="#id215" role="doc-backlink">Airflow 3.0.0 (2025-04-22)</a><a class="headerlink" href="#airflow-3-0-0-2025-04-22" title="Link to this heading">¶</a></h2>
<p>We are proud to announce the General Availability of Apache Airflow 3.0 — the most significant release in the project’s
history. This version introduces a service-oriented architecture, a stable DAG authoring interface, expanded support for
event-driven and ML workflows, and a fully modernized UI built on React. Airflow 3.0 reflects years of community
investment and lays the foundation for the next era of scalable, modular orchestration.</p>
<section id="highlights">
<h3>Highlights<a class="headerlink" href="#highlights" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><strong>Service-Oriented Architecture</strong>: A new Task Execution API and <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">api-server</span></code> enable task execution in remote environments with improved isolation and flexibility (AIP-72).</p></li>
<li><p><strong>Edge Executor</strong>: A new executor that supports distributed, event-driven, and edge-compute workflows (AIP-69), now generally available.</p></li>
<li><p><strong>Stable Authoring Interface</strong>: DAG authors should now use the new <code class="docutils literal notranslate"><span class="pre">airflow.sdk</span></code> namespace to import core DAG constructs like <code class="docutils literal notranslate"><span class="pre">&#64;dag</span></code>, <code class="docutils literal notranslate"><span class="pre">&#64;task</span></code>, and <code class="docutils literal notranslate"><span class="pre">DAG</span></code>.</p></li>
<li><p><strong>Scheduler-Managed Backfills</strong>: Backfills are now scheduled and tracked like regular DAG runs, with native UI and API support (AIP-78).</p></li>
<li><p><strong>DAG Versioning</strong>: Airflow now tracks structural changes to DAGs over time, enabling inspection of historical DAG definitions via the UI and API (AIP-66).</p></li>
<li><p><strong>Asset-Based Scheduling</strong>: The dataset model has been renamed and redesigned as assets, with a new <code class="docutils literal notranslate"><span class="pre">&#64;asset</span></code> decorator and cleaner event-driven DAG definition (AIP-74, AIP-75).</p></li>
<li><p><strong>Support for ML and AI Workflows</strong>: DAGs can now run with <code class="docutils literal notranslate"><span class="pre">logical_date=None</span></code>, enabling use cases such as model inference, hyperparameter tuning, and non-interval workflows (AIP-83).</p></li>
<li><p><strong>Removal of Legacy Features</strong>: SLAs, SubDAGs, DAG and Xcom pickling, and several internal context variables have been removed. Use the upgrade tools to detect deprecated usage.</p></li>
<li><p><strong>Split CLI and API Changes</strong>: The CLI has been split into <code class="docutils literal notranslate"><span class="pre">airflow</span></code> and <code class="docutils literal notranslate"><span class="pre">airflowctl</span></code> (AIP-81), and REST API now defaults to <code class="docutils literal notranslate"><span class="pre">logical_date=None</span></code> when triggering a new DAG run.</p></li>
<li><p><strong>Modern React UI</strong>: A complete UI overhaul built on React and FastAPI includes version-aware views, backfill management, and improved DAG and task introspection (AIP-38, AIP-84).</p></li>
<li><p><strong>Migration Tooling</strong>: Use <strong>ruff</strong> and <strong>airflow config update</strong> to validate DAGs and configurations. Upgrade requires Airflow 2.7 or later and Python 3.9–3.12.</p></li>
</ul>
</section>
<section id="significant-changes">
<h3>Significant Changes<a class="headerlink" href="#significant-changes" title="Link to this heading">¶</a></h3>
<p>Airflow 3.0 introduces the most significant set of changes since the 2.0 release, including architectural shifts, new
execution models, and improvements to DAG authoring and scheduling.</p>
<section id="task-execution-api-task-sdk-aip-72">
<h4>Task Execution API &amp; Task SDK (AIP-72)<a class="headerlink" href="#task-execution-api-task-sdk-aip-72" title="Link to this heading">¶</a></h4>
<p>Airflow now supports a service-oriented architecture, enabling tasks to be executed remotely via a new Task Execution
API. This API decouples task execution from the scheduler and introduces a stable contract for running tasks outside of
Airflow’s traditional runtime environment.</p>
<p>To support this, Airflow introduces the Task SDK — a lightweight runtime environment for running Airflow tasks in
external systems such as containers, edge environments, or other runtimes. This lays the groundwork for
language-agnostic task execution and brings improved isolation, portability, and extensibility to Airflow-based
workflows.</p>
<p>Airflow 3.0 also introduces a new <code class="docutils literal notranslate"><span class="pre">airflow.sdk</span></code> namespace that exposes the core authoring interfaces for defining DAGs
and tasks. DAG authors should now import objects like <code class="docutils literal notranslate"><span class="pre">DAG</span></code>, <code class="docutils literal notranslate"><span class="pre">&#64;dag</span></code>, and <code class="docutils literal notranslate"><span class="pre">&#64;task</span></code> from <code class="docutils literal notranslate"><span class="pre">airflow.sdk</span></code> rather than
internal modules. This new namespace provides a stable, forward-compatible interface for DAG authoring across future
versions of Airflow.</p>
</section>
<section id="edge-executor-aip-69">
<h4>Edge Executor (AIP-69)<a class="headerlink" href="#edge-executor-aip-69" title="Link to this heading">¶</a></h4>
<p>Airflow 3.0 introduces the <strong>Edge Executor</strong> as a generally available feature, enabling execution of tasks in
distributed or remote compute environments. Designed for event-driven and edge-compute use cases, the Edge Executor
integrates with the Task Execution API to support task orchestration beyond the traditional Airflow runtime. This
advancement facilitates hybrid and cross-environment orchestration patterns, allowing task workers to operate closer to
data or application layers.</p>
</section>
<section id="scheduler-managed-backfills-aip-78">
<h4>Scheduler-Managed Backfills (AIP-78)<a class="headerlink" href="#scheduler-managed-backfills-aip-78" title="Link to this heading">¶</a></h4>
<p>Backfills are now fully managed by the scheduler, rather than being launched as separate command-line jobs. This change
unifies backfill logic with regular DAG execution and ensures that backfill runs follow the same scheduling, versioning,
and observability models as other DAG runs.</p>
<p>Airflow 3.0 also introduces native UI and REST API support for initiating and monitoring backfills, making them more
accessible and easier to integrate into automated workflows. These improvements lay the foundation for smarter, safer
historical reprocessing — now available directly through the Airflow UI and API.</p>
</section>
<section id="dag-versioning-aip-66">
<h4>DAG Versioning (AIP-66)<a class="headerlink" href="#dag-versioning-aip-66" title="Link to this heading">¶</a></h4>
<p>Airflow 3.0 introduces native DAG versioning. DAG structure changes (e.g., renamed tasks, dependency shifts) are now
tracked directly in the metadata database. This allows users to inspect historical DAG structures through the UI and API,
and lays the foundation for safer backfills, improved observability, and runtime-determined DAG logic.</p>
</section>
<section id="react-ui-rewrite-aip-38-aip-84">
<h4>React UI Rewrite (AIP-38, AIP-84)<a class="headerlink" href="#react-ui-rewrite-aip-38-aip-84" title="Link to this heading">¶</a></h4>
<p>Airflow 3.0 ships with a completely redesigned user interface built on React and FastAPI. This modern architecture
improves responsiveness, enables more consistent navigation across views, and unlocks new UI capabilities — including
support for DAG versioning, asset-centric DAG definitions, and more intuitive filtering and search.</p>
<p>The new UI replaces the legacy Flask-based frontend and introduces a foundation for future extensibility and community
contributions.</p>
</section>
<section id="asset-based-scheduling-terminology-alignment-aip-74-aip-75">
<h4>Asset-Based Scheduling &amp; Terminology Alignment (AIP-74, AIP-75)<a class="headerlink" href="#asset-based-scheduling-terminology-alignment-aip-74-aip-75" title="Link to this heading">¶</a></h4>
<p>The concept of <strong>Datasets</strong> has been renamed to <strong>Assets</strong>, unifying terminology with common practices in the modern
data ecosystem. The internal model has also been reworked to better support future features like asset partitions and
validations.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">&#64;asset</span></code> decorator and related changes to the DAG parser enable clearer, asset-centric DAG definitions, allowing
Airflow to more naturally support event-driven and data-aware scheduling patterns.</p>
<p>This renaming impacts modules, classes, functions, configuration keys, and internal models. Key changes include:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Dataset</span></code> → <code class="docutils literal notranslate"><span class="pre">Asset</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DatasetEvent</span></code> → <code class="docutils literal notranslate"><span class="pre">AssetEvent</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DatasetAlias</span></code> → <code class="docutils literal notranslate"><span class="pre">AssetAlias</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.datasets.*</span></code> → <code class="docutils literal notranslate"><span class="pre">airflow.sdk.*</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.timetables.simple.DatasetTriggeredTimetable</span></code> → <code class="docutils literal notranslate"><span class="pre">airflow.timetables.simple.AssetTriggeredTimetable</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.timetables.datasets.DatasetOrTimeSchedule</span></code> → <code class="docutils literal notranslate"><span class="pre">airflow.timetables.assets.AssetOrTimeSchedule</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.listeners.spec.dataset.on_dataset_created</span></code> → <code class="docutils literal notranslate"><span class="pre">airflow.listeners.spec.asset.on_asset_created</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.listeners.spec.dataset.on_dataset_changed</span></code> → <code class="docutils literal notranslate"><span class="pre">airflow.listeners.spec.asset.on_asset_changed</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">core.dataset_manager_class</span></code> → <code class="docutils literal notranslate"><span class="pre">core.asset_manager_class</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">core.dataset_manager_kwargs</span></code> → <code class="docutils literal notranslate"><span class="pre">core.asset_manager_kwargs</span></code></p></li>
</ul>
</section>
<section id="unified-scheduling-field">
<h4>Unified Scheduling Field<a class="headerlink" href="#unified-scheduling-field" title="Link to this heading">¶</a></h4>
<p>Airflow 3.0 removes the legacy <code class="docutils literal notranslate"><span class="pre">schedule_interval</span></code> and <code class="docutils literal notranslate"><span class="pre">timetable</span></code> parameters. DAGs must now use the unified
<code class="docutils literal notranslate"><span class="pre">schedule</span></code> field for all time- and event-based scheduling logic. This simplifies DAG definition and improves
consistency across scheduling paradigms.</p>
</section>
<section id="updated-scheduling-defaults">
<h4>Updated Scheduling Defaults<a class="headerlink" href="#updated-scheduling-defaults" title="Link to this heading">¶</a></h4>
<p>Airflow 3.0 changes the default behavior for new DAGs by setting <code class="docutils literal notranslate"><span class="pre">catchup_by_default</span> <span class="pre">=</span> <span class="pre">False</span></code> in the configuration
file. This means DAGs that do not explicitly set <code class="docutils literal notranslate"><span class="pre">catchup=...</span></code> will no longer backfill missed intervals by default.
This change reduces confusion for new users and better reflects the growing use of on-demand and event-driven workflows.</p>
<p>The default DAG schedule has been changed to <code class="docutils literal notranslate"><span class="pre">None</span></code> from <code class="docutils literal notranslate"><span class="pre">&#64;once</span></code>.</p>
</section>
<section id="restricted-metadata-database-access">
<h4>Restricted Metadata Database Access<a class="headerlink" href="#restricted-metadata-database-access" title="Link to this heading">¶</a></h4>
<p>Task code can no longer directly access the metadata database. Interactions with DAG state, task history, or DAG runs
must be performed via the Airflow REST API or exposed context. This change improves architectural separation and enables
remote execution.</p>
</section>
<section id="future-logical-dates-no-longer-supported">
<h4>Future Logical Dates No Longer Supported<a class="headerlink" href="#future-logical-dates-no-longer-supported" title="Link to this heading">¶</a></h4>
<p>Airflow no longer supports triggering DAG runs with a logical date in the future. This change aligns with the logical
execution model and removes ambiguity in backfills and event-driven DAGs. Use <code class="docutils literal notranslate"><span class="pre">logical_date=None</span></code> to trigger runs with
the current timestamp.</p>
</section>
<section id="context-behavior-for-asset-and-manually-triggered-dags">
<h4>Context Behavior for Asset and Manually Triggered DAGs<a class="headerlink" href="#context-behavior-for-asset-and-manually-triggered-dags" title="Link to this heading">¶</a></h4>
<p>For DAG runs triggered by an Asset event or through the REST API without specifying a <code class="docutils literal notranslate"><span class="pre">logical_date</span></code>, Airflow now sets
<code class="docutils literal notranslate"><span class="pre">logical_date=None</span></code> by default. These DAG runs do not have a data interval, and attempting to access
<code class="docutils literal notranslate"><span class="pre">data_interval_start</span></code>, <code class="docutils literal notranslate"><span class="pre">data_interval_end</span></code>, or <code class="docutils literal notranslate"><span class="pre">logical_date</span></code> from the task context will raise a <code class="docutils literal notranslate"><span class="pre">KeyError</span></code>.</p>
<p>DAG authors should use <code class="docutils literal notranslate"><span class="pre">dag_run.logical_date</span></code> and perform appropriate checks or fallbacks if supporting multiple
trigger types. This change improves consistency with event-driven semantics but may require updates to existing DAGs
that assume these values are always present.</p>
</section>
<section id="improved-callback-behavior">
<h4>Improved Callback Behavior<a class="headerlink" href="#improved-callback-behavior" title="Link to this heading">¶</a></h4>
<p>Airflow 3.0 refines task callback behavior to improve clarity and consistency. In particular, <code class="docutils literal notranslate"><span class="pre">on_success_callback</span></code> is
no longer executed when a task is marked as <code class="docutils literal notranslate"><span class="pre">SKIPPED</span></code>, aligning it more closely with expected semantics.</p>
</section>
<section id="updated-default-configuration">
<h4>Updated Default Configuration<a class="headerlink" href="#updated-default-configuration" title="Link to this heading">¶</a></h4>
<p>Several default configuration values have been updated in Airflow 3.0 to better reflect modern usage patterns and
simplify onboarding:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">catchup_by_default</span></code> is now set to <code class="docutils literal notranslate"><span class="pre">False</span></code> by default. DAGs will not automatically backfill unless explicitly configured to do so.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">create_cron_data_intervals</span></code> is now set to <code class="docutils literal notranslate"><span class="pre">False</span></code> by default. As a result, cron expressions will be interpreted using the <code class="docutils literal notranslate"><span class="pre">CronTriggerTimetable</span></code> instead of the legacy <code class="docutils literal notranslate"><span class="pre">CronDataIntervalTimetable</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SimpleAuthManager</span></code> is now the default <code class="docutils literal notranslate"><span class="pre">auth_manager</span></code>. To continue using Flask AppBuilder-based authentication, install the <code class="docutils literal notranslate"><span class="pre">apache-airflow-providers-flask-appbuilder</span></code> provider and explicitly set <code class="docutils literal notranslate"><span class="pre">auth_manager</span> <span class="pre">=</span> <span class="pre">airflow.providers.fab.auth_manager.FabAuthManager</span></code>.</p></li>
</ul>
<p>These changes represent the most significant evolution of the Airflow platform since the release of 2.0 — setting the
stage for more scalable, event-driven, and language-agnostic orchestration in the years ahead.</p>
</section>
</section>
<section id="executor-scheduler-updates">
<h3>Executor &amp; Scheduler Updates<a class="headerlink" href="#executor-scheduler-updates" title="Link to this heading">¶</a></h3>
<p>Airflow 3.0 introduces several important improvements and behavior changes in how DAGs and tasks are scheduled,
prioritized, and executed.</p>
<section id="standalone-dag-processor-required">
<h4>Standalone DAG Processor Required<a class="headerlink" href="#standalone-dag-processor-required" title="Link to this heading">¶</a></h4>
<p>Airflow 3.0 now requires the standalone DAG processor to parse DAGs. This dedicated process improves scheduler
performance, isolation, and observability. It also simplifies architecture by clearly separating DAG parsing from
scheduling logic. This change may affect custom deployments that previously used embedded DAG parsing.</p>
</section>
<section id="priority-weight-capped-by-pool-slots">
<h4>Priority Weight Capped by Pool Slots<a class="headerlink" href="#priority-weight-capped-by-pool-slots" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">priority_weight</span></code> value on a task is now capped by the number of available pool slots. This ensures that resource
availability remains the primary constraint in task execution order, preventing high-priority tasks from starving others
when resource contention exists.</p>
</section>
<section id="teardown-task-handling-during-dag-termination">
<h4>Teardown Task Handling During DAG Termination<a class="headerlink" href="#teardown-task-handling-during-dag-termination" title="Link to this heading">¶</a></h4>
<p>Teardown tasks will now be executed even when a DAG run is terminated early. This ensures that cleanup logic is
respected, improving reliability for workflows that use teardown tasks to manage ephemeral infrastructure, temporary
files, or downstream notifications.</p>
</section>
<section id="improved-scheduler-fault-tolerance">
<h4>Improved Scheduler Fault Tolerance<a class="headerlink" href="#improved-scheduler-fault-tolerance" title="Link to this heading">¶</a></h4>
<p>Scheduler components now use <code class="docutils literal notranslate"><span class="pre">run_with_db_retries</span></code> to handle transient database issues more gracefully. This enhances
Airflow’s fault tolerance in high-volume environments and reduces the likelihood of scheduler restarts due to temporary
database connection problems.</p>
</section>
<section id="mapped-task-stats-accuracy">
<h4>Mapped Task Stats Accuracy<a class="headerlink" href="#mapped-task-stats-accuracy" title="Link to this heading">¶</a></h4>
<p>Airflow 3.0 fixes a bug that caused incorrect task statistics to be reported for dynamic task mapping. Stats now
accurately reflect the number of mapped task instances and their statuses, improving observability and debugging for
dynamic workflows.</p>
</section>
<section id="sequentialexecutor-has-been-removed">
<h4><code class="docutils literal notranslate"><span class="pre">SequentialExecutor</span></code> has been removed<a class="headerlink" href="#sequentialexecutor-has-been-removed" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">SequentialExecutor</span></code> was primarily used for local testing but is now redundant, as <code class="docutils literal notranslate"><span class="pre">LocalExecutor</span></code>
supports SQLite with WAL mode and provides better performance with parallel execution.
Users should switch to <code class="docutils literal notranslate"><span class="pre">LocalExecutor</span></code> or <code class="docutils literal notranslate"><span class="pre">CeleryExecutor</span></code> as alternatives.</p>
</section>
</section>
<section id="dag-authoring-enhancements">
<h3>DAG Authoring Enhancements<a class="headerlink" href="#dag-authoring-enhancements" title="Link to this heading">¶</a></h3>
<p>Airflow 3.0 includes several changes that improve consistency, clarity, and long-term stability for DAG authors.</p>
<section id="new-stable-dag-authoring-interface-airflow-sdk">
<h4>New Stable DAG Authoring Interface: <code class="docutils literal notranslate"><span class="pre">airflow.sdk</span></code><a class="headerlink" href="#new-stable-dag-authoring-interface-airflow-sdk" title="Link to this heading">¶</a></h4>
<p>Airflow 3.0 introduces a new, stable public API for DAG authoring under the <code class="docutils literal notranslate"><span class="pre">airflow.sdk</span></code> namespace,
available via the <code class="docutils literal notranslate"><span class="pre">apache-airflow-task-sdk</span></code> package.</p>
<p>The goal of this change is to <strong>decouple DAG authoring from Airflow internals</strong> (Scheduler, API Server, etc.),
providing a <strong>forward-compatible, stable interface</strong> for writing and maintaining DAGs across Airflow versions.</p>
<p>DAG authors should now import core constructs from <code class="docutils literal notranslate"><span class="pre">airflow.sdk</span></code> rather than internal modules.</p>
<p><strong>Key Imports from</strong> <code class="docutils literal notranslate"><span class="pre">airflow.sdk</span></code>:</p>
<ul class="simple">
<li><p>Classes:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Asset</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BaseNotifier</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BaseOperator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BaseOperatorLink</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BaseSensorOperator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Connection</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Context</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DAG</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EdgeModifier</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Label</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ObjectStoragePath</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Param</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TaskGroup</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Variable</span></code></p></li>
</ul>
</li>
<li><p>Decorators and Functions:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&#64;asset</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&#64;dag</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&#64;setup</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&#64;task</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&#64;task_group</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&#64;teardown</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">chain</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">chain_linear</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cross_downstream</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_current_context</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_parsing_context</span></code></p></li>
</ul>
</li>
</ul>
<p>For an exhaustive list of available classes, decorators, and functions, check <code class="docutils literal notranslate"><span class="pre">airflow.sdk.__all__</span></code>.</p>
<p>All DAGs should update imports to use <code class="docutils literal notranslate"><span class="pre">airflow.sdk</span></code> instead of referencing internal Airflow modules directly.
Legacy import paths (e.g., <code class="docutils literal notranslate"><span class="pre">airflow.models.dag.DAG</span></code>, <code class="docutils literal notranslate"><span class="pre">airflow.decorator.task</span></code>) are <strong>deprecated</strong> and
will be <strong>removed</strong> in a future Airflow version. Some additional utilities and helper functions
that DAGs sometimes use from <code class="docutils literal notranslate"><span class="pre">airflow.utils.*</span></code> and others will be progressively migrated to the Task SDK in future
minor releases.</p>
<p>These future changes aim to <strong>complete the decoupling</strong> of DAG authoring constructs
from internal Airflow services. DAG authors should expect continued improvements
to <code class="docutils literal notranslate"><span class="pre">airflow.sdk</span></code> with no backwards-incompatible changes to existing constructs.</p>
<p>For example, update:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Old (Airflow 2.x)</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">airflow.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">DAG</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">airflow.decorators</span><span class="w"> </span><span class="kn">import</span> <span class="n">task</span>

<span class="c1"># New (Airflow 3.x)</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">airflow.sdk</span><span class="w"> </span><span class="kn">import</span> <span class="n">DAG</span><span class="p">,</span> <span class="n">task</span>
</pre></div>
</div>
</section>
<section id="renamed-parameter-fail-stop-fail-fast">
<h4>Renamed Parameter: <code class="docutils literal notranslate"><span class="pre">fail_stop</span></code> → <code class="docutils literal notranslate"><span class="pre">fail_fast</span></code><a class="headerlink" href="#renamed-parameter-fail-stop-fail-fast" title="Link to this heading">¶</a></h4>
<p>The DAG argument <code class="docutils literal notranslate"><span class="pre">fail_stop</span></code> has been renamed to <code class="docutils literal notranslate"><span class="pre">fail_fast</span></code> for improved clarity. This parameter controls whether a
DAG run should immediately stop execution when a task fails. DAG authors should update any code referencing
<code class="docutils literal notranslate"><span class="pre">fail_stop</span></code> to use the new name.</p>
</section>
<section id="context-cleanup-and-parameter-removal">
<h4>Context Cleanup and Parameter Removal<a class="headerlink" href="#context-cleanup-and-parameter-removal" title="Link to this heading">¶</a></h4>
<p>Several legacy context variables have been removed or may no longer be available in certain types of DAG runs,
including:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">conf</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">execution_date</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dag_run.external_trigger</span></code></p></li>
</ul>
<p>In asset-triggered and manually triggered DAG runs with <code class="docutils literal notranslate"><span class="pre">logical_date=None</span></code>, data interval fields such as
<code class="docutils literal notranslate"><span class="pre">data_interval_start</span></code> and <code class="docutils literal notranslate"><span class="pre">data_interval_end</span></code> may not be present in the task context. DAG authors should use
explicit references such as <code class="docutils literal notranslate"><span class="pre">dag_run.logical_date</span></code> and conditionally check for the presence of interval-related fields
where applicable.</p>
</section>
<section id="task-context-utilities-moved">
<h4>Task Context Utilities Moved<a class="headerlink" href="#task-context-utilities-moved" title="Link to this heading">¶</a></h4>
<p>Internal task context functions such as <code class="docutils literal notranslate"><span class="pre">get_parsing_context</span></code> have been moved to a more appropriate location (e.g.,
<code class="docutils literal notranslate"><span class="pre">airflow.models.taskcontext</span></code>). DAG authors using these utilities directly should update import paths accordingly.</p>
</section>
<section id="trigger-rule-restrictions">
<h4>Trigger Rule Restrictions<a class="headerlink" href="#trigger-rule-restrictions" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">TriggerRule.ALWAYS</span></code> rule can no longer be used with teardown tasks or tasks that are expected to honor upstream
dependency semantics. DAG authors should ensure that teardown logic is defined with the appropriate trigger rules for
consistent task resolution behavior.</p>
</section>
<section id="asset-aliases-for-reusability">
<h4>Asset Aliases for Reusability<a class="headerlink" href="#asset-aliases-for-reusability" title="Link to this heading">¶</a></h4>
<p>A new utility function, <code class="docutils literal notranslate"><span class="pre">create_asset_aliases()</span></code>, allows DAG authors to define reusable aliases for frequently
referenced Assets. This improves modularity and reuse across DAG files and is particularly helpful for teams adopting
asset-centric DAGs.</p>
</section>
<section id="operator-links-interface-changed">
<h4>Operator Links interface changed<a class="headerlink" href="#operator-links-interface-changed" title="Link to this heading">¶</a></h4>
<p>The Operator Extra links, which can be defined either via plugins or custom operators
now do not execute any user code in the Airflow UI, but instead push the “full”
links to XCom backend and the link is fetched from the XCom backend when viewing
task details, for example from grid view.</p>
<p>Example for users with custom links class:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@attr</span><span class="o">.</span><span class="n">s</span><span class="p">(</span><span class="n">auto_attribs</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">CustomBaseIndexOpLink</span><span class="p">(</span><span class="n">BaseOperatorLink</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Custom Operator Link for Google BigQuery Console.&quot;&quot;&quot;</span>

    <span class="n">index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">attr</span><span class="o">.</span><span class="n">ib</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;BigQuery Console #</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">xcom_key</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;bigquery_</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_link</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">operator</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">ti_key</span><span class="p">):</span>
        <span class="n">search_queries</span> <span class="o">=</span> <span class="n">XCom</span><span class="o">.</span><span class="n">get_one</span><span class="p">(</span>
            <span class="n">task_id</span><span class="o">=</span><span class="n">ti_key</span><span class="o">.</span><span class="n">task_id</span><span class="p">,</span> <span class="n">dag_id</span><span class="o">=</span><span class="n">ti_key</span><span class="o">.</span><span class="n">dag_id</span><span class="p">,</span> <span class="n">run_id</span><span class="o">=</span><span class="n">ti_key</span><span class="o">.</span><span class="n">run_id</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s2">&quot;search_query&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;https://console.cloud.google.com/bigquery?j=</span><span class="si">{</span><span class="n">search_query</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div>
</div>
<p>The link has an <code class="docutils literal notranslate"><span class="pre">xcom_key</span></code> defined, which is how it will be stored in the XCOM backend, with key as xcom_key and
value as the entire link, this case: <code class="docutils literal notranslate"><span class="pre">https://console.cloud.google.com/bigquery?j=search</span></code></p>
</section>
<section id="plugins-no-longer-support-adding-executors-operators-hooks">
<h4>Plugins no longer support adding executors, operators &amp; hooks<a class="headerlink" href="#plugins-no-longer-support-adding-executors-operators-hooks" title="Link to this heading">¶</a></h4>
<p>Operator (including Sensors), Executors &amp; Hooks can no longer be registered or imported via Airflow’s plugin mechanism. These types of classes
are just treated as plain Python classes by Airflow, so there is no need to register them with Airflow. They
can be imported directly from their respective provider packages.</p>
<p>Before:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">airflow.hooks.my_plugin</span><span class="w"> </span><span class="kn">import</span> <span class="n">MyHook</span>
</pre></div>
</div>
<p>You should instead import it as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">my_plugin</span><span class="w"> </span><span class="kn">import</span> <span class="n">MyHook</span>
</pre></div>
</div>
</section>
<section id="support-for-ml-ai-use-cases-aip-83">
<h4>Support for ML &amp; AI Use Cases (AIP-83)<a class="headerlink" href="#support-for-ml-ai-use-cases-aip-83" title="Link to this heading">¶</a></h4>
<p>Airflow 3.0 expands the types of DAGs that can be expressed by removing the constraint that each DAG run must correspond
to a unique data interval. This change, introduced in AIP-83, enables support for workflows that don’t operate on a
fixed schedule — such as model training, hyperparameter tuning, and inference tasks.</p>
<p>These ML- and AI-oriented DAGs often run ad hoc, are triggered by external systems, or need to execute multiple times
with different parameters over the same dataset. By allowing multiple DAG runs with <code class="docutils literal notranslate"><span class="pre">logical_date=None</span></code>, Airflow now
supports these scenarios natively without requiring workarounds.</p>
</section>
</section>
<section id="config-interface-changes">
<h3>Config &amp; Interface Changes<a class="headerlink" href="#config-interface-changes" title="Link to this heading">¶</a></h3>
<p>Airflow 3.0 introduces several configuration and interface updates that improve consistency, clarify ownership of core
utilities, and remove legacy behaviors that were no longer aligned with modern usage patterns.</p>
<section id="default-value-handling">
<h4>Default Value Handling<a class="headerlink" href="#default-value-handling" title="Link to this heading">¶</a></h4>
<p>Airflow no longer silently updates configuration options that retain deprecated default values. Users are now required
to explicitly set any config values that differ from the current defaults. This change improves transparency and
prevents unintentional behavior changes during upgrades.</p>
</section>
<section id="refactored-config-defaults">
<h4>Refactored Config Defaults<a class="headerlink" href="#refactored-config-defaults" title="Link to this heading">¶</a></h4>
<p>Several configuration defaults have changed in Airflow 3.0 to better reflect modern usage patterns:</p>
<ul class="simple">
<li><p>The default value of <code class="docutils literal notranslate"><span class="pre">catchup_by_default</span></code> is now <code class="docutils literal notranslate"><span class="pre">False</span></code>. DAGs will not backfill missed intervals unless explicitly configured to do so.</p></li>
<li><p>The default value of <code class="docutils literal notranslate"><span class="pre">create_cron_data_intervals</span></code> is now <code class="docutils literal notranslate"><span class="pre">False</span></code>. Cron expressions are now interpreted using the <code class="docutils literal notranslate"><span class="pre">CronTriggerTimetable</span></code> instead of the legacy <code class="docutils literal notranslate"><span class="pre">CronDataIntervalTimetable</span></code>. This change simplifies interval logic and aligns with the future direction of Airflow’s scheduling system.</p></li>
</ul>
</section>
<section id="refactored-internal-utilities">
<h4>Refactored Internal Utilities<a class="headerlink" href="#refactored-internal-utilities" title="Link to this heading">¶</a></h4>
<p>Several core components have been moved to more intuitive or stable locations:</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">SecretsMasker</span></code> class has been relocated to <code class="docutils literal notranslate"><span class="pre">airflow.sdk.execution_time.secrets_masker</span></code>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">ObjectStoragePath</span></code> utility previously located under <code class="docutils literal notranslate"><span class="pre">airflow.io</span></code> is now available via <code class="docutils literal notranslate"><span class="pre">airflow.sdk</span></code>.</p></li>
</ul>
<p>These changes simplify imports and reflect broader efforts to stabilize utility interfaces across the Airflow codebase.</p>
</section>
<section id="improved-inlet-events-outlet-events-and-triggering-asset-events">
<h4>Improved <code class="docutils literal notranslate"><span class="pre">inlet_events</span></code>, <code class="docutils literal notranslate"><span class="pre">outlet_events</span></code>, and <code class="docutils literal notranslate"><span class="pre">triggering_asset_events</span></code><a class="headerlink" href="#improved-inlet-events-outlet-events-and-triggering-asset-events" title="Link to this heading">¶</a></h4>
<p>Asset event mappings in the task context are improved to better support asset use cases, including new features introduced in AIP-74.</p>
<p>Events of an asset or asset alias are now accessed directly by a concrete object to avoid ambiguity. Using a <code class="docutils literal notranslate"><span class="pre">str</span></code> to access events is
no longer supported. Use an <code class="docutils literal notranslate"><span class="pre">Asset</span></code> or <code class="docutils literal notranslate"><span class="pre">AssetAlias</span></code> object, or <code class="docutils literal notranslate"><span class="pre">Asset.ref</span></code> to refer to an entity explicitly instead, such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">outlet_events</span><span class="p">[</span><span class="n">Asset</span><span class="o">.</span><span class="n">ref</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;myasset&quot;</span><span class="p">)]</span>  <span class="c1"># Get events for asset named &quot;myasset&quot;.</span>
<span class="n">outlet_events</span><span class="p">[</span><span class="n">AssetAlias</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;myalias&quot;</span><span class="p">)]</span>  <span class="c1"># Get events for asset alias named &quot;myalias&quot;.</span>
</pre></div>
</div>
<p>Alternatively, two helpers <code class="docutils literal notranslate"><span class="pre">for_asset</span></code> and <code class="docutils literal notranslate"><span class="pre">for_asset_alias</span></code> are added as shortcuts:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">outlet_events</span><span class="o">.</span><span class="n">for_asset</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;myasset&quot;</span><span class="p">)</span>  <span class="c1"># Get events for asset named &quot;myasset&quot;.</span>
<span class="n">outlet_events</span><span class="o">.</span><span class="n">for_asset_alias</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;myalias&quot;</span><span class="p">)</span>  <span class="c1"># Get events for asset alias named &quot;myalias&quot;.</span>
</pre></div>
</div>
<p>The internal representation of asset event triggers now also includes an explicit <code class="docutils literal notranslate"><span class="pre">uri</span></code> field, simplifying traceability and
aligning with the broader asset-aware execution model introduced in Airflow 3.0. DAG authors interacting directly with
<code class="docutils literal notranslate"><span class="pre">inlet_events</span></code> may need to update logic that assumes the previous structure.</p>
</section>
<section id="behaviour-change-in-xcom-pull">
<h4>Behaviour change in <code class="docutils literal notranslate"><span class="pre">xcom_pull</span></code><a class="headerlink" href="#behaviour-change-in-xcom-pull" title="Link to this heading">¶</a></h4>
<p>In Airflow 2, the <code class="docutils literal notranslate"><span class="pre">xcom_pull()</span></code> method allowed pulling XComs by key without specifying task_ids, despite the fact that the underlying
DB model defines task_id as part of the XCom primary key. This created ambiguity: if two tasks pushed XComs with the same key,
<code class="docutils literal notranslate"><span class="pre">xcom_pull()</span></code> would pull whichever one happened to be first, leading to unpredictable behavior.</p>
<p>Airflow 3 resolves this inconsistency by requiring <code class="docutils literal notranslate"><span class="pre">task_ids</span></code> when pulling by key. This change aligns with the task-scoped nature of
XComs as defined by the schema, ensuring predictable and consistent behavior.</p>
<p>DAG Authors should update their dags to use <code class="docutils literal notranslate"><span class="pre">task_ids</span></code> if their dags used <code class="docutils literal notranslate"><span class="pre">xcom_pull</span></code> without <code class="docutils literal notranslate"><span class="pre">task_ids</span></code> such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;ti&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">xcom_pull</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;key&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Should be updated to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;ti&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">xcom_pull</span><span class="p">(</span><span class="n">task_ids</span><span class="o">=</span><span class="s2">&quot;task1&quot;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s2">&quot;key&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="removed-configuration-keys">
<h4>Removed Configuration Keys<a class="headerlink" href="#removed-configuration-keys" title="Link to this heading">¶</a></h4>
<p>As part of the deprecation cleanup, several legacy configuration options have been removed. These include:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[scheduler]</span> <span class="pre">allow_trigger_in_future</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[scheduler]</span> <span class="pre">use_job_schedule</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[scheduler]</span> <span class="pre">use_local_tz</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[scheduler]</span> <span class="pre">processor_poll_interval</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[logging]</span> <span class="pre">dag_processor_manager_log_location</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[logging]</span> <span class="pre">dag_processor_manager_log_stdout</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[logging]</span> <span class="pre">log_processor_filename_template</span></code></p></li>
</ul>
<p>All the webserver configurations have also been removed since API server now replaces webserver, so
the configurations like below have no effect:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">allow_raw_html_descriptions</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">cookie_samesite</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">error_logfile</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">access_logformat</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">web_server_master_timeout</span></code></p></li>
<li><p>etc</p></li>
</ul>
<p>Several configuration options previously located under the <code class="docutils literal notranslate"><span class="pre">[webserver]</span></code> section have
been <strong>moved to the new ``[api]`` section</strong>. The following configuration keys have been moved:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">web_server_host</span></code> → <code class="docutils literal notranslate"><span class="pre">[api]</span> <span class="pre">host</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">web_server_port</span></code> → <code class="docutils literal notranslate"><span class="pre">[api]</span> <span class="pre">port</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">workers</span></code> → <code class="docutils literal notranslate"><span class="pre">[api]</span> <span class="pre">workers</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">web_server_worker_timeout</span></code> → <code class="docutils literal notranslate"><span class="pre">[api]</span> <span class="pre">worker_timeout</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">web_server_ssl_cert</span></code> → <code class="docutils literal notranslate"><span class="pre">[api]</span> <span class="pre">ssl_cert</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">web_server_ssl_key</span></code> → <code class="docutils literal notranslate"><span class="pre">[api]</span> <span class="pre">ssl_key</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">access_logfile</span></code> → <code class="docutils literal notranslate"><span class="pre">[api]</span> <span class="pre">access_logfile</span></code></p></li>
</ul>
<p>Users should review their <code class="docutils literal notranslate"><span class="pre">airflow.cfg</span></code> files or use the <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">config</span> <span class="pre">lint</span></code> command to identify outdated or
removed options.</p>
</section>
<section id="upgrade-tooling">
<h4>Upgrade Tooling<a class="headerlink" href="#upgrade-tooling" title="Link to this heading">¶</a></h4>
<p>Airflow 3.0 includes improved support for upgrade validation. Use the following tools to proactively catch incompatible
configs or deprecated usage patterns:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">config</span> <span class="pre">lint</span></code>: Identifies removed or invalid config keys</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ruff</span> <span class="pre">check</span> <span class="pre">--select</span> <span class="pre">AIR30</span> <span class="pre">--preview</span></code>: Flags removed interfaces and common migration issues</p></li>
</ul>
</section>
</section>
<section id="cli-api-changes">
<h3>CLI &amp; API Changes<a class="headerlink" href="#cli-api-changes" title="Link to this heading">¶</a></h3>
<p>Airflow 3.0 introduces changes to both the CLI and REST API interfaces to better align with service-oriented deployments
and event-driven workflows.</p>
<section id="split-cli-architecture-aip-81">
<h4>Split CLI Architecture (AIP-81)<a class="headerlink" href="#split-cli-architecture-aip-81" title="Link to this heading">¶</a></h4>
<p>The Airflow CLI has been split into two distinct interfaces:</p>
<ul class="simple">
<li><p>The core <code class="docutils literal notranslate"><span class="pre">airflow</span></code> CLI now handles only local functionality (e.g., <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">tasks</span> <span class="pre">test</span></code>, <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">dags</span> <span class="pre">list</span></code>).</p></li>
<li><p>Remote functionality, including triggering DAGs or managing connections in service-mode environments, is now handled by a separate CLI called <code class="docutils literal notranslate"><span class="pre">airflowctl</span></code>, distributed via the <code class="docutils literal notranslate"><span class="pre">apache-airflow-client</span></code> package.</p></li>
</ul>
<p>This change improves security and modularity for deployments that use Airflow in a distributed or API-first context.</p>
</section>
<section id="rest-api-dag-trigger-behavior-updated">
<h4>REST API: DAG Trigger Behavior Updated<a class="headerlink" href="#rest-api-dag-trigger-behavior-updated" title="Link to this heading">¶</a></h4>
<p>The behavior of the <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/dags/{dag_id}/dagRuns</span></code> endpoint has changed. If a <code class="docutils literal notranslate"><span class="pre">logical_date</span></code> is not explicitly
provided when triggering a DAG via the REST API, it now defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>This aligns with event-driven DAGs and manual runs in Airflow 3.0, but may break backward compatibility with scripts or
tools that previously relied on Airflow auto-generating a timestamped <code class="docutils literal notranslate"><span class="pre">logical_date</span></code>.</p>
</section>
<section id="removed-cli-flags-and-commands">
<h4>Removed CLI Flags and Commands<a class="headerlink" href="#removed-cli-flags-and-commands" title="Link to this heading">¶</a></h4>
<p>Several deprecated CLI arguments and commands that were marked for removal in earlier versions have now been cleaned up
in Airflow 3.0. Run <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">--help</span></code> to review the current set of available commands and arguments.</p>
<ul class="simple">
<li><p>Deprecated <code class="docutils literal notranslate"><span class="pre">--ignore-depends-on-past</span></code>  cli option is replaced by <code class="docutils literal notranslate"><span class="pre">--depends-on-past</span> <span class="pre">ignore</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--tree</span></code> flag for <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">tasks</span> <span class="pre">list</span></code> command is removed. The format of the output with that flag can be
expensive to generate and extremely large, depending on the DAG. <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">dag</span> <span class="pre">show</span></code> is a better way to
visualize the relationship of tasks in a DAG.</p></li>
<li><p>Changing <code class="docutils literal notranslate"><span class="pre">dag_id</span></code> from flag (<code class="docutils literal notranslate"><span class="pre">-d</span></code>, <code class="docutils literal notranslate"><span class="pre">--dag-id</span></code>) to a positional argument in the <code class="docutils literal notranslate"><span class="pre">dags</span> <span class="pre">list-runs</span></code> CLI command.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">db</span> <span class="pre">init</span></code> and <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">db</span> <span class="pre">upgrade</span></code> commands have been removed. Use <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">db</span> <span class="pre">migrate</span></code> instead
to initialize or migrate the metadata database. If you would like to create default connections use
<code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">connections</span> <span class="pre">create-default-connections</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">api-server</span></code> has replaced <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">webserver</span></code> cli command.</p></li>
</ul>
</section>
</section>
<section id="provider-refactor-standardization">
<h3>Provider Refactor &amp; Standardization<a class="headerlink" href="#provider-refactor-standardization" title="Link to this heading">¶</a></h3>
<p>Airflow 3.0 completes the migration of several core operators, sensors, and hooks into the new
<code class="docutils literal notranslate"><span class="pre">apache-airflow-providers-standard</span></code> package. This package now includes commonly used components such as:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PythonOperator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BashOperator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EmailOperator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SimpleHttpOperator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ShortCircuitOperator</span></code></p></li>
</ul>
<p>These operators were previously bundled inside <code class="docutils literal notranslate"><span class="pre">airflow-core</span></code> but are now treated as provider-managed components to
improve modularity, testability, and lifecycle independence.</p>
<p>This change enables more consistent versioning across providers and prepares Airflow for a future where all integrations
— including “standard” ones — follow the same interface model.</p>
<p>To maintain compatibility with existing DAGs, the <code class="docutils literal notranslate"><span class="pre">apache-airflow-providers-standard</span></code> package is installable on both
Airflow 2.x and 3.x. Users upgrading from Airflow 2.x are encouraged to begin updating import paths and testing provider
installation in advance of the upgrade.</p>
<p>Legacy imports such as <code class="docutils literal notranslate"><span class="pre">airflow.operators.python.PythonOperator</span></code> are deprecated and will be removed soon. They should be
replaced with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">airflow.providers.standard.operators.python</span><span class="w"> </span><span class="kn">import</span> <span class="n">PythonOperator</span>
</pre></div>
</div>
</section>
<section id="ui-usability-improvements">
<h3>UI &amp; Usability Improvements<a class="headerlink" href="#ui-usability-improvements" title="Link to this heading">¶</a></h3>
<p>Airflow 3.0 introduces a modernized user experience that complements the new React-based UI architecture (see
Significant Changes). Several areas of the interface have been enhanced to improve visibility, consistency, and
navigability.</p>
<section id="new-home-page">
<h4>New Home Page<a class="headerlink" href="#new-home-page" title="Link to this heading">¶</a></h4>
<p>The Airflow Home page now provides a high-level operational overview of your environment. It includes health checks for
core components (Scheduler, Triggerer, DAG Processor), summary stats for DAG and task instance states, and a real-time
feed of asset-triggered events. This view helps users quickly identify pipeline health, recent activity, and potential
failures.</p>
</section>
<section id="unified-dag-list-view">
<h4>Unified DAG List View<a class="headerlink" href="#unified-dag-list-view" title="Link to this heading">¶</a></h4>
<p>The DAG List page has been refreshed with a cleaner layout and improved responsiveness. Users can browse DAGs by name,
tags, or owners. While full-text search has not yet been integrated, filters and navigation have been refined for
clarity in large deployments.</p>
</section>
<section id="version-aware-graph-and-grid-views">
<h4>Version-Aware Graph and Grid Views<a class="headerlink" href="#version-aware-graph-and-grid-views" title="Link to this heading">¶</a></h4>
<p>The Graph and Grid views now display task information in the context of the DAG version that was used at runtime. This
improves traceability for DAGs that evolve over time and provides more accurate debugging of historical runs.</p>
</section>
<section id="expanded-dag-graph-visualization">
<h4>Expanded DAG Graph Visualization<a class="headerlink" href="#expanded-dag-graph-visualization" title="Link to this heading">¶</a></h4>
<p>The Graph view now supports visualizing the full chain of asset and task dependencies, including assets consumed or
produced across DAG boundaries. This allows users to inspect upstream and downstream lineage in a unified view, making
it easier to trace data flows, debug triggering behavior, and understand conditional dependencies between assets and
tasks.</p>
</section>
<section id="dag-code-view">
<h4>DAG Code View<a class="headerlink" href="#dag-code-view" title="Link to this heading">¶</a></h4>
<p>The “Code” tab now displays the exact DAG source as parsed by the scheduler for the selected DAG version. This allows
users to inspect the precise code that was executed, even for historical runs, and helps debug issues related to
versioned DAG changes.</p>
</section>
<section id="improved-task-log-access">
<h4>Improved Task Log Access<a class="headerlink" href="#improved-task-log-access" title="Link to this heading">¶</a></h4>
<p>Task log access has been streamlined across views. Logs are now easier to access from both the Grid and Task Instance
pages, with cleaner formatting and reduced visual noise.</p>
</section>
<section id="enhanced-asset-and-backfill-views">
<h4>Enhanced Asset and Backfill Views<a class="headerlink" href="#enhanced-asset-and-backfill-views" title="Link to this heading">¶</a></h4>
<p>New UI components support asset-centric DAGs and backfill workflows:</p>
<ul class="simple">
<li><p>Asset definitions are now visible from the DAG details page, allowing users to inspect upstream and downstream asset relationships.</p></li>
<li><p>Backfills can be triggered and monitored directly from the UI, including support for scheduler-managed backfills introduced in Airflow 3.0.</p></li>
</ul>
<p>These improvements make Airflow more accessible to operators, data engineers, and stakeholders working across both
time-based and event-driven workflows.</p>
</section>
</section>
<section id="deprecations-removals">
<h3>Deprecations &amp; Removals<a class="headerlink" href="#deprecations-removals" title="Link to this heading">¶</a></h3>
<p>A number of deprecated features, modules, and interfaces have been removed in Airflow 3.0, completing long-standing
migrations and cleanups.</p>
<p>Users are encouraged to review the following removals to ensure compatibility:</p>
<ul class="simple">
<li><p><strong>SubDag support has been removed</strong> entirely, including the <code class="docutils literal notranslate"><span class="pre">SubDagOperator</span></code>, related CLI and API interfaces. TaskGroups are now the recommended alternative for nested DAG structures.</p></li>
<li><p><strong>SLAs have been removed</strong>: The legacy SLA feature, including SLA callbacks and metrics, has been removed. A more flexible replacement mechanism, <code class="docutils literal notranslate"><span class="pre">DeadlineAlerts</span></code>, is planned for a future version of Airflow. Users who relied on SLA-based notifications should consider implementing custom alerting using task-level success/failure hooks or external monitoring integrations.</p></li>
<li><p><strong>Pickling support has been removed</strong>: All legacy features related to DAG pickling have been fully removed. This includes the <code class="docutils literal notranslate"><span class="pre">PickleDag</span></code> CLI/API, as well as implicit behaviors around <code class="docutils literal notranslate"><span class="pre">store_serialized_dags</span> <span class="pre">=</span> <span class="pre">False</span></code>. DAGs must now be serialized using the JSON-based serialization system. Ensure any custom Python objects used in DAGs are JSON-serializable.</p></li>
<li><p><strong>Context parameter cleanup</strong>: Several previously available context variables have been removed from the task execution context, including <code class="docutils literal notranslate"><span class="pre">conf</span></code>, <code class="docutils literal notranslate"><span class="pre">execution_date</span></code>, and <code class="docutils literal notranslate"><span class="pre">dag_run.external_trigger</span></code>. These values are either no longer applicable or have been renamed (e.g., use <code class="docutils literal notranslate"><span class="pre">dag_run.logical_date</span></code> instead of <code class="docutils literal notranslate"><span class="pre">execution_date</span></code>). DAG authors should ensure that templated fields and Python callables do not reference these deprecated keys.</p></li>
<li><p><strong>Deprecated core imports</strong> have been fully removed. Any use of <code class="docutils literal notranslate"><span class="pre">airflow.operators.*</span></code>, <code class="docutils literal notranslate"><span class="pre">airflow.hooks.*</span></code>, or similar legacy import paths should be updated to import from their respective providers.</p></li>
<li><p><strong>Configuration cleanup</strong>: Several legacy config options have been removed, including:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">scheduler.allow_trigger_in_future</span></code>: DAG runs can no longer be triggered with a future logical date. Use <code class="docutils literal notranslate"><span class="pre">logical_date=None</span></code> instead.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">scheduler.use_job_schedule</span></code> and <code class="docutils literal notranslate"><span class="pre">scheduler.use_local_tz</span></code> have also been removed. These options were deprecated and no longer had any effect.</p></li>
</ul>
</li>
<li><p><strong>Deprecated utility methods</strong> such as those in <code class="docutils literal notranslate"><span class="pre">airflow.utils.helpers</span></code>, <code class="docutils literal notranslate"><span class="pre">airflow.utils.process_utils</span></code>, and <code class="docutils literal notranslate"><span class="pre">airflow.utils.timezone</span></code> have been removed. Equivalent functionality can now be found in the standard Python library or Airflow provider modules.</p></li>
<li><p><strong>Removal of deprecated CLI flags and behavior</strong>: Several CLI entrypoints and arguments that were marked for removal in earlier versions have been cleaned up.</p></li>
</ul>
<p>To assist with the upgrade, tools like <code class="docutils literal notranslate"><span class="pre">ruff</span></code> (e.g., rule <code class="docutils literal notranslate"><span class="pre">AIR302</span></code>) and <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">config</span> <span class="pre">lint</span></code> can help identify
obsolete imports and configuration keys. These utilities are recommended for locating and resolving common
incompatibilities during migration. Please see <a class="reference internal" href="installation/upgrading_to_airflow3.html"><span class="doc">Upgrade Guide</span></a> for more
information.</p>
<section id="summary-of-removed-features">
<h4>Summary of Removed Features<a class="headerlink" href="#summary-of-removed-features" title="Link to this heading">¶</a></h4>
<p>The following table summarizes user-facing features removed in 3.0 and their recommended replacements. Not all of these
are called out individually above.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Feature</strong></p></th>
<th class="head"><p><strong>Replacement / Notes</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>SubDagOperator / SubDAGs</p></td>
<td><p>Use TaskGroups</p></td>
</tr>
<tr class="row-odd"><td><p>SLA callbacks / metrics</p></td>
<td><p>Deadline Alerts (planned post-3.0)</p></td>
</tr>
<tr class="row-even"><td><p>DAG Pickling</p></td>
<td><p>Use JSON serialization; pickling is no longer supported</p></td>
</tr>
<tr class="row-odd"><td><p>Xcom Pickling</p></td>
<td><p>Use custom Xcom backend; pickling is no longer supported</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">execution_date</span></code> context var</p></td>
<td><p>Use <code class="docutils literal notranslate"><span class="pre">dag_run.logical_date</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">conf</span></code> and <code class="docutils literal notranslate"><span class="pre">dag_run.external_trigger</span></code></p></td>
<td><p>Removed from context; use DAG params or <code class="docutils literal notranslate"><span class="pre">dag_run</span></code> APIs</p></td>
</tr>
<tr class="row-even"><td><p>Core <code class="docutils literal notranslate"><span class="pre">EmailOperator</span></code></p></td>
<td><p>Use <code class="docutils literal notranslate"><span class="pre">EmailOperator</span></code> from the <code class="docutils literal notranslate"><span class="pre">smtp</span></code> provider</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">none_failed_or_skipped</span></code> rule</p></td>
<td><p>Use <code class="docutils literal notranslate"><span class="pre">none_failed_min_one_success</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">dummy</span></code> trigger rule</p></td>
<td><p>Use <code class="docutils literal notranslate"><span class="pre">always</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">fail_stop</span></code> argument</p></td>
<td><p>Use <code class="docutils literal notranslate"><span class="pre">fail_fast</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">store_serialized_dags=False</span></code></p></td>
<td><p>DAGs are always serialized; config has no effect</p></td>
</tr>
<tr class="row-odd"><td><p>Deprecated core imports</p></td>
<td><p>Import from appropriate provider package</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SequentialExecutor</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">DebugExecutor</span></code></p></td>
<td><p>Use LocalExecutor for testing</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">.airflowignore</span></code> regex</p></td>
<td><p>Uses glob syntax by default</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="migration-tooling-upgrade-process">
<h3>Migration Tooling &amp; Upgrade Process<a class="headerlink" href="#migration-tooling-upgrade-process" title="Link to this heading">¶</a></h3>
<p>Airflow 3 was designed with migration in mind. Many Airflow 2 DAGs will work without changes, especially if deprecation
warnings were addressed in earlier releases. To support the upgrade, Airflow 3 includes validation tools such as <code class="docutils literal notranslate"><span class="pre">ruff</span></code>
and <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">config</span> <span class="pre">update</span></code>, as well as a simplified startup model.</p>
<p>For a step-by-step upgrade process, see the <a class="reference internal" href="installation/upgrading_to_airflow3.html"><span class="doc">Upgrade Guide</span></a>.</p>
<section id="minimum-supported-versions">
<h4>Minimum Supported Versions<a class="headerlink" href="#minimum-supported-versions" title="Link to this heading">¶</a></h4>
<p>To upgrade to Airflow 3.0, you must be running <strong>Airflow 2.7 or later</strong>.</p>
<p>Airflow 3.0 supports the following Python versions:</p>
<ul class="simple">
<li><p>Python 3.9</p></li>
<li><p>Python 3.10</p></li>
<li><p>Python 3.11</p></li>
<li><p>Python 3.12</p></li>
</ul>
<p>Earlier versions of Airflow or Python are not supported due to architectural changes and updated dependency requirements.</p>
</section>
<section id="dag-compatibility-checks">
<h4>DAG Compatibility Checks<a class="headerlink" href="#dag-compatibility-checks" title="Link to this heading">¶</a></h4>
<p>Airflow now includes a Ruff-based linter with custom rules to detect DAG patterns and interfaces that are no longer
compatible with Airflow 3.0. These checks are packaged under the <code class="docutils literal notranslate"><span class="pre">AIR30x</span></code> rule series. Example usage:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ruff<span class="w"> </span>check<span class="w"> </span>dags/<span class="w"> </span>--select<span class="w"> </span>AIR301<span class="w">  </span>--preview
ruff<span class="w"> </span>check<span class="w"> </span>dags/<span class="w"> </span>--select<span class="w"> </span>AIR301<span class="w"> </span>--fix<span class="w">  </span>--preview
</pre></div>
</div>
<p>These checks can automatically fix many common issues such as renamed arguments, removed imports, or legacy context
variable usage.</p>
</section>
<section id="configuration-migration">
<h4>Configuration Migration<a class="headerlink" href="#configuration-migration" title="Link to this heading">¶</a></h4>
<p>Airflow 3.0 introduces a new utility to validate and upgrade your Airflow configuration file:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>airflow<span class="w"> </span>config<span class="w"> </span>update
airflow<span class="w"> </span>config<span class="w"> </span>update<span class="w"> </span>--fix
</pre></div>
</div>
<p>This utility detects removed or deprecated configuration options and, if desired, updates them in-place.</p>
<p>Additional validation is available via:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>airflow<span class="w"> </span>config<span class="w"> </span>lint
</pre></div>
</div>
<p>This command surfaces obsolete configuration keys and helps align your environment with Airflow 3.0 requirements.</p>
</section>
<section id="metadata-database-upgrade">
<h4>Metadata Database Upgrade<a class="headerlink" href="#metadata-database-upgrade" title="Link to this heading">¶</a></h4>
<p>As with previous major releases, the Airflow 3.0 upgrade includes schema changes to the metadata database. Before
upgrading, it is strongly recommended that you back up your database and optionally run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>airflow<span class="w"> </span>db<span class="w"> </span>clean
</pre></div>
</div>
<p>to remove old task instance, log, or XCom data. To apply the new schema:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>airflow<span class="w"> </span>db<span class="w"> </span>migrate
</pre></div>
</div>
</section>
<section id="startup-behavior-changes">
<h4>Startup Behavior Changes<a class="headerlink" href="#startup-behavior-changes" title="Link to this heading">¶</a></h4>
<p>Airflow components are now started explicitly. For example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>airflow<span class="w"> </span>api-server<span class="w">        </span><span class="c1"># Replaces airflow webserver</span>
airflow<span class="w"> </span>dag-processor<span class="w">     </span><span class="c1"># Required in all environments</span>
</pre></div>
</div>
<p>These changes reflect Airflow’s new service-oriented architecture.</p>
</section>
</section>
<section id="resources">
<h3>Resources<a class="headerlink" href="#resources" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="installation/upgrading_to_airflow3.html"><span class="doc">Upgrade Guide</span></a></p></li>
<li><p><a class="reference external" href="https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals">Airflow AIPs</a></p></li>
</ul>
<p>Airflow 3.0 represents more than a year of collaboration across hundreds of contributors and dozens of organizations. We
thank everyone who helped shape this release through design discussions, code contributions, testing, documentation, and
community feedback. For full details, migration guidance, and upgrade best practices, refer to the official Upgrade
Guide and join the conversation on the Airflow dev and user mailing lists.</p>
</section>
</section>
<section id="airflow-2-10-5-2025-02-10">
<h2><a class="toc-backref" href="#id216" role="doc-backlink">Airflow 2.10.5 (2025-02-10)</a><a class="headerlink" href="#airflow-2-10-5-2025-02-10" title="Link to this heading">¶</a></h2>
<section id="id1">
<h3>Significant Changes<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h3>
<section id="ensure-teardown-tasks-are-executed-when-dag-run-is-set-to-failed-45530">
<h4>Ensure teardown tasks are executed when DAG run is set to failed (#45530)<a class="headerlink" href="#ensure-teardown-tasks-are-executed-when-dag-run-is-set-to-failed-45530" title="Link to this heading">¶</a></h4>
<p>Previously when a DAG run was manually set to “failed” or to “success” state the terminal state was set to all tasks.
But this was a gap for cases when setup- and teardown tasks were defined: If teardown was used to clean-up infrastructure
or other resources, they were also skipped and thus resources could stay allocated.</p>
<p>As of now when setup tasks had been executed before and the DAG is manually set to “failed” or “success” then teardown
tasks are executed. Teardown tasks are skipped if the setup was also skipped.</p>
<p>As a side effect this means if the DAG contains teardown tasks, then the manual marking of DAG as “failed” or “success”
will need to keep the DAG in running state to ensure that teardown tasks will be scheduled. They would not be scheduled
if the DAG is directly set to “failed” or “success”.</p>
</section>
<section id="bug-fixes">
<h4>Bug Fixes<a class="headerlink" href="#bug-fixes" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Prevent using <code class="docutils literal notranslate"><span class="pre">trigger_rule=TriggerRule.ALWAYS</span></code> in a task-generated mapping within bare tasks (#44751)</p></li>
<li><p>Fix ShortCircuitOperator mapped tasks (#44912)</p></li>
<li><p>Fix premature evaluation of tasks with certain trigger rules (e.g. <code class="docutils literal notranslate"><span class="pre">ONE_DONE</span></code>) in a mapped task group (#44937)</p></li>
<li><p>Fix task_id validation in BaseOperator (#44938) (#44938)</p></li>
<li><p>Allow fetching XCom with forward slash from the API and escape it in the UI (#45134)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">FileTaskHandler</span></code> only read from default executor (#46000)</p></li>
<li><p>Fix empty task instance for log (#45702) (#45703)</p></li>
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">skip_if</span></code> and <code class="docutils literal notranslate"><span class="pre">run_if</span></code> decorators before TaskFlow virtualenv tasks are run (#41832) (#45680)</p></li>
<li><p>Fix request body for json requests in event log (#45546) (#45560)</p></li>
<li><p>Ensure teardown tasks are executed when DAG run is set to failed (#45530) (#45581)</p></li>
<li><p>Do not update DR on TI update after task execution (#45348)</p></li>
<li><p>Fix object and array DAG params that have a None default (#45313) (#45315)</p></li>
<li><p>Fix endless sensor rescheduling (#45224) (#45250)</p></li>
<li><p>Evaluate None in SQLAlchemy’s extended JSON type decorator (#45119) (#45120)</p></li>
<li><p>Allow dynamic tasks to be filtered by <code class="docutils literal notranslate"><span class="pre">rendered_map_index</span></code> (#45109) (#45122)</p></li>
<li><p>Handle relative paths when sanitizing URLs (#41995) (#45080)</p></li>
<li><p>Set Autocomplete Off on Login Form (#44929) (#44940)</p></li>
<li><p>Add Webserver parameters <code class="docutils literal notranslate"><span class="pre">max_form_parts</span></code>, <code class="docutils literal notranslate"><span class="pre">max_form_memory_size</span></code> (#46243) (#45749)</p></li>
<li><p>Fixed accessing thread local variable in BaseOperators <code class="docutils literal notranslate"><span class="pre">execute</span></code> safeguard mechanism (#44646) (#46280)</p></li>
<li><p>Add map_index parameter to extra links API (#46337)</p></li>
</ul>
</section>
<section id="miscellaneous">
<h4>Miscellaneous<a class="headerlink" href="#miscellaneous" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Add traceback log output when SIGTERMs was sent (#44880) (#45077)</p></li>
<li><p>Removed the ability for Operators to specify their own “scheduling deps” (#45713) (#45742)</p></li>
<li><p>Deprecate <code class="docutils literal notranslate"><span class="pre">conf</span></code> from Task Context (#44993)</p></li>
</ul>
</section>
</section>
</section>
<section id="airflow-2-10-4-2024-12-16">
<h2><a class="toc-backref" href="#id217" role="doc-backlink">Airflow 2.10.4 (2024-12-16)</a><a class="headerlink" href="#airflow-2-10-4-2024-12-16" title="Link to this heading">¶</a></h2>
<section id="id2">
<h3>Significant Changes<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<section id="taskinstance-priority-weight-is-capped-in-32-bit-signed-integer-ranges-43611">
<h4>TaskInstance <code class="docutils literal notranslate"><span class="pre">priority_weight</span></code> is capped in 32-bit signed integer ranges (#43611)<a class="headerlink" href="#taskinstance-priority-weight-is-capped-in-32-bit-signed-integer-ranges-43611" title="Link to this heading">¶</a></h4>
<p>Some database engines are limited to 32-bit integer values. As some users reported errors in
weight rolled-over to negative values, we decided to cap the value to the 32-bit integer. Even
if internally in python smaller or larger values to 64 bit are supported, <code class="docutils literal notranslate"><span class="pre">priority_weight</span></code> is
capped and only storing values from -2147483648 to 2147483647.</p>
</section>
</section>
<section id="id3">
<h3>Bug Fixes<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix stats of dynamic mapped tasks after automatic retries of failed tasks (#44300)</p></li>
<li><p>Fix wrong display of multi-line messages in the log after filtering (#44457)</p></li>
<li><p>Allow “/” in metrics validator (#42934) (#44515)</p></li>
<li><p>Fix gantt flickering (#44488) (#44517)</p></li>
<li><p>Fix problem with inability to remove fields from Connection form (#40421) (#44442)</p></li>
<li><p>Check pool_slots on partial task import instead of execution (#39724) (#42693)</p></li>
<li><p>Avoid grouping task instance stats by try_number for dynamic mapped tasks (#44300) (#44319)</p></li>
<li><p>Re-queue task when they are stuck in queued (#43520) (#44158)</p></li>
<li><p>Suppress the warnings where we check for sensitive values (#44148) (#44167)</p></li>
<li><p>Fix get_task_instance_try_details to return appropriate schema (#43830) (#44133)</p></li>
<li><p>Log message source details are grouped (#43681) (#44070)</p></li>
<li><p>Fix duplication of Task tries in the UI (#43891) (#43950)</p></li>
<li><p>Add correct mime-type in OpenAPI spec (#43879) (#43901)</p></li>
<li><p>Disable extra links button if link is null or empty (#43844) (#43851)</p></li>
<li><p>Disable XCom list ordering by execution_date (#43680) (#43696)</p></li>
<li><p>Fix venv numpy example which needs to be 1.26 at least to be working in Python 3.12 (#43659)</p></li>
<li><p>Fix Try Selector in Mapped Tasks also on Index 0 (#43590) (#43591)</p></li>
<li><p>Prevent using <code class="docutils literal notranslate"><span class="pre">trigger_rule=&quot;always&quot;</span></code> in a dynamic mapped task (#43810)</p></li>
<li><p>Prevent using <code class="docutils literal notranslate"><span class="pre">trigger_rule=TriggerRule.ALWAYS</span></code> in a task-generated mapping within bare tasks (#44751)</p></li>
</ul>
<section id="doc-only-changes">
<h4>Doc Only Changes<a class="headerlink" href="#doc-only-changes" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Update XCom docs around containers/helm (#44570) (#44573)</p></li>
</ul>
</section>
<section id="id4">
<h4>Miscellaneous<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Raise deprecation warning when accessing inlet or outlet events through str (#43922)</p></li>
</ul>
</section>
</section>
</section>
<section id="airflow-2-10-3-2024-11-05">
<h2><a class="toc-backref" href="#id218" role="doc-backlink">Airflow 2.10.3 (2024-11-05)</a><a class="headerlink" href="#airflow-2-10-3-2024-11-05" title="Link to this heading">¶</a></h2>
<section id="id5">
<h3>Significant Changes<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h3>
<p>No significant changes.</p>
<section id="id6">
<h4>Bug Fixes<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Improves the handling of value masking when setting Airflow variables for enhanced security.  (#43123) (#43278)</p></li>
<li><p>Adds support for task_instance_mutation_hook to handle mapped operators with index 0. (#42661) (#43089)</p></li>
<li><p>Fixes executor cleanup to properly handle zombie tasks when task instances are terminated. (#43065)</p></li>
<li><p>Adds retry logic for HTTP 502 and 504 errors in internal API calls to handle webserver startup issues. (#42994) (#43044)</p></li>
<li><p>Restores the use of separate sessions for writing and deleting RTIF data to prevent StaleDataError. (#42928) (#43012)</p></li>
<li><p>Fixes PythonOperator error by replacing hyphens with underscores in DAG names. (#42993)</p></li>
<li><p>Improving validation of task retries to handle None values (#42532) (#42915)</p></li>
<li><p>Fixes error handling in dataset managers when resolving dataset aliases into new datasets (#42733)</p></li>
<li><p>Enables clicking on task names in the DAG Graph View to correctly select the corresponding task. (#38782) (#42697)</p></li>
<li><p>Prevent redirect loop on /home with tags/last run filters (#42607) (#42609) (#42628)</p></li>
<li><p>Support of host.name in OTEL metrics and usage of OTEL_RESOURCE_ATTRIBUTES in metrics (#42428) (#42604)</p></li>
<li><p>Reduce eyestrain in dark mode with reduced contrast and saturation (#42567) (#42583)</p></li>
<li><p>Handle ENTER key correctly in trigger form and allow manual JSON (#42525) (#42535)</p></li>
<li><p>Ensure DAG trigger form submits with updated parameters upon keyboard submit (#42487) (#42499)</p></li>
<li><p>Do not attempt to provide not <code class="docutils literal notranslate"><span class="pre">stringified</span></code> objects to UI via xcom if pickling is active (#42388) (#42486)</p></li>
<li><p>Fix the span link of task instance to point to the correct span in the scheduler_job_loop (#42430) (#42480)</p></li>
<li><p>Bugfix task execution from runner in Windows (#42426) (#42478)</p></li>
<li><p>Allows overriding the hardcoded OTEL_SERVICE_NAME with an environment variable (#42242) (#42441)</p></li>
<li><p>Improves trigger performance by using <code class="docutils literal notranslate"><span class="pre">selectinload</span></code> instead of <code class="docutils literal notranslate"><span class="pre">joinedload</span></code> (#40487) (#42351)</p></li>
<li><p>Suppress warnings when masking sensitive configs (#43335) (#43337)</p></li>
<li><p>Masking configuration values irrelevant to DAG author (#43040) (#43336)</p></li>
<li><p>Execute templated bash script as file in BashOperator (#43191)</p></li>
<li><p>Fixes schedule_downstream_tasks to include upstream tasks for one_success trigger rule (#42582) (#43299)</p></li>
<li><p>Add retry logic in the scheduler for updating trigger timeouts in case of deadlocks. (#41429) (#42651)</p></li>
<li><p>Mark all tasks as skipped when failing a dag_run manually (#43572)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">TrySelector</span></code> for Mapped Tasks in Logs and Details Grid Panel (#43566)</p></li>
<li><p>Conditionally add OTEL events when processing executor events (#43558) (#43567)</p></li>
<li><p>Fix broken stat <code class="docutils literal notranslate"><span class="pre">scheduler_loop_duration</span></code> (#42886) (#43544)</p></li>
<li><p>Ensure total_entries in /api/v1/dags (#43377) (#43429)</p></li>
<li><p>Include limit and offset in request body schema for List task instances (batch) endpoint (#43479)</p></li>
<li><p>Don’t raise a warning in ExecutorSafeguard when execute is called from an extended operator (#42849) (#43577)</p></li>
</ul>
</section>
<section id="id7">
<h4>Miscellaneous<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Deprecate session auth backend (#42911)</p></li>
<li><p>Removed unicodecsv dependency for providers with Airflow version 2.8.0 and above (#42765) (#42970)</p></li>
<li><p>Remove the referrer from Webserver to Scarf (#42901) (#42942)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">dompurify</span></code> from 2.2.9 to 2.5.6 in /airflow/www (#42263) (#42270)</p></li>
<li><p>Correct docstring format in _get_template_context (#42244) (#42272)</p></li>
<li><p>Backport: Bump Flask-AppBuilder to <code class="docutils literal notranslate"><span class="pre">4.5.2</span></code> (#43309) (#43318)</p></li>
<li><p>Check python version that was used to install pre-commit venvs (#43282) (#43310)</p></li>
<li><p>Resolve warning in Dataset Alias migration (#43425)</p></li>
</ul>
</section>
<section id="id8">
<h4>Doc Only Changes<a class="headerlink" href="#id8" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Clarifying PLUGINS_FOLDER permissions by DAG authors (#43022) (#43029)</p></li>
<li><p>Add templating info to TaskFlow tutorial (#42992)</p></li>
<li><p>Airflow local settings no longer importable from dags folder (#42231) (#42603)</p></li>
<li><p>Fix documentation for cpu and memory usage (#42147) (#42256)</p></li>
<li><p>Fix instruction for docker compose (#43119) (#43321)</p></li>
<li><p>Updates documentation to reflect that dag_warnings is returned instead of import_errors. (#42858) (#42888)</p></li>
</ul>
</section>
</section>
</section>
<section id="airflow-2-10-2-2024-09-18">
<h2><a class="toc-backref" href="#id219" role="doc-backlink">Airflow 2.10.2 (2024-09-18)</a><a class="headerlink" href="#airflow-2-10-2-2024-09-18" title="Link to this heading">¶</a></h2>
<section id="id9">
<h3>Significant Changes<a class="headerlink" href="#id9" title="Link to this heading">¶</a></h3>
<p>No significant changes.</p>
<section id="id10">
<h4>Bug Fixes<a class="headerlink" href="#id10" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Revert “Fix: DAGs are not marked as stale if the dags folder change” (#42220, #42217)</p></li>
<li><p>Add missing open telemetry span and correct scheduled slots documentation (#41985)</p></li>
<li><p>Fix require_confirmation_dag_change (#42063) (#42211)</p></li>
<li><p>Only treat null/undefined as falsy when rendering XComEntry (#42199) (#42213)</p></li>
<li><p>Add extra and <code class="docutils literal notranslate"><span class="pre">renderedTemplates</span></code> as keys to skip <code class="docutils literal notranslate"><span class="pre">camelCasing</span></code> (#42206) (#42208)</p></li>
<li><p>Do not <code class="docutils literal notranslate"><span class="pre">camelcase</span></code> xcom entries (#42182) (#42187)</p></li>
<li><p>Fix task_instance and dag_run links from list views (#42138) (#42143)</p></li>
<li><p>Support multi-line input for Params of type string in trigger UI form (#40414) (#42139)</p></li>
<li><p>Fix details tab log url detection (#42104) (#42114)</p></li>
<li><p>Add new type of exception to catch timeout (#42064) (#42078)</p></li>
<li><p>Rewrite how DAG to dataset / dataset alias are stored (#41987) (#42055)</p></li>
<li><p>Allow dataset alias to add more than one dataset events (#42189) (#42247)</p></li>
</ul>
</section>
<section id="id11">
<h4>Miscellaneous<a class="headerlink" href="#id11" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Limit universal-pathlib below <code class="docutils literal notranslate"><span class="pre">0.2.4</span></code> as it breaks our integration (#42101)</p></li>
<li><p>Auto-fix default deferrable with <code class="docutils literal notranslate"><span class="pre">LibCST</span></code> (#42089)</p></li>
<li><p>Deprecate <code class="docutils literal notranslate"><span class="pre">--tree</span></code> flag for <code class="docutils literal notranslate"><span class="pre">tasks</span> <span class="pre">list</span></code> cli command (#41965)</p></li>
</ul>
</section>
<section id="id12">
<h4>Doc Only Changes<a class="headerlink" href="#id12" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Update <code class="docutils literal notranslate"><span class="pre">security_model.rst</span></code> to clear unauthenticated endpoints exceptions (#42085)</p></li>
<li><p>Add note about dataclasses and attrs to XComs page (#42056)</p></li>
<li><p>Improve docs on markdown docs in DAGs (#42013)</p></li>
<li><p>Add warning that listeners can be dangerous (#41968)</p></li>
</ul>
</section>
</section>
</section>
<section id="airflow-2-10-1-2024-09-05">
<h2><a class="toc-backref" href="#id220" role="doc-backlink">Airflow 2.10.1 (2024-09-05)</a><a class="headerlink" href="#airflow-2-10-1-2024-09-05" title="Link to this heading">¶</a></h2>
<section id="id13">
<h3>Significant Changes<a class="headerlink" href="#id13" title="Link to this heading">¶</a></h3>
<p>No significant changes.</p>
<section id="id14">
<h4>Bug Fixes<a class="headerlink" href="#id14" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Handle Example dags case when checking for missing files (#41874)</p></li>
<li><p>Fix logout link in “no roles” error page (#41845)</p></li>
<li><p>Set end_date and duration for triggers completed with end_from_trigger as True. (#41834)</p></li>
<li><p>DAGs are not marked as stale if the dags folder change (#41829)</p></li>
<li><p>Fix compatibility with FAB provider versions &lt;1.3.0 (#41809)</p></li>
<li><p>Don’t Fail LocalTaskJob on heartbeat (#41810)</p></li>
<li><p>Remove deprecation warning for cgitb in Plugins Manager (#41793)</p></li>
<li><p>Fix log for notifier(instance) without <code class="docutils literal notranslate"><span class="pre">__name__</span></code> (#41699)</p></li>
<li><p>Splitting syspath preparation into stages (#41694)</p></li>
<li><p>Adding url sanitization for extra links (#41680)</p></li>
<li><p>Fix InletEventsAccessors type stub (#41607)</p></li>
<li><p>Fix UI rendering when XCom is INT, FLOAT, BOOL or NULL (#41605)</p></li>
<li><p>Fix try selector refresh (#41503)</p></li>
<li><p>Incorrect try number subtraction producing invalid span id for OTEL airflow (#41535)</p></li>
<li><p>Add WebEncoder for trigger page rendering to avoid render failure (#41485)</p></li>
<li><p>Adding <code class="docutils literal notranslate"><span class="pre">tojson</span></code> filter to example_inlet_event_extra example dag (#41890)</p></li>
<li><p>Add backward compatibility check for executors that don’t inherit BaseExecutor (#41927)</p></li>
</ul>
</section>
<section id="id15">
<h4>Miscellaneous<a class="headerlink" href="#id15" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Bump webpack from 5.76.0 to 5.94.0 in /airflow/www (#41879)</p></li>
<li><p>Adding rel property to hyperlinks in logs (#41783)</p></li>
<li><p>Field Deletion Warning when editing Connections (#41504)</p></li>
<li><p>Make Scarf usage reporting in major+minor versions and counters in buckets (#41900)</p></li>
<li><p>Lower down universal-pathlib minimum to 0.2.2 (#41943)</p></li>
<li><p>Protect against None components of universal pathlib xcom backend (#41938)</p></li>
</ul>
</section>
<section id="id16">
<h4>Doc Only Changes<a class="headerlink" href="#id16" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Remove Debian bullseye support (#41569)</p></li>
<li><p>Add an example for auth with <code class="docutils literal notranslate"><span class="pre">keycloak</span></code> (#41791)</p></li>
</ul>
</section>
</section>
</section>
<section id="airflow-2-10-0-2024-08-15">
<h2><a class="toc-backref" href="#id221" role="doc-backlink">Airflow 2.10.0 (2024-08-15)</a><a class="headerlink" href="#airflow-2-10-0-2024-08-15" title="Link to this heading">¶</a></h2>
<section id="id17">
<h3>Significant Changes<a class="headerlink" href="#id17" title="Link to this heading">¶</a></h3>
<section id="scarf-based-telemetry-airflow-now-collect-telemetry-data-39510">
<h4>Scarf based telemetry: Airflow now collect telemetry data (#39510)<a class="headerlink" href="#scarf-based-telemetry-airflow-now-collect-telemetry-data-39510" title="Link to this heading">¶</a></h4>
<p>Airflow integrates Scarf to collect basic usage data during operation. Deployments can opt-out of data collection by
setting the <code class="docutils literal notranslate"><span class="pre">[usage_data_collection]enabled</span></code> option to <code class="docutils literal notranslate"><span class="pre">False</span></code>, or the <code class="docutils literal notranslate"><span class="pre">SCARF_ANALYTICS=false</span></code> environment variable.</p>
</section>
<section id="datasets-no-longer-trigger-inactive-dags-38891">
<h4>Datasets no longer trigger inactive DAGs (#38891)<a class="headerlink" href="#datasets-no-longer-trigger-inactive-dags-38891" title="Link to this heading">¶</a></h4>
<p>Previously, when a DAG is paused or removed, incoming dataset events would still
trigger it, and the DAG would run when it is unpaused or added back in a DAG
file. This has been changed; a DAG’s dataset schedule can now only be satisfied
by events that occur when the DAG is active. While this is a breaking change,
the previous behavior is considered a bug.</p>
<p>The behavior of time-based scheduling is unchanged, including the timetable part
of <code class="docutils literal notranslate"><span class="pre">DatasetOrTimeSchedule</span></code>.</p>
</section>
<section id="try-number-is-no-longer-incremented-during-task-execution-39336">
<h4><code class="docutils literal notranslate"><span class="pre">try_number</span></code> is no longer incremented during task execution (#39336)<a class="headerlink" href="#try-number-is-no-longer-incremented-during-task-execution-39336" title="Link to this heading">¶</a></h4>
<p>Previously, the try number (<code class="docutils literal notranslate"><span class="pre">try_number</span></code>) was incremented at the beginning of task execution on the worker. This was problematic for many reasons.
For one it meant that the try number was incremented when it was not supposed to, namely when resuming from reschedule or deferral. And it also resulted in
the try number being “wrong” when the task had not yet started. The workarounds for these two issues caused a lot of confusion.</p>
<p>Now, instead, the try number for a task run is determined at the time the task is scheduled, and does not change in flight, and it is never decremented.
So after the task runs, the observed try number remains the same as it was when the task was running; only when there is a “new try” will the try number be incremented again.</p>
<p>One consequence of this change is, if users were “manually” running tasks (e.g. by calling <code class="docutils literal notranslate"><span class="pre">ti.run()</span></code> directly, or command line <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">tasks</span> <span class="pre">run</span></code>),
try number will no longer be incremented. Airflow assumes that tasks are always run after being scheduled by the scheduler, so we do not regard this as a breaking change.</p>
</section>
<section id="logout-endpoint-in-fab-auth-manager-is-now-csrf-protected-40145">
<h4><code class="docutils literal notranslate"><span class="pre">/logout</span></code> endpoint in FAB Auth Manager is now CSRF protected (#40145)<a class="headerlink" href="#logout-endpoint-in-fab-auth-manager-is-now-csrf-protected-40145" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">/logout</span></code> endpoint’s method in FAB Auth Manager has been changed from <code class="docutils literal notranslate"><span class="pre">GET</span></code> to <code class="docutils literal notranslate"><span class="pre">POST</span></code> in all existing
AuthViews (<code class="docutils literal notranslate"><span class="pre">AuthDBView</span></code>, <code class="docutils literal notranslate"><span class="pre">AuthLDAPView</span></code>, <code class="docutils literal notranslate"><span class="pre">AuthOAuthView</span></code>, <code class="docutils literal notranslate"><span class="pre">AuthOIDView</span></code>, <code class="docutils literal notranslate"><span class="pre">AuthRemoteUserView</span></code>), and
now includes CSRF protection to enhance security and prevent unauthorized logouts.</p>
</section>
<section id="opentelemetry-traces-for-apache-airflow-37948">
<h4>OpenTelemetry Traces for Apache Airflow (#37948).<a class="headerlink" href="#opentelemetry-traces-for-apache-airflow-37948" title="Link to this heading">¶</a></h4>
<p>This new feature adds capability for Apache Airflow to emit 1) airflow system traces of scheduler,
triggerer, executor, processor 2) DAG run traces for deployed DAG runs in OpenTelemetry format. Previously, only metrics were supported which emitted metrics in OpenTelemetry.
This new feature will add richer data for users to use OpenTelemetry standard to emit and send their trace data to OTLP compatible endpoints.</p>
</section>
<section id="decorator-for-task-flow-skip-if-run-if-to-make-it-simple-to-apply-whether-or-not-to-skip-a-task-41116">
<h4>Decorator for Task Flow <code class="docutils literal notranslate"><span class="pre">(&#64;skip_if,</span> <span class="pre">&#64;run_if)</span></code> to make it simple to apply whether or not to skip a Task. (#41116)<a class="headerlink" href="#decorator-for-task-flow-skip-if-run-if-to-make-it-simple-to-apply-whether-or-not-to-skip-a-task-41116" title="Link to this heading">¶</a></h4>
<p>This feature adds a decorator to make it simple to skip a Task.</p>
</section>
<section id="using-multiple-executors-concurrently-40701">
<h4>Using Multiple Executors Concurrently (#40701)<a class="headerlink" href="#using-multiple-executors-concurrently-40701" title="Link to this heading">¶</a></h4>
<p>Previously known as hybrid executors, this new feature allows Airflow to use multiple executors concurrently. DAGs, or even individual tasks, can be configured
to use a specific executor that suits its needs best. A single DAG can contain tasks all using different executors. Please see the Airflow documentation for
more details. Note: This feature is still experimental. See <a class="reference external" href="https://airflow.apache.org/docs/apache-airflow/stable/core-concepts/executor/index.html#using-multiple-executors-concurrently">documentation on Executor</a> for a more detailed description.</p>
</section>
<section id="new-features">
<h4>New Features<a class="headerlink" href="#new-features" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>AIP-61 Hybrid Execution (<a class="reference external" href="https://github.com/apache/airflow/pulls?q=is%3Apr+label%3Aarea%3Ahybrid-executors+is%3Aclosed+milestone%3A%22Airflow+2.10.0%22">AIP-61</a>)</p></li>
<li><p>AIP-62 Getting Lineage from Hook Instrumentation (<a class="reference external" href="https://github.com/apache/airflow/pulls?q=is%3Apr+is%3Amerged+label%3AAIP-62+milestone%3A%22Airflow+2.10.0%22">AIP-62</a>)</p></li>
<li><p>AIP-64 TaskInstance Try History (<a class="reference external" href="https://github.com/apache/airflow/pulls?q=is%3Apr+is%3Amerged+label%3AAIP-64+milestone%3A%22Airflow+2.10.0%22">AIP-64</a>)</p></li>
<li><p>AIP-44 Internal API (<a class="reference external" href="https://github.com/apache/airflow/pulls?q=is%3Apr+label%3AAIP-44+milestone%3A%22Airflow+2.10.0%22+is%3Aclosed">AIP-44</a>)</p></li>
<li><p>Enable ending the task directly from the triggerer without going into the worker. (#40084)</p></li>
<li><p>Extend dataset dependencies (#40868)</p></li>
<li><p>Feature/add token authentication to internal api (#40899)</p></li>
<li><p>Add DatasetAlias to support dynamic Dataset Event Emission and Dataset Creation (#40478)</p></li>
<li><p>Add example DAGs for inlet_events (#39893)</p></li>
<li><p>Implement <code class="docutils literal notranslate"><span class="pre">accessors</span></code> to read dataset events defined as inlet (#39367)</p></li>
<li><p>Decorator for Task Flow, to make it simple to apply whether or not to skip a Task. (#41116)</p></li>
<li><p>Add start execution from triggerer support to dynamic task mapping (#39912)</p></li>
<li><p>Add try_number to log table (#40739)</p></li>
<li><p>Added ds_format_locale method in macros which allows localizing datetime formatting using Babel (#40746)</p></li>
<li><p>Add DatasetAlias to support dynamic Dataset Event Emission and Dataset Creation (#40478, #40723, #40809, #41264, #40830, #40693, #41302)</p></li>
<li><p>Use sentinel to mark dag as removed on re-serialization (#39825)</p></li>
<li><p>Add parameter for the last number of queries to the DB in DAG file processing stats (#40323)</p></li>
<li><p>Add prototype version dark mode for Airflow UI (#39355)</p></li>
<li><p>Add ability to mark some tasks as successful in <code class="docutils literal notranslate"><span class="pre">dag</span> <span class="pre">test</span></code>  (#40010)</p></li>
<li><p>Allow use of callable for template_fields (#37028)</p></li>
<li><p>Filter running/failed and active/paused dags on the home page(#39701)</p></li>
<li><p>Add metrics about task CPU and memory usage (#39650)</p></li>
<li><p>UI changes for DAG Re-parsing feature (#39636)</p></li>
<li><p>Add Scarf based telemetry (#39510, #41318)</p></li>
<li><p>Add dag re-parsing request endpoint (#39138)</p></li>
<li><p>Redirect to new DAGRun after trigger from Grid view (#39569)</p></li>
<li><p>Display <code class="docutils literal notranslate"><span class="pre">endDate</span></code> in task instance tooltip. (#39547)</p></li>
<li><p>Implement <code class="docutils literal notranslate"><span class="pre">accessors</span></code> to read dataset events defined as inlet (#39367, #39893)</p></li>
<li><p>Add color to log lines in UI for error and warnings based on keywords (#39006)</p></li>
<li><p>Add Rendered k8s pod spec tab to ti details view (#39141)</p></li>
<li><p>Make audit log before/after filterable (#39120)</p></li>
<li><p>Consolidate grid collapse actions to a single full screen toggle (#39070)</p></li>
<li><p>Implement Metadata to emit runtime extra (#38650)</p></li>
<li><p>Add executor field to the DB and parameter to the operators (#38474)</p></li>
<li><p>Implement context accessor for DatasetEvent extra (#38481)</p></li>
<li><p>Add dataset event info to dag graph (#41012)</p></li>
<li><p>Add button to toggle datasets on/off in dag graph (#41200)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">run_if</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">skip_if</span></code> decorators (#41116)</p></li>
<li><p>Add dag_stats rest api endpoint (#41017)</p></li>
<li><p>Add listeners for Dag import errors (#39739)</p></li>
<li><p>Allowing DateTimeSensorAsync, FileSensor and TimeSensorAsync to start execution from trigger during dynamic task mapping (#41182)</p></li>
</ul>
</section>
<section id="improvements">
<h4>Improvements<a class="headerlink" href="#improvements" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Allow set Dag Run resource into Dag Level permission: extends Dag’s access_control feature to allow Dag Run resource permissions. (#40703)</p></li>
<li><p>Improve security and error handling for the internal API (#40999)</p></li>
<li><p>Datasets UI Improvements (#40871)</p></li>
<li><p>Change DAG Audit log tab to Event Log (#40967)</p></li>
<li><p>Make standalone dag file processor works in DB isolation mode (#40916)</p></li>
<li><p>Show only the source on the consumer DAG page and only triggered DAG run in the producer DAG page (#41300)</p></li>
<li><p>Update metrics names to allow multiple executors to report metrics (#40778)</p></li>
<li><p>Format DAG run count (#39684)</p></li>
<li><p>Update styles for <code class="docutils literal notranslate"><span class="pre">renderedjson</span></code> component (#40964)</p></li>
<li><p>Improve ATTRIBUTE_REMOVED sentinel to use class and more context (#40920)</p></li>
<li><p>Make XCom display as react json (#40640)</p></li>
<li><p>Replace usages of task context logger with the log table (#40867)</p></li>
<li><p>Rollback for all retry exceptions (#40882) (#40883)</p></li>
<li><p>Support rendering ObjectStoragePath value (#40638)</p></li>
<li><p>Add try_number and map_index as params for log event endpoint (#40845)</p></li>
<li><p>Rotate fernet key in batches to limit memory usage (#40786)</p></li>
<li><p>Add gauge metric for ‘last_num_of_db_queries’ parameter (#40833)</p></li>
<li><p>Set parallelism log messages to warning level for better visibility (#39298)</p></li>
<li><p>Add error handling for encoding the dag runs (#40222)</p></li>
<li><p>Use params instead of dag_run.conf in example DAG (#40759)</p></li>
<li><p>Load Example Plugins with Example DAGs (#39999)</p></li>
<li><p>Stop deferring TimeDeltaSensorAsync task when the target_dttm is in the past (#40719)</p></li>
<li><p>Send important executor logs to task logs (#40468)</p></li>
<li><p>Open external links in new tabs (#40635)</p></li>
<li><p>Attempt to add ReactJSON view to rendered templates (#40639)</p></li>
<li><p>Speeding up regex match time for custom warnings (#40513)</p></li>
<li><p>Refactor DAG.dataset_triggers into the timetable class (#39321)</p></li>
<li><p>add next_kwargs to StartTriggerArgs (#40376)</p></li>
<li><p>Improve UI error handling (#40350)</p></li>
<li><p>Remove double warning in CLI  when config value is deprecated (#40319)</p></li>
<li><p>Implement XComArg concat() (#40172)</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">get_extra_dejson</span></code> method with nested parameter which allows you to specify if you want the nested json as string to be also deserialized (#39811)</p></li>
<li><p>Add executor field to the task instance API (#40034)</p></li>
<li><p>Support checking for db path absoluteness on Windows (#40069)</p></li>
<li><p>Introduce StartTriggerArgs and prevent start trigger initialization in scheduler (#39585)</p></li>
<li><p>Add task documentation to details tab in grid view (#39899)</p></li>
<li><p>Allow executors to be specified with only the class name of the Executor (#40131)</p></li>
<li><p>Remove obsolete conditional logic related to try_number (#40104)</p></li>
<li><p>Allow Task Group Ids to be passed as branches in BranchMixIn (#38883)</p></li>
<li><p>Javascript connection form will apply CodeMirror to all textarea’s dynamically (#39812)</p></li>
<li><p>Determine needs_expansion at time of serialization (#39604)</p></li>
<li><p>Add indexes on dag_id column in referencing tables to speed up deletion of dag records (#39638)</p></li>
<li><p>Add task failed dependencies to details page (#38449)</p></li>
<li><p>Remove webserver try_number adjustment (#39623)</p></li>
<li><p>Implement slicing in lazy sequence (#39483)</p></li>
<li><p>Unify lazy db sequence implementations (#39426)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">__getattr__</span></code> to task decorator stub (#39425)</p></li>
<li><p>Allow passing labels to FAB Views registered via Plugins (#39444)</p></li>
<li><p>Simpler error message when trying to offline migrate with sqlite (#39441)</p></li>
<li><p>Add soft_fail to TriggerDagRunOperator (#39173)</p></li>
<li><p>Rename “dataset event” in context to use “outlet” (#39397)</p></li>
<li><p>Resolve <code class="docutils literal notranslate"><span class="pre">RemovedIn20Warning</span></code> in <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">task</span></code> command (#39244)</p></li>
<li><p>Determine fail_stop on client side when db isolated (#39258)</p></li>
<li><p>Refactor cloudpickle support in Python operators/decorators (#39270)</p></li>
<li><p>Update trigger kwargs migration to specify existing_nullable (#39361)</p></li>
<li><p>Allowing tasks to start execution directly from triggerer without going to worker (#38674)</p></li>
<li><p>Better <code class="docutils literal notranslate"><span class="pre">db</span> <span class="pre">migrate</span></code> error messages (#39268)</p></li>
<li><p>Add stacklevel into the <code class="docutils literal notranslate"><span class="pre">suppress_and_warn</span></code> warning (#39263)</p></li>
<li><p>Support searching by dag_display_name (#39008)</p></li>
<li><p>Allow sort by on all fields in MappedInstances.tsx (#38090)</p></li>
<li><p>Expose count of scheduled tasks in metrics (#38899)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">declarative_base</span></code> from <code class="docutils literal notranslate"><span class="pre">sqlalchemy.orm</span></code> instead of <code class="docutils literal notranslate"><span class="pre">sqlalchemy.ext.declarative</span></code> (#39134)</p></li>
<li><p>Add example DAG to demonstrate emitting approaches (#38821)</p></li>
<li><p>Give <code class="docutils literal notranslate"><span class="pre">on_task_instance_failed</span></code> access to the error that caused the failure (#38155)</p></li>
<li><p>Simplify dataset serialization (#38694)</p></li>
<li><p>Add heartbeat recovery message to jobs (#34457)</p></li>
<li><p>Remove select_column option in TaskInstance.get_task_instance (#38571)</p></li>
<li><p>Don’t create session in get_dag if not reading dags from database (#38553)</p></li>
<li><p>Add a migration script for encrypted trigger kwargs (#38358)</p></li>
<li><p>Implement render_templates on TaskInstancePydantic (#38559)</p></li>
<li><p>Handle optional session in _refresh_from_db (#38572)</p></li>
<li><p>Make type annotation less confusing in task_command.py (#38561)</p></li>
<li><p>Use fetch_dagrun directly to avoid session creation (#38557)</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">output_processor</span></code> parameter to <code class="docutils literal notranslate"><span class="pre">BashProcessor</span></code> (#40843)</p></li>
<li><p>Improve serialization for Database Isolation Mode (#41239)</p></li>
<li><p>Only orphan non-orphaned Datasets (#40806)</p></li>
<li><p>Adjust gantt width based on task history dates (#41192)</p></li>
<li><p>Enable scrolling on legend with high number of elements. (#41187)</p></li>
</ul>
</section>
<section id="id18">
<h4>Bug Fixes<a class="headerlink" href="#id18" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Bugfix for get_parsing_context() when ran with LocalExecutor (#40738)</p></li>
<li><p>Validating provider documentation urls before displaying in views (#40933)</p></li>
<li><p>Move import to make PythonOperator working on Windows (#40424)</p></li>
<li><p>Fix dataset_with_extra_from_classic_operator example DAG (#40747)</p></li>
<li><p>Call listener on_task_instance_failed() after ti state is changed (#41053)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">never_fail</span></code> in BaseSensor (#40915)</p></li>
<li><p>Fix tasks API endpoint when DAG doesn’t have <code class="docutils literal notranslate"><span class="pre">start_date</span></code> (#40878)</p></li>
<li><p>Fix and adjust URL generation for UI grid and older runs (#40764)</p></li>
<li><p>Rotate fernet key optimization (#40758)</p></li>
<li><p>Fix class instance vs. class type in validate_database_executor_compatibility() call (#40626)</p></li>
<li><p>Clean up dark mode (#40466)</p></li>
<li><p>Validate expected types for args for DAG, BaseOperator and TaskGroup (#40269)</p></li>
<li><p>Exponential Backoff Not Functioning in BaseSensorOperator Reschedule Mode (#39823)</p></li>
<li><p>local task job: add timeout, to not kill on_task_instance_success listener prematurely (#39890)</p></li>
<li><p>Move Post Execution Log Grouping behind Exception Print (#40146)</p></li>
<li><p>Fix triggerer race condition in HA setting (#38666)</p></li>
<li><p>Pass triggered or existing DAG Run logical date to DagStateTrigger (#39960)</p></li>
<li><p>Passing <code class="docutils literal notranslate"><span class="pre">external_task_group_id</span></code> to <code class="docutils literal notranslate"><span class="pre">WorkflowTrigger</span></code> (#39617)</p></li>
<li><p>ECS Executor: Set tasks to RUNNING state once active (#39212)</p></li>
<li><p>Only heartbeat if necessary in backfill loop (#39399)</p></li>
<li><p>Fix trigger kwarg encryption migration (#39246)</p></li>
<li><p>Fix decryption of trigger kwargs when downgrading. (#38743)</p></li>
<li><p>Fix wrong link in TriggeredDagRuns (#41166)</p></li>
<li><p>Pass MapIndex to LogLink component for external log systems (#41125)</p></li>
<li><p>Add NonCachingRotatingFileHandler for worker task (#41064)</p></li>
<li><p>Add argument include_xcom in method resolve an optional value (#41062)</p></li>
<li><p>Sanitizing file names in example_bash_decorator DAG (#40949)</p></li>
<li><p>Show dataset aliases in dependency graphs (#41128)</p></li>
<li><p>Render Dataset Conditions in DAG Graph view (#41137)</p></li>
<li><p>Add task duration plot across dagruns (#40755)</p></li>
<li><p>Add start execution from trigger support for existing core sensors (#41021)</p></li>
<li><p>add example dag for dataset_alias (#41037)</p></li>
<li><p>Add dataset alias unique constraint and remove wrong dataset alias removing logic (#41097)</p></li>
<li><p>Set “has_outlet_datasets” to true if “dataset alias” exists (#41091)</p></li>
<li><p>Make HookLineageCollector group datasets by (#41034)</p></li>
<li><p>Enhance start_trigger_args serialization (#40993)</p></li>
<li><p>Refactor <code class="docutils literal notranslate"><span class="pre">BaseSensorOperator</span></code> introduce <code class="docutils literal notranslate"><span class="pre">skip_policy</span></code> parameter (#40924)</p></li>
<li><p>Fix viewing logs from triggerer when task is deferred (#41272)</p></li>
<li><p>Refactor how triggered dag run url is replaced (#41259)</p></li>
<li><p>Added support for additional sql alchemy session args (#41048)</p></li>
<li><p>Allow empty list in TriggerDagRun failed_state (#41249)</p></li>
<li><p>Clean up the exception handler when run_as_user is the airflow user  (#41241)</p></li>
<li><p>Collapse docs when click and folded (#41214)</p></li>
<li><p>Update updated_at when saving to db as session.merge does not trigger on-update (#40782)</p></li>
<li><p>Fix query count statistics when parsing DAF file (#41149)</p></li>
<li><p>Method Resolution Order in operators without <code class="docutils literal notranslate"><span class="pre">__init__</span></code> (#41086)</p></li>
<li><p>Ensure try_number incremented for empty operator (#40426)</p></li>
</ul>
</section>
<section id="id19">
<h4>Miscellaneous<a class="headerlink" href="#id19" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Remove the Experimental flag from <code class="docutils literal notranslate"><span class="pre">OTel</span></code> Traces (#40874)</p></li>
<li><p>Bump packaging version to 23.0 in order to fix issue with older otel (#40865)</p></li>
<li><p>Simplify _auth_manager_is_authorized_map function (#40803)</p></li>
<li><p>Use correct unknown executor exception in scheduler job (#40700)</p></li>
<li><p>Add D1 <code class="docutils literal notranslate"><span class="pre">pydocstyle</span></code> rules to pyproject.toml (#40569)</p></li>
<li><p>Enable enforcing <code class="docutils literal notranslate"><span class="pre">pydocstyle</span></code> rule D213 in ruff. (#40448, #40464)</p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">Dag.test()</span></code> to run with an executor if desired (#40205)</p></li>
<li><p>Update jest and babel minor versions (#40203)</p></li>
<li><p>Refactor BashOperator and Bash decorator for consistency and simplicity (#39871)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">AirflowInternalRuntimeError</span></code> for raise <code class="docutils literal notranslate"><span class="pre">non</span> <span class="pre">catchable</span></code> errors (#38778)</p></li>
<li><p>ruff version bump 0.4.5 (#39849)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">pytest</span></code> to 8.0+ (#39450)</p></li>
<li><p>Remove stale comment about TI index (#39470)</p></li>
<li><p>Configure <code class="docutils literal notranslate"><span class="pre">back_populates</span></code> between <code class="docutils literal notranslate"><span class="pre">DagScheduleDatasetReference.dag</span></code> and <code class="docutils literal notranslate"><span class="pre">DagModel.schedule_dataset_references</span></code> (#39392)</p></li>
<li><p>Remove deprecation warnings in endpoints.py (#39389)</p></li>
<li><p>Fix SQLA deprecations in Airflow core (#39211)</p></li>
<li><p>Use class-bound attribute directly in SA (#39198, #39195)</p></li>
<li><p>Fix stacklevel for TaskContextLogger (#39142)</p></li>
<li><p>Capture warnings during collect DAGs (#39109)</p></li>
<li><p>Resolve <code class="docutils literal notranslate"><span class="pre">B028</span></code> (no-explicit-stacklevel) in core (#39123)</p></li>
<li><p>Rename model <code class="docutils literal notranslate"><span class="pre">ImportError</span></code> to <code class="docutils literal notranslate"><span class="pre">ParseImportError</span></code> for avoid shadowing with builtin exception (#39116)</p></li>
<li><p>Add option to support cloudpickle in PythonVenv/External Operator (#38531)</p></li>
<li><p>Suppress <code class="docutils literal notranslate"><span class="pre">SubDagOperator</span></code> examples warnings (#39057)</p></li>
<li><p>Add log for running callback (#38892)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">model_dump</span></code> instead of <code class="docutils literal notranslate"><span class="pre">dict</span></code> for serialize Pydantic V2 model (#38933)</p></li>
<li><p>Widen cheat sheet column to avoid wrapping commands (#38888)</p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">hatchling</span></code> to latest version (1.22.5) (#38780)</p></li>
<li><p>bump uv to 0.1.29 (#38758)</p></li>
<li><p>Add missing serializations found during provider tests fixing (#41252)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">ws</span></code> from 7.5.5 to 7.5.10 in /airflow/www (#40288)</p></li>
<li><p>Improve typing for allowed/failed_states in TriggerDagRunOperator (#39855)</p></li>
</ul>
</section>
<section id="id20">
<h4>Doc Only Changes<a class="headerlink" href="#id20" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">filesystems</span></code> and <code class="docutils literal notranslate"><span class="pre">dataset-uris</span></code> to “how to create your own provider” page (#40801)</p></li>
<li><p>Fix (TM) to (R) in Airflow repository (#40783)</p></li>
<li><p>Set <code class="docutils literal notranslate"><span class="pre">otel_on</span></code> to True in example airflow.cfg (#40712)</p></li>
<li><p>Add warning for _AIRFLOW_PATCH_GEVENT  (#40677)</p></li>
<li><p>Update multi-team diagram proposal after Airflow 3 discussions (#40671)</p></li>
<li><p>Add stronger warning that MSSQL is not supported and no longer functional (#40565)</p></li>
<li><p>Fix misleading mac menu structure in howto (#40440)</p></li>
<li><p>Update k8s supported version in docs (#39878)</p></li>
<li><p>Add compatibility note for Listeners (#39544)</p></li>
<li><p>Update edge label image in documentation example with the new graph view (#38802)</p></li>
<li><p>Update UI doc screenshots (#38680)</p></li>
<li><p>Add section “Manipulating queued dataset events through REST API” (#41022)</p></li>
<li><p>Add information about lack of security guarantees for docker compose (#41072)</p></li>
<li><p>Add links to example dags in use params section (#41031)</p></li>
<li><p>Change <code class="docutils literal notranslate"><span class="pre">task_id</span></code> from <code class="docutils literal notranslate"><span class="pre">send_email</span></code> to <code class="docutils literal notranslate"><span class="pre">send_email_notification</span></code> in <code class="docutils literal notranslate"><span class="pre">taskflow.rst</span></code> (#41060)</p></li>
<li><p>Remove unnecessary nginx redirect rule from reverse proxy documentation (#38953)</p></li>
</ul>
</section>
</section>
</section>
<section id="airflow-2-9-3-2024-07-15">
<h2><a class="toc-backref" href="#id222" role="doc-backlink">Airflow 2.9.3 (2024-07-15)</a><a class="headerlink" href="#airflow-2-9-3-2024-07-15" title="Link to this heading">¶</a></h2>
<section id="id21">
<h3>Significant Changes<a class="headerlink" href="#id21" title="Link to this heading">¶</a></h3>
<section id="time-unit-for-scheduled-duration-and-queued-duration-changed-37936">
<h4>Time unit for <code class="docutils literal notranslate"><span class="pre">scheduled_duration</span></code> and <code class="docutils literal notranslate"><span class="pre">queued_duration</span></code> changed (#37936)<a class="headerlink" href="#time-unit-for-scheduled-duration-and-queued-duration-changed-37936" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">scheduled_duration</span></code> and <code class="docutils literal notranslate"><span class="pre">queued_duration</span></code> metrics are now emitted in milliseconds instead of seconds.</p>
<p>By convention all statsd metrics should be emitted in milliseconds, this is later expected in e.g. <code class="docutils literal notranslate"><span class="pre">prometheus</span></code> statsd-exporter.</p>
</section>
<section id="support-for-opentelemetry-metrics-is-no-longer-experimental-40286">
<h4>Support for OpenTelemetry Metrics is no longer “Experimental” (#40286)<a class="headerlink" href="#support-for-opentelemetry-metrics-is-no-longer-experimental-40286" title="Link to this heading">¶</a></h4>
<p>Experimental support for OpenTelemetry was added in 2.7.0 since then fixes and improvements were added and now we announce the feature as stable.</p>
</section>
<section id="id22">
<h4>Bug Fixes<a class="headerlink" href="#id22" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Fix calendar view scroll (#40458)</p></li>
<li><p>Validating provider description for urls in provider list view (#40475)</p></li>
<li><p>Fix compatibility with old MySQL 8.0 (#40314)</p></li>
<li><p>Fix dag (un)pausing won’t work on environment where dag files are missing (#40345)</p></li>
<li><p>Extra being passed to SQLalchemy (#40391)</p></li>
<li><p>Handle unsupported operand int + str when value of tag is int (job_id) (#40407)</p></li>
<li><p>Fix TriggeredDagRunOperator triggered link (#40336)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">[webserver]update_fab_perms</span></code> to deprecated configs (#40317)</p></li>
<li><p>Swap dag run link from legacy graph to grid with graph tab (#40241)</p></li>
<li><p>Change <code class="docutils literal notranslate"><span class="pre">httpx</span></code> to <code class="docutils literal notranslate"><span class="pre">requests</span></code> in <code class="docutils literal notranslate"><span class="pre">file_task_handler</span></code> (#39799)</p></li>
<li><p>Fix import future annotations in venv jinja template (#40208)</p></li>
<li><p>Ensures DAG params order regardless of backend (#40156)</p></li>
<li><p>Use a join for TI notes in TI batch API endpoint (#40028)</p></li>
<li><p>Improve trigger UI for string array format validation (#39993)</p></li>
<li><p>Disable jinja2 rendering for doc_md (#40522)</p></li>
<li><p>Skip checking sub dags list if taskinstance state is skipped (#40578)</p></li>
<li><p>Recognize quotes when parsing urls in logs (#40508)</p></li>
</ul>
</section>
<section id="id23">
<h4>Doc Only Changes<a class="headerlink" href="#id23" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Add notes about passing secrets via environment variables (#40519)</p></li>
<li><p>Revamp some confusing log messages (#40334)</p></li>
<li><p>Add more precise description of masking sensitive field names (#40512)</p></li>
<li><p>Add slightly more detailed guidance about upgrading to the docs (#40227)</p></li>
<li><p>Metrics allow_list complete example (#40120)</p></li>
<li><p>Add warning to deprecated api docs that access control isn’t applied (#40129)</p></li>
<li><p>Simpler command to check local scheduler is alive (#40074)</p></li>
<li><p>Add a note and an example clarifying the usage of DAG-level params (#40541)</p></li>
<li><p>Fix highlight of example code in dags.rst (#40114)</p></li>
<li><p>Add warning about the PostgresOperator being deprecated (#40662)</p></li>
<li><p>Updating airflow download links to CDN based links (#40618)</p></li>
<li><p>Fix import statement for DatasetOrTimetable example (#40601)</p></li>
<li><p>Further clarify triage process (#40536)</p></li>
<li><p>Fix param order in PythonOperator docstring (#40122)</p></li>
<li><p>Update serializers.rst to mention that bytes are not supported (#40597)</p></li>
</ul>
</section>
<section id="id24">
<h4>Miscellaneous<a class="headerlink" href="#id24" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Upgrade build installers and dependencies (#40177)</p></li>
<li><p>Bump braces from 3.0.2 to 3.0.3 in /airflow/www (#40180)</p></li>
<li><p>Upgrade to another version of trove-classifier (new CUDA classifiers) (#40564)</p></li>
<li><p>Rename “try_number” increments that are unrelated to the airflow concept (#39317)</p></li>
<li><p>Update trove classifiers to the latest version as build dependency (#40542)</p></li>
<li><p>Upgrade to latest version of <code class="docutils literal notranslate"><span class="pre">hatchling</span></code> as build dependency (#40387)</p></li>
<li><p>Fix bug in <code class="docutils literal notranslate"><span class="pre">SchedulerJobRunner._process_executor_events</span></code> (#40563)</p></li>
<li><p>Remove logging for “blocked” events (#40446)</p></li>
</ul>
</section>
</section>
</section>
<section id="airflow-2-9-2-2024-06-10">
<h2><a class="toc-backref" href="#id223" role="doc-backlink">Airflow 2.9.2 (2024-06-10)</a><a class="headerlink" href="#airflow-2-9-2-2024-06-10" title="Link to this heading">¶</a></h2>
<section id="id25">
<h3>Significant Changes<a class="headerlink" href="#id25" title="Link to this heading">¶</a></h3>
<p>No significant changes.</p>
<section id="id26">
<h4>Bug Fixes<a class="headerlink" href="#id26" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Fix bug that makes <code class="docutils literal notranslate"><span class="pre">AirflowSecurityManagerV2</span></code> leave transactions in the <code class="docutils literal notranslate"><span class="pre">idle</span> <span class="pre">in</span> <span class="pre">transaction</span></code> state (#39935)</p></li>
<li><p>Fix alembic auto-generation and rename mismatching constraints (#39032)</p></li>
<li><p>Add the existing_nullable to the downgrade side of the migration (#39374)</p></li>
<li><p>Fix Mark Instance state buttons stay disabled if user lacks permission (#37451). (#38732)</p></li>
<li><p>Use SKIP LOCKED instead of NOWAIT in mini scheduler (#39745)</p></li>
<li><p>Remove DAG Run Add option from FAB view (#39881)</p></li>
<li><p>Add max_consecutive_failed_dag_runs in API spec (#39830)</p></li>
<li><p>Fix example_branch_operator failing in python 3.12 (#39783)</p></li>
<li><p>Fetch served logs also when task attempt is up for retry and no remote logs available (#39496)</p></li>
<li><p>Change dataset URI validation to raise warning instead of error in Airflow 2.9 (#39670)</p></li>
<li><p>Visible DAG RUN doesn’t point to the same dag run id (#38365)</p></li>
<li><p>Refactor <code class="docutils literal notranslate"><span class="pre">SafeDogStatsdLogger</span></code> to use <code class="docutils literal notranslate"><span class="pre">get_validator</span></code> to enable pattern matching (#39370)</p></li>
<li><p>Fix custom actions in security manager <code class="docutils literal notranslate"><span class="pre">has_access</span></code> (#39421)</p></li>
<li><p>Fix HTTP 500 Internal Server Error if DAG is triggered with bad params (#39409)</p></li>
<li><p>Fix static file caching is disabled in Airflow Webserver. (#39345)</p></li>
<li><p>Fix TaskHandlerWithCustomFormatter now adds prefix only once (#38502)</p></li>
<li><p>Do not provide deprecated <code class="docutils literal notranslate"><span class="pre">execution_date</span></code> in <code class="docutils literal notranslate"><span class="pre">&#64;apply_lineage</span></code> (#39327)</p></li>
<li><p>Add missing conn_id to string representation of ObjectStoragePath (#39313)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">sql_alchemy_engine_args</span></code> config example (#38971)</p></li>
<li><p>Add Cache-Control “no-store” to all dynamically generated content (#39550)</p></li>
</ul>
</section>
<section id="id27">
<h4>Miscellaneous<a class="headerlink" href="#id27" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Limit <code class="docutils literal notranslate"><span class="pre">yandex</span></code> provider to avoid <code class="docutils literal notranslate"><span class="pre">mypy</span></code> errors (#39990)</p></li>
<li><p>Warn on mini scheduler failures instead of debug (#39760)</p></li>
<li><p>Change type definition for <code class="docutils literal notranslate"><span class="pre">provider_info_cache</span></code> decorator (#39750)</p></li>
<li><p>Better typing for BaseOperator <code class="docutils literal notranslate"><span class="pre">defer</span></code> (#39742)</p></li>
<li><p>More typing in TimeSensor and TimeSensorAsync (#39696)</p></li>
<li><p>Re-raise exception from strict dataset URI checks (#39719)</p></li>
<li><p>Fix stacklevel for _log_state helper (#39596)</p></li>
<li><p>Resolve SA warnings in migrations scripts (#39418)</p></li>
<li><p>Remove unused index <code class="docutils literal notranslate"><span class="pre">idx_last_scheduling_decision</span></code> on <code class="docutils literal notranslate"><span class="pre">dag_run</span></code> table (#39275)</p></li>
</ul>
</section>
<section id="id28">
<h4>Doc Only Changes<a class="headerlink" href="#id28" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Provide extra tip on labeling DynamicTaskMapping (#39977)</p></li>
<li><p>Improve visibility of links / variables / other configs in Configuration Reference (#39916)</p></li>
<li><p>Remove ‘legacy’ definition for <code class="docutils literal notranslate"><span class="pre">CronDataIntervalTimetable</span></code> (#39780)</p></li>
<li><p>Update plugins.rst examples to use pyproject.toml over setup.py (#39665)</p></li>
<li><p>Fix nit in pg set-up doc (#39628)</p></li>
<li><p>Add Matomo to Tracking User Activity docs (#39611)</p></li>
<li><p>Fix Connection.get -&gt; Connection. get_connection_from_secrets (#39560)</p></li>
<li><p>Adding note for provider dependencies (#39512)</p></li>
<li><p>Update docker-compose command (#39504)</p></li>
<li><p>Update note about restarting triggerer process (#39436)</p></li>
<li><p>Updating S3LogLink with an invalid bucket link (#39424)</p></li>
<li><p>Update testing_packages.rst (#38996)</p></li>
<li><p>Add multi-team diagrams (#38861)</p></li>
</ul>
</section>
</section>
</section>
<section id="airflow-2-9-1-2024-05-03">
<h2><a class="toc-backref" href="#id224" role="doc-backlink">Airflow 2.9.1 (2024-05-03)</a><a class="headerlink" href="#airflow-2-9-1-2024-05-03" title="Link to this heading">¶</a></h2>
<section id="id29">
<h3>Significant Changes<a class="headerlink" href="#id29" title="Link to this heading">¶</a></h3>
<section id="stackdriver-logging-bugfix-requires-google-provider-10-17-0-or-later-38071">
<h4>Stackdriver logging bugfix requires Google provider <code class="docutils literal notranslate"><span class="pre">10.17.0</span></code> or later (#38071)<a class="headerlink" href="#stackdriver-logging-bugfix-requires-google-provider-10-17-0-or-later-38071" title="Link to this heading">¶</a></h4>
<p>If you use Stackdriver logging, you must use Google provider version <code class="docutils literal notranslate"><span class="pre">10.17.0</span></code> or later. Airflow <code class="docutils literal notranslate"><span class="pre">2.9.1</span></code> now passes <code class="docutils literal notranslate"><span class="pre">gcp_log_name</span></code> to the <code class="docutils literal notranslate"><span class="pre">StackdriverTaskHandler</span></code> instead of <code class="docutils literal notranslate"><span class="pre">name</span></code>, and this will fail on earlier provider versions.</p>
<p>This fixes a bug where the log name configured in <code class="docutils literal notranslate"><span class="pre">[logging]</span> <span class="pre">remove_base_log_folder</span></code> was overridden when Airflow configured logging, resulting in task logs going to the wrong destination.</p>
</section>
<section id="id30">
<h4>Bug Fixes<a class="headerlink" href="#id30" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Make task log messages include run_id (#39280)</p></li>
<li><p>Copy menu_item <code class="docutils literal notranslate"><span class="pre">href</span></code> for nav bar (#39282)</p></li>
<li><p>Fix trigger kwarg encryption migration (#39246, #39361, #39374)</p></li>
<li><p>Add workaround for datetime-local input in <code class="docutils literal notranslate"><span class="pre">firefox</span></code> (#39261)</p></li>
<li><p>Add Grid button to Task Instance view (#39223)</p></li>
<li><p>Get served logs when remote or executor logs not available for non-running task try (#39177)</p></li>
<li><p>Fixed side effect of menu filtering causing disappearing menus (#39229)</p></li>
<li><p>Use grid view for Task Instance’s <code class="docutils literal notranslate"><span class="pre">log_url</span></code> (#39183)</p></li>
<li><p>Improve task filtering <code class="docutils literal notranslate"><span class="pre">UX</span></code> (#39119)</p></li>
<li><p>Improve rendered_template <code class="docutils literal notranslate"><span class="pre">ux</span></code> in react dag page (#39122)</p></li>
<li><p>Graph view improvements (#38940)</p></li>
<li><p>Check that the dataset&lt;&gt;task exists before trying to render graph (#39069)</p></li>
<li><p>Hostname was “redacted”, not “redact”; remove it when there is no context (#39037)</p></li>
<li><p>Check whether <code class="docutils literal notranslate"><span class="pre">AUTH_ROLE_PUBLIC</span></code> is set in <code class="docutils literal notranslate"><span class="pre">check_authentication</span></code> (#39012)</p></li>
<li><p>Move rendering of <code class="docutils literal notranslate"><span class="pre">map_index_template</span></code> so it renders for failed tasks as long as it was defined before the point of failure (#38902)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Undeprecate</span></code> <code class="docutils literal notranslate"><span class="pre">BaseXCom.get_one</span></code> method for now (#38991)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">inherit_cache</span></code> attribute for <code class="docutils literal notranslate"><span class="pre">CreateTableAs</span></code> custom SA Clause (#38985)</p></li>
<li><p>Don’t wait for DagRun lock in mini scheduler (#38914)</p></li>
<li><p>Fix calendar view with no DAG Run (#38964)</p></li>
<li><p>Changed the background color of external task in graph (#38969)</p></li>
<li><p>Fix dag run selection (#38941)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">SAWarning</span></code> ‘Coercing Subquery object into a select() for use in IN()’ (#38926)</p></li>
<li><p>Fix implicit <code class="docutils literal notranslate"><span class="pre">cartesian</span></code> product in AirflowSecurityManagerV2 (#38913)</p></li>
<li><p>Fix problem that links in legacy log view can not be clicked (#38882)</p></li>
<li><p>Fix dag run link params (#38873)</p></li>
<li><p>Use async db calls in WorkflowTrigger (#38689)</p></li>
<li><p>Fix audit log events filter (#38719)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">methodtools.lru_cache</span></code> instead of <code class="docutils literal notranslate"><span class="pre">functools.lru_cache</span></code> in class methods (#37757)</p></li>
<li><p>Raise deprecated warning in <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">dags</span> <span class="pre">backfill</span></code> only if <code class="docutils literal notranslate"><span class="pre">-I</span></code> / <code class="docutils literal notranslate"><span class="pre">--ignore-first-depends-on-past</span></code> provided (#38676)</p></li>
</ul>
</section>
<section id="id31">
<h4>Miscellaneous<a class="headerlink" href="#id31" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TriggerDagRunOperator</span></code> deprecate <code class="docutils literal notranslate"><span class="pre">execution_date</span></code> in favor of <code class="docutils literal notranslate"><span class="pre">logical_date</span></code> (#39285)</p></li>
<li><p>Force to use Airflow Deprecation warnings categories on <code class="docutils literal notranslate"><span class="pre">&#64;deprecated</span></code> decorator (#39205)</p></li>
<li><p>Add warning about run/import Airflow under the Windows (#39196)</p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">is_authorized_custom_view</span></code> from auth manager to handle custom actions (#39167)</p></li>
<li><p>Add in Trove classifiers Python 3.12 support (#39004)</p></li>
<li><p>Use debug level for <code class="docutils literal notranslate"><span class="pre">minischeduler</span></code> skip (#38976)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">undici</span></code> from <code class="docutils literal notranslate"><span class="pre">5.28.3</span> <span class="pre">to</span> <span class="pre">5.28.4</span></code> in <code class="docutils literal notranslate"><span class="pre">/airflow/www</span></code> (#38751)</p></li>
</ul>
</section>
<section id="id32">
<h4>Doc Only Changes<a class="headerlink" href="#id32" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Fix supported k8s version in docs (#39172)</p></li>
<li><p>Dynamic task mapping <code class="docutils literal notranslate"><span class="pre">PythonOperator</span></code> op_kwargs (#39242)</p></li>
<li><p>Add link to <code class="docutils literal notranslate"><span class="pre">user</span></code> and <code class="docutils literal notranslate"><span class="pre">role</span></code> commands (#39224)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">k8s</span> <span class="pre">1.29</span></code> to supported version in docs (#39168)</p></li>
<li><p>Data aware scheduling docs edits (#38687)</p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">DagBag</span></code> class docstring to include all params (#38814)</p></li>
<li><p>Correcting an example taskflow example (#39015)</p></li>
<li><p>Remove decorator from rendering fields example (#38827)</p></li>
</ul>
</section>
</section>
</section>
<section id="airflow-2-9-0-2024-04-08">
<h2><a class="toc-backref" href="#id225" role="doc-backlink">Airflow 2.9.0 (2024-04-08)</a><a class="headerlink" href="#airflow-2-9-0-2024-04-08" title="Link to this heading">¶</a></h2>
<section id="id33">
<h3>Significant Changes<a class="headerlink" href="#id33" title="Link to this heading">¶</a></h3>
<section id="following-listener-api-methods-are-considered-stable-and-can-be-used-for-production-system-were-experimental-feature-in-older-airflow-versions-36376">
<h4>Following Listener API methods are considered stable and can be used for production system (were experimental feature in older Airflow versions) (#36376):<a class="headerlink" href="#following-listener-api-methods-are-considered-stable-and-can-be-used-for-production-system-were-experimental-feature-in-older-airflow-versions-36376" title="Link to this heading">¶</a></h4>
<p>Lifecycle events:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">on_starting</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">before_stopping</span></code></p></li>
</ul>
<p>DagRun State Change Events:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">on_dag_run_running</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">on_dag_run_success</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">on_dag_run_failed</span></code></p></li>
</ul>
<p>TaskInstance State Change Events:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">on_task_instance_running</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">on_task_instance_success</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">on_task_instance_failed</span></code></p></li>
</ul>
</section>
<section id="support-for-microsoft-sql-server-for-airflow-meta-database-has-been-removed-36514">
<h4>Support for Microsoft SQL-Server for Airflow Meta Database has been removed (#36514)<a class="headerlink" href="#support-for-microsoft-sql-server-for-airflow-meta-database-has-been-removed-36514" title="Link to this heading">¶</a></h4>
<p>After <a class="reference external" href="https://lists.apache.org/thread/r06j306hldg03g2my1pd4nyjxg78b3h4">discussion</a>
and a <a class="reference external" href="https://lists.apache.org/thread/pgcgmhf6560k8jbsmz8nlyoxosvltph2">voting process</a>,
the Airflow’s PMC members and Committers have reached a resolution to no longer maintain MsSQL as a
supported Database Backend.</p>
<p>As of Airflow 2.9.0 support of MsSQL has been removed for Airflow Database Backend.</p>
<p>A migration script which can help migrating the database <em>before</em> upgrading to Airflow 2.9.0 is available in
<a class="reference external" href="https://github.com/apache/airflow-mssql-migration">airflow-mssql-migration repo on Github</a>.
Note that the migration script is provided without support and warranty.</p>
<p>This does not affect the existing provider packages (operators and hooks), DAGs can still access and process data from MsSQL.</p>
</section>
<section id="dataset-uris-are-now-validated-on-input-37005">
<h4>Dataset URIs are now validated on input (#37005)<a class="headerlink" href="#dataset-uris-are-now-validated-on-input-37005" title="Link to this heading">¶</a></h4>
<p>Datasets must use a URI that conform to rules laid down in AIP-60, and the value
will be automatically normalized when the DAG file is parsed. See
<a class="reference external" href="https://airflow.apache.org/docs/apache-airflow/2.9.0/authoring-and-scheduling/datasets.html">documentation on Datasets</a> for
a more detailed description on the rules.</p>
<p>You may need to change your Dataset identifiers if they look like a URI, but are
used in a less mainstream way, such as relying on the URI’s auth section, or
have a case-sensitive protocol name.</p>
</section>
<section id="the-method-get-permitted-menu-items-in-baseauthmanager-has-been-renamed-filter-permitted-menu-items-37627">
<h4>The method <code class="docutils literal notranslate"><span class="pre">get_permitted_menu_items</span></code> in <code class="docutils literal notranslate"><span class="pre">BaseAuthManager</span></code> has been renamed <code class="docutils literal notranslate"><span class="pre">filter_permitted_menu_items</span></code> (#37627)<a class="headerlink" href="#the-method-get-permitted-menu-items-in-baseauthmanager-has-been-renamed-filter-permitted-menu-items-37627" title="Link to this heading">¶</a></h4>
</section>
<section id="add-rest-api-actions-to-audit-log-events-37734">
<h4>Add REST API actions to Audit Log events (#37734)<a class="headerlink" href="#add-rest-api-actions-to-audit-log-events-37734" title="Link to this heading">¶</a></h4>
<p>The Audit Log <code class="docutils literal notranslate"><span class="pre">event</span></code> name for REST API events will be prepended with <code class="docutils literal notranslate"><span class="pre">api.</span></code> or <code class="docutils literal notranslate"><span class="pre">ui.</span></code>, depending on if it came from the Airflow UI or externally.</p>
</section>
<section id="official-support-for-python-3-12-38025">
<h4>Official support for Python 3.12 (#38025)<a class="headerlink" href="#official-support-for-python-3-12-38025" title="Link to this heading">¶</a></h4>
<p>There are a few caveats though:</p>
<ul class="simple">
<li><p>Pendulum2 does not support Python 3.12. For Python 3.12 you need to use
<a class="reference external" href="https://pendulum.eustace.io/blog/announcing-pendulum-3-0-0.html">Pendulum 3</a></p></li>
<li><p>Minimum SQLAlchemy version supported when Pandas is installed for Python 3.12 is <code class="docutils literal notranslate"><span class="pre">1.4.36</span></code> released in
April 2022. Airflow 2.9.0 increases the minimum supported version of SQLAlchemy to <code class="docutils literal notranslate"><span class="pre">1.4.36</span></code> for all
Python versions.</p></li>
</ul>
<p>Not all Providers support Python 3.12. At the initial release of Airflow 2.9.0 the following providers
are released without support for Python 3.12:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">apache.beam</span></code> - pending on <a class="reference external" href="https://github.com/apache/beam/issues/29149">Apache Beam support for 3.12</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">papermill</span></code> - pending on Releasing Python 3.12 compatible papermill client version
<a class="reference external" href="https://github.com/nteract/papermill/pull/771">including this merged issue</a></p></li>
</ul>
</div></blockquote>
</section>
<section id="prevent-large-string-objects-from-being-stored-in-the-rendered-template-fields-38094">
<h4>Prevent large string objects from being stored in the Rendered Template Fields (#38094)<a class="headerlink" href="#prevent-large-string-objects-from-being-stored-in-the-rendered-template-fields-38094" title="Link to this heading">¶</a></h4>
<p>There’s now a limit to the length of data that can be stored in the Rendered Template Fields.
The limit is set to 4096 characters. If the data exceeds this limit, it will be truncated. You can change this limit
by setting the <code class="docutils literal notranslate"><span class="pre">[core]max_template_field_length</span></code> configuration option in your airflow config.</p>
</section>
<section id="change-xcom-table-column-value-type-to-longblob-for-mysql-backend-38401">
<h4>Change xcom table column value type to longblob for MySQL backend (#38401)<a class="headerlink" href="#change-xcom-table-column-value-type-to-longblob-for-mysql-backend-38401" title="Link to this heading">¶</a></h4>
<p>Xcom table column <code class="docutils literal notranslate"><span class="pre">value</span></code> type has changed from <code class="docutils literal notranslate"><span class="pre">blob</span></code> to <code class="docutils literal notranslate"><span class="pre">longblob</span></code>. This will allow you to store relatively big data in Xcom but process can take a significant amount of time if you have a lot of large data stored in Xcom.</p>
<p>To downgrade from revision: <code class="docutils literal notranslate"><span class="pre">b4078ac230a1</span></code>, ensure that you don’t have Xcom values larger than 65,535 bytes. Otherwise, you’ll need to clean those rows or run <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">db</span> <span class="pre">clean</span> <span class="pre">xcom</span></code> to clean the Xcom table.</p>
</section>
<section id="stronger-validation-for-key-parameter-defaults-in-taskflow-context-variables-38015">
<h4>Stronger validation for key parameter defaults in taskflow context variables (#38015)<a class="headerlink" href="#stronger-validation-for-key-parameter-defaults-in-taskflow-context-variables-38015" title="Link to this heading">¶</a></h4>
<p>As for the taskflow implementation in conjunction with context variable defaults invalid parameter orders can be
generated, it is now not accepted anymore (and validated) that taskflow functions are defined with defaults
other than <code class="docutils literal notranslate"><span class="pre">None</span></code>. If you have done this before you most likely will see a broken DAG and a error message like
<code class="docutils literal notranslate"><span class="pre">Error</span> <span class="pre">message:</span> <span class="pre">Context</span> <span class="pre">key</span> <span class="pre">parameter</span> <span class="pre">my_param</span> <span class="pre">can't</span> <span class="pre">have</span> <span class="pre">a</span> <span class="pre">default</span> <span class="pre">other</span> <span class="pre">than</span> <span class="pre">None</span></code>.</p>
</section>
<section id="id34">
<h4>New Features<a class="headerlink" href="#id34" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Allow users to write dag_id and task_id in their national characters, added display name for dag / task (v2) (#38446)</p></li>
<li><p>Prevent large objects from being stored in the RTIF (#38094)</p></li>
<li><p>Use current time to calculate duration when end date is not present. (#38375)</p></li>
<li><p>Add average duration mark line in task and dagrun duration charts. (#38214, #38434)</p></li>
<li><p>Add button to manually create dataset events (#38305)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">Matomo</span></code> as an option for analytics_tool. (#38221)</p></li>
<li><p>Experimental: Support custom weight_rule implementation to calculate the TI priority_weight (#38222)</p></li>
<li><p>Adding ability to automatically set DAG to off after X times it failed sequentially (#36935)</p></li>
<li><p>Add dataset conditions to next run datasets modal (#38123)</p></li>
<li><p>Add task log grouping to UI (#38021)</p></li>
<li><p>Add dataset_expression to grid dag details (#38121)</p></li>
<li><p>Introduce mechanism to support multiple executor configuration (#37635)</p></li>
<li><p>Add color formatting for ANSI chars in logs from task executions (#37985)</p></li>
<li><p>Add the dataset_expression as part of DagModel and DAGDetailSchema (#37826)</p></li>
<li><p>Allow longer rendered_map_index (#37798)</p></li>
<li><p>Inherit the run_ordering from DatasetTriggeredTimetable for DatasetOrTimeSchedule (#37775)</p></li>
<li><p>Implement AIP-60 Dataset URI formats (#37005)</p></li>
<li><p>Introducing Logical Operators for dataset conditional logic (#37101)</p></li>
<li><p>Add post endpoint for dataset events (#37570)</p></li>
<li><p>Show custom instance names for a mapped task in UI (#36797)</p></li>
<li><p>Add excluded/included events to get_event_logs api (#37641)</p></li>
<li><p>Add datasets to dag graph (#37604)</p></li>
<li><p>Show dataset events above task/run details in grid view (#37603)</p></li>
<li><p>Introduce new config variable to control whether DAG processor outputs to stdout (#37439)</p></li>
<li><p>Make Datasets <code class="docutils literal notranslate"><span class="pre">hashable</span></code> (#37465)</p></li>
<li><p>Add conditional logic for dataset triggering (#37016)</p></li>
<li><p>Implement task duration page in react. (#35863)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">queuedEvent</span></code> endpoint to get/delete DatasetDagRunQueue (#37176)</p></li>
<li><p>Support multiple XCom output in the BaseOperator (#37297)</p></li>
<li><p>AIP-58: Add object storage backend for xcom (#37058)</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">DatasetOrTimeSchedule</span></code> (#36710)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">on_skipped_callback</span></code> to <code class="docutils literal notranslate"><span class="pre">BaseOperator</span></code> (#36374)</p></li>
<li><p>Allow override of hovered navbar colors (#36631)</p></li>
<li><p>Create new Metrics with Tagging (#36528)</p></li>
<li><p>Add support for openlineage to AFS and common.io (#36410)</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">&#64;task.bash</span></code> TaskFlow decorator (#30176, #37875)</p></li>
</ul>
</section>
<section id="id35">
<h4>Improvements<a class="headerlink" href="#id35" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>More human friendly “show tables” output for db cleanup (#38654)</p></li>
<li><p>Improve trigger assign_unassigned by merging alive_triggerer_ids and get_sorted_triggers queries (#38664)</p></li>
<li><p>Add exclude/include events filters to audit log (#38506)</p></li>
<li><p>Clean up unused triggers in a single query for all dialects except MySQL (#38663)</p></li>
<li><p>Update Confirmation Logic for Config Changes on Sensitive Environments Like Production (#38299)</p></li>
<li><p>Improve datasets graph UX (#38476)</p></li>
<li><p>Only show latest dataset event timestamp after last run (#38340)</p></li>
<li><p>Add button to clear only failed tasks in a dagrun. (#38217)</p></li>
<li><p>Delete all old dag pages and redirect to grid view (#37988)</p></li>
<li><p>Check task attribute before use in sentry.add_tagging() (#37143)</p></li>
<li><p>Mysql change xcom value col type for MySQL backend (#38401)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ExternalPythonOperator</span></code> use version from <code class="docutils literal notranslate"><span class="pre">sys.version_info</span></code> (#38377)</p></li>
<li><p>Replace too broad exceptions into the Core (#38344)</p></li>
<li><p>Add CLI support for bulk pause and resume of DAGs (#38265)</p></li>
<li><p>Implement methods on TaskInstancePydantic and DagRunPydantic (#38295, #38302, #38303, #38297)</p></li>
<li><p>Made filters bar collapsible and add a full screen toggle (#38296)</p></li>
<li><p>Encrypt all trigger attributes (#38233, #38358, #38743)</p></li>
<li><p>Upgrade react-table package. Use with Audit Log table (#38092)</p></li>
<li><p>Show if dag page filters are active (#38080)</p></li>
<li><p>Add try number to mapped instance (#38097)</p></li>
<li><p>Add retries to job heartbeat (#37541)</p></li>
<li><p>Add REST API events to Audit Log (#37734)</p></li>
<li><p>Make current working directory as templated field in BashOperator (#37968)</p></li>
<li><p>Add calendar view to react (#37909)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">run_id</span></code> column to log table (#37731)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">tryNumber</span></code> to grid task instance tooltip (#37911)</p></li>
<li><p>Session is not used in _do_render_template_fields (#37856)</p></li>
<li><p>Improve MappedOperator property types (#37870)</p></li>
<li><p>Remove provide_session decorator from TaskInstancePydantic methods (#37853)</p></li>
<li><p>Ensure the “airflow.task” logger used for TaskInstancePydantic and TaskInstance (#37857)</p></li>
<li><p>Better error message for internal api call error (#37852)</p></li>
<li><p>Increase tooltip size of dag grid view (#37782) (#37805)</p></li>
<li><p>Use named loggers instead of root logger (#37801)</p></li>
<li><p>Add Run Duration in React (#37735)</p></li>
<li><p>Avoid non-recommended usage of logging (#37792)</p></li>
<li><p>Improve DateTimeTrigger typing (#37694)</p></li>
<li><p>Make sure all unique run_ids render a task duration bar (#37717)</p></li>
<li><p>Add Dag Audit Log to React (#37682)</p></li>
<li><p>Add log event for auto pause (#38243)</p></li>
<li><p>Better message for exception for templated base operator fields (#37668)</p></li>
<li><p>Clean up webserver endpoints adding to audit log (#37580)</p></li>
<li><p>Filter datasets graph by dag_id (#37464)</p></li>
<li><p>Use new exception type inheriting BaseException for SIGTERMs (#37613)</p></li>
<li><p>Refactor dataset class inheritance (#37590)</p></li>
<li><p>Simplify checks for package versions (#37585)</p></li>
<li><p>Filter Datasets by associated dag_ids (GET /datasets) (#37512)</p></li>
<li><p>Enable “airflow tasks test” to run deferrable operator (#37542)</p></li>
<li><p>Make datasets list/graph width adjustable (#37425)</p></li>
<li><p>Speedup determine installed airflow version in <code class="docutils literal notranslate"><span class="pre">ExternalPythonOperator</span></code> (#37409)</p></li>
<li><p>Add more task details from rest api (#37394)</p></li>
<li><p>Add confirmation dialog box for DAG run actions (#35393)</p></li>
<li><p>Added shutdown color to the STATE_COLORS (#37295)</p></li>
<li><p>Remove legacy dag details page and redirect to grid (#37232)</p></li>
<li><p>Order XCom entries by map index in API (#37086)</p></li>
<li><p>Add data_interval_start and data_interval_end in dagrun create API endpoint (#36630)</p></li>
<li><p>Making links in task logs as hyperlinks by preventing HTML injection (#36829)</p></li>
<li><p>Improve ExternalTaskSensor Async Implementation (#36916)</p></li>
<li><p>Make Datasets <code class="docutils literal notranslate"><span class="pre">Pathlike</span></code> (#36947)</p></li>
<li><p>Simplify query for orphaned tasks (#36566)</p></li>
<li><p>Add deferrable param in FileSensor (#36840)</p></li>
<li><p>Run Trigger Page: Configurable number of recent configs (#36878)</p></li>
<li><p>Merge <code class="docutils literal notranslate"><span class="pre">nowait</span></code> and skip_locked into with_row_locks (#36889)</p></li>
<li><p>Return the specified field when get <code class="docutils literal notranslate"><span class="pre">dag/dagRun</span></code> in the REST API (#36641)</p></li>
<li><p>Only iterate over the items if debug is enabled for DagFileProcessorManager (#36761)</p></li>
<li><p>Add a fuzzy/regex pattern-matching for metric allow and block list (#36250)</p></li>
<li><p>Allow custom columns in cli dags list (#35250)</p></li>
<li><p>Make it possible to change the default cron timetable (#34851)</p></li>
<li><p>Some improvements to Airflow IO code (#36259)</p></li>
<li><p>Improve TaskInstance typing hints (#36487)</p></li>
<li><p>Remove dependency of <code class="docutils literal notranslate"><span class="pre">Connexion</span></code> from auth manager interface (#36209)</p></li>
<li><p>Refactor ExternalDagLink to not create ad hoc TaskInstances (#36135)</p></li>
</ul>
</section>
<section id="id36">
<h4>Bug Fixes<a class="headerlink" href="#id36" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Load providers configuration when gunicorn workers start (#38795)</p></li>
<li><p>Fix grid header rendering (#38720)</p></li>
<li><p>Add a task instance dependency for mapped dependencies (#37498)</p></li>
<li><p>Improve stability of remove_task_decorator function (#38649)</p></li>
<li><p>Mark more fields on API as dump-only (#38616)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">total_entries</span></code> count on the event logs endpoint (#38625)</p></li>
<li><p>Add padding to bottom of log block. (#38610)</p></li>
<li><p>Properly serialize nested attrs classes (#38591)</p></li>
<li><p>Fixing the <code class="docutils literal notranslate"><span class="pre">tz</span></code> in next run ID info (#38482)</p></li>
<li><p>Show abandoned tasks in Grid View (#38511)</p></li>
<li><p>Apply task instance mutation hook consistently (#38440)</p></li>
<li><p>Override <code class="docutils literal notranslate"><span class="pre">chakra</span></code> styles to keep <code class="docutils literal notranslate"><span class="pre">dropdowns</span></code> in filter bar (#38456)</p></li>
<li><p>Store duration in seconds and scale to handle case when a value in the series has a larger unit than the preceding durations. (#38374)</p></li>
<li><p>Don’t allow defaults other than None in context parameters, and improve error message (#38015)</p></li>
<li><p>Make postgresql default engine args comply with SA 2.0 (#38362)</p></li>
<li><p>Add return statement to yield within a while loop in triggers (#38389)</p></li>
<li><p>Ensure <code class="docutils literal notranslate"><span class="pre">__exit__</span></code> is called in decorator context managers (#38383)</p></li>
<li><p>Make the method <code class="docutils literal notranslate"><span class="pre">BaseAuthManager.is_authorized_custom_view</span></code> abstract (#37915)</p></li>
<li><p>Add upper limit to planned calendar events calculation (#38310)</p></li>
<li><p>Fix Scheduler in daemon mode doesn’t create PID at the specified location (#38117)</p></li>
<li><p>Properly serialize TaskInstancePydantic and DagRunPydantic (#37855)</p></li>
<li><p>Fix graph task state border color (#38084)</p></li>
<li><p>Add back methods removed in security manager (#37997)</p></li>
<li><p>Don’t log “403” from worker serve-logs as “Unknown error”. (#37933)</p></li>
<li><p>Fix execution data validation error in <code class="docutils literal notranslate"><span class="pre">/get_logs_with_metadata</span></code> endpoint (#37756)</p></li>
<li><p>Fix task duration selection (#37630)</p></li>
<li><p>Refrain from passing <code class="docutils literal notranslate"><span class="pre">encoding</span></code> to the SQL engine in SQLAlchemy v2 (#37545)</p></li>
<li><p>Fix ‘implicitly coercing SELECT object to scalar subquery’ in latest dag run statement (#37505)</p></li>
<li><p>Clean up typing with max_execution_date query builder (#36958)</p></li>
<li><p>Optimize max_execution_date query in single dag case (#33242)</p></li>
<li><p>Fix list dags command for get_dagmodel is None (#36739)</p></li>
<li><p>Load <code class="docutils literal notranslate"><span class="pre">consuming_dags</span></code> attr eagerly before dataset listener (#36247)</p></li>
</ul>
</section>
<section id="id37">
<h4>Miscellaneous<a class="headerlink" href="#id37" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Remove display of param from the UI (#38660)</p></li>
<li><p>Update log level to debug from warning about scheduled_duration metric (#38180)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">importlib_metadata</span></code> with compat to Python 3.10/3.12 <code class="docutils literal notranslate"><span class="pre">stdlib</span></code> (#38366)</p></li>
<li><p>Refactored <code class="docutils literal notranslate"><span class="pre">__new__</span></code> magic method of BaseOperatorMeta to avoid bad mixing classic and decorated operators (#37937)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">sys.version_info</span></code> for determine Python Major.Minor (#38372)</p></li>
<li><p>Add missing deprecated Fab auth manager (#38376)</p></li>
<li><p>Remove unused loop variable from airflow package (#38308)</p></li>
<li><p>Adding max consecutive failed dag runs info in UI (#38229)</p></li>
<li><p>Bump minimum version of <code class="docutils literal notranslate"><span class="pre">blinker</span></code> add where it requires (#38140)</p></li>
<li><p>Bump follow-redirects from 1.15.4 to 1.15.6 in /airflow/www (#38156)</p></li>
<li><p>Bump Cryptography to <code class="docutils literal notranslate"><span class="pre">&gt;</span> <span class="pre">39.0.0</span></code> (#38112)</p></li>
<li><p>Add Python 3.12 support (#36755, #38025, #36595)</p></li>
<li><p>Avoid use of <code class="docutils literal notranslate"><span class="pre">assert</span></code> outside of the tests (#37718)</p></li>
<li><p>Update ObjectStoragePath for universal_pathlib&gt;=v0.2.2 (#37930)</p></li>
<li><p>Resolve G004: Logging statement uses f-string (#37873)</p></li>
<li><p>Update build and install dependencies. (#37910)</p></li>
<li><p>Bump sanitize-html from 2.11.0 to 2.12.1 in /airflow/www (#37833)</p></li>
<li><p>Update to latest installer versions. (#37754)</p></li>
<li><p>Deprecate smtp configs in airflow settings / local_settings (#37711)</p></li>
<li><p>Deprecate PY* constants into the airflow module (#37575)</p></li>
<li><p>Remove usage of deprecated <code class="docutils literal notranslate"><span class="pre">flask._request_ctx_stack</span></code> (#37522)</p></li>
<li><p>Remove redundant <code class="docutils literal notranslate"><span class="pre">login</span></code> attribute in <code class="docutils literal notranslate"><span class="pre">airflow.__init__.py</span></code> (#37565)</p></li>
<li><p>Upgrade to FAB 4.3.11 (#37233)</p></li>
<li><p>Remove SCHEDULED_DEPS which is no longer used anywhere since 2.0.0 (#37140)</p></li>
<li><p>Replace <code class="docutils literal notranslate"><span class="pre">datetime.datetime.utcnow</span></code> by <code class="docutils literal notranslate"><span class="pre">airflow.utils.timezone.utcnow</span></code> in core (#35448)</p></li>
<li><p>Bump aiohttp min version to avoid CVE-2024-23829 and CVE-2024-23334 (#37110)</p></li>
<li><p>Move config related to FAB auth manager to FAB provider (#36232)</p></li>
<li><p>Remove MSSQL support form Airflow core (#36514)</p></li>
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">is_authorized_cluster_activity</span></code> from auth manager (#36175)</p></li>
<li><p>Create FAB provider and move FAB auth manager in it (#35926)</p></li>
</ul>
</section>
<section id="id38">
<h4>Doc Only Changes<a class="headerlink" href="#id38" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Improve timetable documentation (#38505)</p></li>
<li><p>Reorder OpenAPI Spec tags alphabetically (#38717)</p></li>
<li><p>Update UI screenshots in the documentation (#38680, #38403, #38438, #38435)</p></li>
<li><p>Remove section as it’s no longer true with dataset expressions PR (#38370)</p></li>
<li><p>Refactor DatasetOrTimeSchedule timetable docs (#37771)</p></li>
<li><p>Migrate executor docs to respective providers (#37728)</p></li>
<li><p>Add directive to render a list of URI schemes (#37700)</p></li>
<li><p>Add doc page with providers deprecations (#37075)</p></li>
<li><p>Add a cross reference to security policy (#37004)</p></li>
<li><p>Improve AIRFLOW__WEBSERVER__BASE_URL docs (#37003)</p></li>
<li><p>Update faq.rst with (hopefully) clearer description of start_date (#36846)</p></li>
<li><p>Update public interface doc re operators (#36767)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">exception</span></code> to templates ref list (#36656)</p></li>
<li><p>Add auth manager interface as public interface (#36312)</p></li>
<li><p>Reference fab provider documentation in Airflow documentation (#36310)</p></li>
<li><p>Create auth manager documentation (#36211)</p></li>
<li><p>Update permission docs (#36120)</p></li>
<li><p>Docstring improvement to _covers_every_hour (#36081)</p></li>
<li><p>Add note that task instance, dag and lifecycle listeners are non-experimental (#36376)</p></li>
</ul>
</section>
</section>
</section>
<section id="airflow-2-8-4-2024-03-25">
<h2><a class="toc-backref" href="#id226" role="doc-backlink">Airflow 2.8.4 (2024-03-25)</a><a class="headerlink" href="#airflow-2-8-4-2024-03-25" title="Link to this heading">¶</a></h2>
<section id="id39">
<h3>Significant Changes<a class="headerlink" href="#id39" title="Link to this heading">¶</a></h3>
<p>No significant changes.</p>
<section id="id40">
<h4>Bug Fixes<a class="headerlink" href="#id40" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Fix incorrect serialization of <code class="docutils literal notranslate"><span class="pre">FixedTimezone</span></code> (#38139)</p></li>
<li><p>Fix excessive permission changing for log task handler (#38164)</p></li>
<li><p>Fix task instances list link (#38096)</p></li>
<li><p>Fix a bug where scheduler heartrate parameter was not used (#37992)</p></li>
<li><p>Add padding to prevent grid horizontal scroll overlapping tasks (#37942)</p></li>
<li><p>Fix hash caching in <code class="docutils literal notranslate"><span class="pre">ObjectStoragePath</span></code> (#37769)</p></li>
</ul>
</section>
<section id="id41">
<h4>Miscellaneous<a class="headerlink" href="#id41" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Limit <code class="docutils literal notranslate"><span class="pre">importlib_resources</span></code> as it breaks <code class="docutils literal notranslate"><span class="pre">pytest_rewrites</span></code> (#38095, #38139)</p></li>
<li><p>Limit <code class="docutils literal notranslate"><span class="pre">pandas</span></code> to <code class="docutils literal notranslate"><span class="pre">&lt;2.2</span></code> (#37748)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">croniter</span></code> to fix an issue with 29 Feb cron expressions (#38198)</p></li>
</ul>
</section>
<section id="id42">
<h4>Doc Only Changes<a class="headerlink" href="#id42" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Tell users what to do if their scanners find issues in the image (#37652)</p></li>
<li><p>Add a section about debugging in Docker Compose with PyCharm (#37940)</p></li>
<li><p>Update deferrable docs to clarify kwargs when trigger resumes operator (#38122)</p></li>
</ul>
</section>
</section>
</section>
<section id="airflow-2-8-3-2024-03-11">
<h2><a class="toc-backref" href="#id227" role="doc-backlink">Airflow 2.8.3 (2024-03-11)</a><a class="headerlink" href="#airflow-2-8-3-2024-03-11" title="Link to this heading">¶</a></h2>
<section id="id43">
<h3>Significant Changes<a class="headerlink" href="#id43" title="Link to this heading">¶</a></h3>
<section id="the-smtp-provider-is-now-pre-installed-when-you-install-airflow-37713">
<h4>The smtp provider is now pre-installed when you install Airflow. (#37713)<a class="headerlink" href="#the-smtp-provider-is-now-pre-installed-when-you-install-airflow-37713" title="Link to this heading">¶</a></h4>
</section>
<section id="id44">
<h4>Bug Fixes<a class="headerlink" href="#id44" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Add “MENU” permission in auth manager (#37881)</p></li>
<li><p>Fix external_executor_id being overwritten (#37784)</p></li>
<li><p>Make more MappedOperator members modifiable (#37828)</p></li>
<li><p>Set parsing context dag_id in dag test command (#37606)</p></li>
</ul>
</section>
<section id="id45">
<h4>Miscellaneous<a class="headerlink" href="#id45" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Remove useless methods from security manager (#37889)</p></li>
<li><p>Improve code coverage for TriggerRuleDep (#37680)</p></li>
<li><p>The SMTP provider is now preinstalled when installing Airflow (#37713)</p></li>
<li><p>Bump min versions of openapi validators (#37691)</p></li>
<li><p>Properly include <code class="docutils literal notranslate"><span class="pre">airflow_pre_installed_providers.txt</span></code> artifact (#37679)</p></li>
</ul>
</section>
<section id="id46">
<h4>Doc Only Changes<a class="headerlink" href="#id46" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Clarify lack of sync between workers and scheduler (#37913)</p></li>
<li><p>Simplify some docs around airflow_local_settings (#37835)</p></li>
<li><p>Add section about local settings configuration (#37829)</p></li>
<li><p>Fix docs of <code class="docutils literal notranslate"><span class="pre">BranchDayOfWeekOperator</span></code> (#37813)</p></li>
<li><p>Write to secrets store is not supported by design (#37814)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ERD</span></code> generating doc improvement (#37808)</p></li>
<li><p>Update incorrect config value (#37706)</p></li>
<li><p>Update security model to clarify Connection Editing user’s capabilities (#37688)</p></li>
<li><p>Fix ImportError on examples dags (#37571)</p></li>
</ul>
</section>
</section>
</section>
<section id="airflow-2-8-2-2024-02-26">
<h2><a class="toc-backref" href="#id228" role="doc-backlink">Airflow 2.8.2 (2024-02-26)</a><a class="headerlink" href="#airflow-2-8-2-2024-02-26" title="Link to this heading">¶</a></h2>
<section id="id47">
<h3>Significant Changes<a class="headerlink" href="#id47" title="Link to this heading">¶</a></h3>
<section id="the-allowed-deserialization-classes-flag-now-follows-a-glob-pattern-36147">
<h4>The <code class="docutils literal notranslate"><span class="pre">allowed_deserialization_classes</span></code> flag now follows a glob pattern (#36147).<a class="headerlink" href="#the-allowed-deserialization-classes-flag-now-follows-a-glob-pattern-36147" title="Link to this heading">¶</a></h4>
<p>For example if one wants to add the class <code class="docutils literal notranslate"><span class="pre">airflow.tests.custom_class</span></code> to the
<code class="docutils literal notranslate"><span class="pre">allowed_deserialization_classes</span></code> list, it can be done by writing the full class
name (<code class="docutils literal notranslate"><span class="pre">airflow.tests.custom_class</span></code>) or a pattern such as the ones used in glob
search (e.g., <code class="docutils literal notranslate"><span class="pre">airflow.*</span></code>, <code class="docutils literal notranslate"><span class="pre">airflow.tests.*</span></code>).</p>
<p>If you currently use a custom regexp path make sure to rewrite it as a glob pattern.</p>
<p>Alternatively, if you still wish to match it as a regexp pattern, add it under the new
list <code class="docutils literal notranslate"><span class="pre">allowed_deserialization_classes_regexp</span></code> instead.</p>
</section>
<section id="the-audit-logs-permissions-have-been-updated-for-heightened-security-37501">
<h4>The audit_logs permissions have been updated for heightened security (#37501).<a class="headerlink" href="#the-audit-logs-permissions-have-been-updated-for-heightened-security-37501" title="Link to this heading">¶</a></h4>
<p>This was done under the policy that we do not want users like Viewer, Ops,
and other users apart from Admin to have access to audit_logs. The intention behind
this change is to restrict users with less permissions from viewing user details
like First Name, Email etc. from the audit_logs when they are not permitted to.</p>
<p>The impact of this change is that the existing users with non admin rights won’t be able
to view or access the audit_logs, both from the Browse tab or from the DAG run.</p>
</section>
<section id="airflowtimeouterror-is-no-longer-except-by-default-through-exception-35653">
<h4><code class="docutils literal notranslate"><span class="pre">AirflowTimeoutError</span></code> is no longer <code class="docutils literal notranslate"><span class="pre">except</span></code> by default through <code class="docutils literal notranslate"><span class="pre">Exception</span></code> (#35653).<a class="headerlink" href="#airflowtimeouterror-is-no-longer-except-by-default-through-exception-35653" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">AirflowTimeoutError</span></code> is now inheriting <code class="docutils literal notranslate"><span class="pre">BaseException</span></code> instead of
<code class="docutils literal notranslate"><span class="pre">AirflowException</span></code>-&gt;``Exception``.
See <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#exception-hierarchy">https://docs.python.org/3/library/exceptions.html#exception-hierarchy</a></p>
<p>This prevents code catching <code class="docutils literal notranslate"><span class="pre">Exception</span></code> from accidentally
catching <code class="docutils literal notranslate"><span class="pre">AirflowTimeoutError</span></code> and continuing to run.
<code class="docutils literal notranslate"><span class="pre">AirflowTimeoutError</span></code> is an explicit intent to cancel the task, and should not
be caught in attempts to handle the error and return some default value.</p>
<p>Catching <code class="docutils literal notranslate"><span class="pre">AirflowTimeoutError</span></code> is still possible by explicitly <code class="docutils literal notranslate"><span class="pre">except``ing</span>
<span class="pre">``AirflowTimeoutError</span></code> or <code class="docutils literal notranslate"><span class="pre">BaseException</span></code>.
This is discouraged, as it may allow the code to continue running even after
such cancellation requests.
Code that previously depended on performing strict cleanup in every situation
after catching <code class="docutils literal notranslate"><span class="pre">Exception</span></code> is advised to use <code class="docutils literal notranslate"><span class="pre">finally</span></code> blocks or
context managers. To perform only the cleanup and then automatically
re-raise the exception.
See similar considerations about catching <code class="docutils literal notranslate"><span class="pre">KeyboardInterrupt</span></code> in
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#KeyboardInterrupt">https://docs.python.org/3/library/exceptions.html#KeyboardInterrupt</a></p>
</section>
<section id="id48">
<h4>Bug Fixes<a class="headerlink" href="#id48" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Sort dag processing stats by last_runtime (#37302)</p></li>
<li><p>Allow pre-population of trigger form values via URL parameters (#37497)</p></li>
<li><p>Base date for fetching dag grid view must include selected run_id (#34887)</p></li>
<li><p>Check permissions for ImportError (#37468)</p></li>
<li><p>Move <code class="docutils literal notranslate"><span class="pre">IMPORT_ERROR</span></code> from DAG related permissions to view related permissions (#37292)</p></li>
<li><p>Change <code class="docutils literal notranslate"><span class="pre">AirflowTaskTimeout</span></code> to inherit <code class="docutils literal notranslate"><span class="pre">BaseException</span></code> (#35653)</p></li>
<li><p>Revert “Fix future DagRun rarely triggered by race conditions when max_active_runs reached its upper limit. (#31414)” (#37596)</p></li>
<li><p>Change margin to padding so first task can be selected (#37527)</p></li>
<li><p>Fix Airflow serialization for <code class="docutils literal notranslate"><span class="pre">namedtuple</span></code> (#37168)</p></li>
<li><p>Fix bug with clicking url-unsafe tags (#37395)</p></li>
<li><p>Set deterministic and new getter for <code class="docutils literal notranslate"><span class="pre">Treeview</span></code> function (#37162)</p></li>
<li><p>Fix permissions of parent folders for log file handler (#37310)</p></li>
<li><p>Fix permission check on DAGs when <code class="docutils literal notranslate"><span class="pre">access_entity</span></code> is specified (#37290)</p></li>
<li><p>Fix the value of <code class="docutils literal notranslate"><span class="pre">dateTimeAttrFormat</span></code> constant (#37285)</p></li>
<li><p>Resolve handler close race condition at triggerer shutdown (#37206)</p></li>
<li><p>Fixing status icon alignment for various views (#36804)</p></li>
<li><p>Remove superfluous <code class="docutils literal notranslate"><span class="pre">&#64;Sentry.enrich_errors</span></code>  (#37002)</p></li>
<li><p>Use execution_date= param as a backup to base date for grid view (#37018)</p></li>
<li><p>Handle SystemExit raised in the task. (#36986)</p></li>
<li><p>Revoking audit_log permission from all users except admin (#37501)</p></li>
<li><p>Fix broken regex for allowed_deserialization_classes (#36147)</p></li>
<li><p>Fix the bug that affected the DAG end date. (#36144)</p></li>
<li><p>Adjust node width based on task name length (#37254)</p></li>
<li><p>fix: PythonVirtualenvOperator crashes if any python_callable function is defined in the same source as DAG (#37165)</p></li>
<li><p>Fix collapsed grid width, line up selected bar with gantt (#37205)</p></li>
<li><p>Adjust graph node layout (#37207)</p></li>
<li><p>Revert the sequence of initializing configuration defaults (#37155)</p></li>
<li><p>Displaying “actual” try number in TaskInstance view (#34635)</p></li>
<li><p>Bugfix Triggering DAG with parameters is mandatory when show_trigger_form_if_no_params is enabled (#37063)</p></li>
<li><p>Secret masker ignores passwords with special chars (#36692)</p></li>
<li><p>Fix DagRuns with UPSTREAM_FAILED tasks get stuck in the backfill. (#36954)</p></li>
<li><p>Disable <code class="docutils literal notranslate"><span class="pre">dryrun</span></code> auto-fetch (#36941)</p></li>
<li><p>Fix copy button on a DAG run’s config (#36855)</p></li>
<li><p>Fix bug introduced by replacing spaces by + in run_id (#36877)</p></li>
<li><p>Fix webserver always redirecting to home page if user was not logged in (#36833)</p></li>
<li><p>REST API set description on POST to <code class="docutils literal notranslate"><span class="pre">/variables</span></code> endpoint (#36820)</p></li>
<li><p>Sanitize the conn_id to disallow potential script execution (#32867)</p></li>
<li><p>Fix task id copy button copying wrong id (#34904)</p></li>
<li><p>Fix security manager inheritance in fab provider (#36538)</p></li>
<li><p>Avoid <code class="docutils literal notranslate"><span class="pre">pendulum.from_timestamp</span></code> usage (#37160)</p></li>
</ul>
</section>
<section id="id49">
<h4>Miscellaneous<a class="headerlink" href="#id49" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Install latest docker <code class="docutils literal notranslate"><span class="pre">CLI</span></code> instead of specific one (#37651)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">undici</span></code> from <code class="docutils literal notranslate"><span class="pre">5.26.3</span></code> to <code class="docutils literal notranslate"><span class="pre">5.28.3</span></code> in <code class="docutils literal notranslate"><span class="pre">/airflow/www</span></code> (#37493)</p></li>
<li><p>Add Python <code class="docutils literal notranslate"><span class="pre">3.12</span></code> exclusions in <code class="docutils literal notranslate"><span class="pre">providers/pyproject.toml</span></code> (#37404)</p></li>
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">markdown</span></code> from core dependencies (#37396)</p></li>
<li><p>Remove unused <code class="docutils literal notranslate"><span class="pre">pageSize</span></code> method. (#37319)</p></li>
<li><p>Add more-itertools as dependency of common-sql (#37359)</p></li>
<li><p>Replace other <code class="docutils literal notranslate"><span class="pre">Python</span> <span class="pre">3.11</span></code> and <code class="docutils literal notranslate"><span class="pre">3.12</span></code> deprecations (#37478)</p></li>
<li><p>Include <code class="docutils literal notranslate"><span class="pre">airflow_pre_installed_providers.txt</span></code> into <code class="docutils literal notranslate"><span class="pre">sdist</span></code> distribution (#37388)</p></li>
<li><p>Turn Pydantic into an optional dependency (#37320)</p></li>
<li><p>Limit <code class="docutils literal notranslate"><span class="pre">universal-pathlib</span> <span class="pre">to</span> <span class="pre">&lt;</span> <span class="pre">0.2.0</span></code> (#37311)</p></li>
<li><p>Allow running airflow against sqlite in-memory DB for tests (#37144)</p></li>
<li><p>Add description to <code class="docutils literal notranslate"><span class="pre">queue_when</span></code> (#36997)</p></li>
<li><p>Updated <code class="docutils literal notranslate"><span class="pre">config.yml</span></code> for environment variable <code class="docutils literal notranslate"><span class="pre">sql_alchemy_connect_args</span></code>  (#36526)</p></li>
<li><p>Bump min version of <code class="docutils literal notranslate"><span class="pre">Alembic</span> <span class="pre">to</span> <span class="pre">1.13.1</span></code> (#36928)</p></li>
<li><p>Limit <code class="docutils literal notranslate"><span class="pre">flask-session</span></code> to <code class="docutils literal notranslate"><span class="pre">&lt;0.6</span></code> (#36895)</p></li>
</ul>
</section>
<section id="id50">
<h4>Doc Only Changes<a class="headerlink" href="#id50" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Fix upgrade docs to reflect true <code class="docutils literal notranslate"><span class="pre">CLI</span></code> flags available (#37231)</p></li>
<li><p>Fix a bug in fundamentals doc (#37440)</p></li>
<li><p>Add redirect for deprecated page (#37384)</p></li>
<li><p>Fix the <code class="docutils literal notranslate"><span class="pre">otel</span></code> config descriptions (#37229)</p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">Objectstore</span></code> tutorial with <code class="docutils literal notranslate"><span class="pre">prereqs</span></code> section (#36983)</p></li>
<li><p>Add more precise description on avoiding generic <code class="docutils literal notranslate"><span class="pre">package/module</span></code> names (#36927)</p></li>
<li><p>Add airflow version substitution into Docker Compose Howto (#37177)</p></li>
<li><p>Add clarification about DAG author capabilities to security model (#37141)</p></li>
<li><p>Move docs for cron basics to Authoring and Scheduling section (#37049)</p></li>
<li><p>Link to release notes in the upgrade docs (#36923)</p></li>
<li><p>Prevent templated field logic checks in <code class="docutils literal notranslate"><span class="pre">__init__</span></code> of operators automatically (#33786)</p></li>
</ul>
</section>
</section>
</section>
<section id="airflow-2-8-1-2024-01-19">
<h2><a class="toc-backref" href="#id229" role="doc-backlink">Airflow 2.8.1 (2024-01-19)</a><a class="headerlink" href="#airflow-2-8-1-2024-01-19" title="Link to this heading">¶</a></h2>
<section id="id51">
<h3>Significant Changes<a class="headerlink" href="#id51" title="Link to this heading">¶</a></h3>
<section id="target-version-for-core-dependency-pendulum-package-set-to-3-36281">
<h4>Target version for core dependency <code class="docutils literal notranslate"><span class="pre">pendulum</span></code> package set to 3 (#36281).<a class="headerlink" href="#target-version-for-core-dependency-pendulum-package-set-to-3-36281" title="Link to this heading">¶</a></h4>
<p>Support for pendulum 2.1.2 will be saved for a while, presumably until the next feature version of Airflow.
It is advised to upgrade user code to use pendulum 3 as soon as possible.</p>
<p>Pendulum 3 introduced some subtle incompatibilities that you might rely on in your code - for example
default rendering of dates is missing <code class="docutils literal notranslate"><span class="pre">T</span></code> in the rendered date representation, which is not ISO8601
compliant. If you rely on the default rendering of dates, you might need to adjust your code to use
<code class="docutils literal notranslate"><span class="pre">isoformat()</span></code> method to render dates in ISO8601 format.</p>
</section>
<section id="airflow-packaging-specification-follows-modern-python-packaging-standards-36537">
<h4>Airflow packaging specification follows modern Python packaging standards (#36537).<a class="headerlink" href="#airflow-packaging-specification-follows-modern-python-packaging-standards-36537" title="Link to this heading">¶</a></h4>
<p>We standardized Airflow dependency configuration to follow latest development in Python packaging by
using <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code>. Airflow is now compliant with those accepted PEPs:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.python.org/dev/peps/pep-0440/">PEP-440 Version Identification and Dependency Specification</a></p></li>
<li><p><a class="reference external" href="https://www.python.org/dev/peps/pep-0517/">PEP-517 A build-system independent format for source trees</a></p></li>
<li><p><a class="reference external" href="https://www.python.org/dev/peps/pep-0518/">PEP-518 Specifying Minimum Build System Requirements for Python Projects</a></p></li>
<li><p><a class="reference external" href="https://www.python.org/dev/peps/pep-0561/">PEP-561 Distributing and Packaging Type Information</a></p></li>
<li><p><a class="reference external" href="https://www.python.org/dev/peps/pep-0621/">PEP-621 Storing project metadata in pyproject.toml</a></p></li>
<li><p><a class="reference external" href="https://www.python.org/dev/peps/pep-0660/">PEP-660 Editable installs for pyproject.toml based builds (wheel based)</a></p></li>
<li><p><a class="reference external" href="https://www.python.org/dev/peps/pep-0685/">PEP-685 Comparison of extra names for optional distribution dependencies</a></p></li>
</ul>
<p>Also we implement multiple license files support coming from Draft, not yet accepted (but supported by <code class="docutils literal notranslate"><span class="pre">hatchling</span></code>) PEP:
* <a class="reference external" href="https://peps.python.org/pep-0639/">PEP 639 Improving License Clarity with Better Package Metadata</a></p>
<p>This has almost no noticeable impact on users if they are using modern Python packaging and development tools, generally
speaking Airflow should behave as it did before when installing it from PyPI and it should be much easier to install
it for development purposes using <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-e</span> <span class="pre">&quot;.[devel]&quot;</span></code>.</p>
<p>The differences from the user side are:</p>
<ul class="simple">
<li><p>Airflow extras now get extras normalized to <code class="docutils literal notranslate"><span class="pre">-</span></code> (following PEP-685) instead of <code class="docutils literal notranslate"><span class="pre">_</span></code> and <code class="docutils literal notranslate"><span class="pre">.</span></code>
(as it was before in some extras). When you install airflow with such extras (for example <code class="docutils literal notranslate"><span class="pre">dbt.core</span></code> or
<code class="docutils literal notranslate"><span class="pre">all_dbs</span></code>) you should use <code class="docutils literal notranslate"><span class="pre">-</span></code> instead of <code class="docutils literal notranslate"><span class="pre">_</span></code> and <code class="docutils literal notranslate"><span class="pre">.</span></code>.</p></li>
</ul>
<p>In most modern tools this will work in backwards-compatible way, but in some old version of those tools you might need to
replace <code class="docutils literal notranslate"><span class="pre">_</span></code> and <code class="docutils literal notranslate"><span class="pre">.</span></code> with <code class="docutils literal notranslate"><span class="pre">-</span></code>. You can also get warnings that the extra you are installing does not exist - but usually
this warning is harmless and the extra is installed anyway. It is, however, recommended to change to use <code class="docutils literal notranslate"><span class="pre">-</span></code> in extras in your dependency
specifications for all Airflow extras.</p>
<ul class="simple">
<li><p>Released airflow package does not contain <code class="docutils literal notranslate"><span class="pre">devel</span></code>, <code class="docutils literal notranslate"><span class="pre">devel-*</span></code>, <code class="docutils literal notranslate"><span class="pre">doc</span></code> and <code class="docutils literal notranslate"><span class="pre">docs-gen</span></code> extras.
Those extras are only available when you install Airflow from sources in <code class="docutils literal notranslate"><span class="pre">--editable</span></code> mode. This is
because those extras are only used for development and documentation building purposes and are not needed
when you install Airflow for production use. Those dependencies had unspecified and varying behaviour for
released packages anyway and you were not supposed to use them in released packages.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">all</span></code> and <code class="docutils literal notranslate"><span class="pre">all-*</span></code> extras were not always working correctly when installing Airflow using constraints
because they were also considered as development-only dependencies. With this change, those dependencies are
now properly handling constraints and they will install properly with constraints, pulling the right set
of providers and dependencies when constraints are used.</p></li>
</ul>
</section>
<section id="graphviz-dependency-is-now-an-optional-one-not-required-one-36647">
<h4>Graphviz dependency is now an optional one, not required one (#36647).<a class="headerlink" href="#graphviz-dependency-is-now-an-optional-one-not-required-one-36647" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">graphviz</span></code> dependency has been problematic as Airflow required dependency - especially for
ARM-based installations. Graphviz packages require binary graphviz libraries - which is already a
limitation, but they also require to install graphviz Python bindings to be build and installed.
This does not work for older Linux installation but - more importantly - when you try to install
Graphviz libraries for Python 3.8, 3.9 for ARM M1 MacBooks, the packages fail to install because
Python bindings compilation for M1 can only work for Python 3.10+.</p>
<p>This is not a breaking change technically - the CLIs to render the DAGs is still there and IF you
already have graphviz installed, it will continue working as it did before. The only problem when it
does not work is where you do not have graphviz installed it will raise an error and inform that you need it.</p>
<p>Graphviz will remain to be installed for most users:</p>
<ul class="simple">
<li><p>the Airflow Image will still contain graphviz library, because
it is added there as extra</p></li>
<li><p>when previous version of Airflow has been installed already, then
graphviz library is already installed there and Airflow will
continue working as it did</p></li>
</ul>
<p>The only change will be a new installation of new version of Airflow from the scratch, where graphviz will
need to be specified as extra or installed separately in order to enable DAG rendering option.</p>
</section>
<section id="id52">
<h4>Bug Fixes<a class="headerlink" href="#id52" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Fix airflow-scheduler exiting with code 0 on exceptions (#36800)</p></li>
<li><p>Fix Callback exception when a removed task is the last one in the <code class="docutils literal notranslate"><span class="pre">taskinstance</span></code> list (#36693)</p></li>
<li><p>Allow anonymous user edit/show resource when set <code class="docutils literal notranslate"><span class="pre">AUTH_ROLE_PUBLIC=admin</span></code> (#36750)</p></li>
<li><p>Better error message when sqlite URL uses relative path (#36774)</p></li>
<li><p>Explicit string cast required to force integer-type run_ids to be passed as strings instead of integers (#36756)</p></li>
<li><p>Add log lookup exception for empty <code class="docutils literal notranslate"><span class="pre">op</span></code> subtypes (#35536)</p></li>
<li><p>Remove unused index on task instance (#36737)</p></li>
<li><p>Fix check on subclass for <code class="docutils literal notranslate"><span class="pre">typing.Union</span></code> in <code class="docutils literal notranslate"><span class="pre">_infer_multiple_outputs</span></code> for Python 3.10+ (#36728)</p></li>
<li><p>Make sure <code class="docutils literal notranslate"><span class="pre">multiple_outputs</span></code> is inferred correctly even when using <code class="docutils literal notranslate"><span class="pre">TypedDict</span></code> (#36652)</p></li>
<li><p>Add back FAB constant in legacy security manager (#36719)</p></li>
<li><p>Fix AttributeError when using <code class="docutils literal notranslate"><span class="pre">Dagrun.update_state</span></code> (#36712)</p></li>
<li><p>Do not let <code class="docutils literal notranslate"><span class="pre">EventsTimetable</span></code> schedule past events if <code class="docutils literal notranslate"><span class="pre">catchup=False</span></code> (#36134)</p></li>
<li><p>Support encryption for triggers parameters (#36492)</p></li>
<li><p>Fix the type hint for <code class="docutils literal notranslate"><span class="pre">tis_query</span></code> in <code class="docutils literal notranslate"><span class="pre">_process_executor_events</span></code> (#36655)</p></li>
<li><p>Redirect to index when user does not have permission to access a page (#36623)</p></li>
<li><p>Avoid using dict as default value in <code class="docutils literal notranslate"><span class="pre">call_regular_interval</span></code> (#36608)</p></li>
<li><p>Remove option to set a task instance to running state in UI (#36518)</p></li>
<li><p>Fix details tab not showing when using dynamic task mapping (#36522)</p></li>
<li><p>Raise error when <code class="docutils literal notranslate"><span class="pre">DagRun</span></code> fails while running <code class="docutils literal notranslate"><span class="pre">dag</span> <span class="pre">test</span></code> (#36517)</p></li>
<li><p>Refactor <code class="docutils literal notranslate"><span class="pre">_manage_executor_state</span></code> by refreshing TIs in batch (#36502)</p></li>
<li><p>Add flask config: <code class="docutils literal notranslate"><span class="pre">MAX_CONTENT_LENGTH</span></code> (#36401)</p></li>
<li><p>Fix get_leaves calculation for teardown in nested group (#36456)</p></li>
<li><p>Stop serializing timezone-naive datetime to timezone-aware datetime with UTC tz (#36379)</p></li>
<li><p>Make <code class="docutils literal notranslate"><span class="pre">kubernetes</span></code> decorator type annotation consistent with operator (#36405)</p></li>
<li><p>Fix Webserver returning 500 for POST requests to <code class="docutils literal notranslate"><span class="pre">api/dag/*/dagrun</span></code> from anonymous user (#36275)</p></li>
<li><p>Fix the required access for get_variable endpoint (#36396)</p></li>
<li><p>Fix datetime reference in <code class="docutils literal notranslate"><span class="pre">DAG.is_fixed_time_schedule</span></code> (#36370)</p></li>
<li><p>Fix AirflowSkipException message raised by BashOperator (#36354)</p></li>
<li><p>Allow PythonVirtualenvOperator.skip_on_exit_code to be zero (#36361)</p></li>
<li><p>Increase width of execution_date input in trigger.html (#36278)</p></li>
<li><p>Fix logging for pausing DAG (#36182)</p></li>
<li><p>Stop deserializing pickle when enable_xcom_pickling is False (#36255)</p></li>
<li><p>Check DAG read permission before accessing DAG code (#36257)</p></li>
<li><p>Enable mark task as failed/success always (#36254)</p></li>
<li><p>Create latest log dir symlink as relative link (#36019)</p></li>
<li><p>Fix Python-based decorators templating (#36103)</p></li>
</ul>
</section>
<section id="id53">
<h4>Miscellaneous<a class="headerlink" href="#id53" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Rename concurrency label to max active tasks (#36691)</p></li>
<li><p>Restore function scoped <code class="docutils literal notranslate"><span class="pre">httpx</span></code> import in file_task_handler for performance (#36753)</p></li>
<li><p>Add support of Pendulum 3 (#36281)</p></li>
<li><p>Standardize airflow build process and switch to <code class="docutils literal notranslate"><span class="pre">hatchling</span></code> build backend (#36537)</p></li>
<li><p>Get rid of <code class="docutils literal notranslate"><span class="pre">pyarrow-hotfix</span></code> for <code class="docutils literal notranslate"><span class="pre">CVE-2023-47248</span></code> (#36697)</p></li>
<li><p>Make <code class="docutils literal notranslate"><span class="pre">graphviz</span></code> dependency optional (#36647)</p></li>
<li><p>Announce MSSQL support end in Airflow 2.9.0, add migration script hints (#36509)</p></li>
<li><p>Set min <code class="docutils literal notranslate"><span class="pre">pandas</span></code> dependency to 1.2.5 for all providers and airflow (#36698)</p></li>
<li><p>Bump follow-redirects from 1.15.3 to 1.15.4 in <code class="docutils literal notranslate"><span class="pre">/airflow/www</span></code> (#36700)</p></li>
<li><p>Provide the logger_name param to base hook in order to override the logger name (#36674)</p></li>
<li><p>Fix run type icon alignment with run type text (#36616)</p></li>
<li><p>Follow BaseHook connection fields method signature in FSHook (#36444)</p></li>
<li><p>Remove redundant <code class="docutils literal notranslate"><span class="pre">docker</span></code> decorator type annotations (#36406)</p></li>
<li><p>Straighten typing in workday timetable (#36296)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">batch_is_authorized_dag</span></code> to check if user has permission to read DAGs (#36279)</p></li>
<li><p>Replace deprecated get_accessible_dag_ids and use get_readable_dags in get_dag_warnings (#36256)</p></li>
</ul>
</section>
<section id="id54">
<h4>Doc Only Changes<a class="headerlink" href="#id54" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Metrics tagging documentation (#36627)</p></li>
<li><p>In docs use logical_date instead of deprecated execution_date (#36654)</p></li>
<li><p>Add section about live-upgrading Airflow (#36637)</p></li>
<li><p>Replace <code class="docutils literal notranslate"><span class="pre">numpy</span></code> example with practical exercise demonstrating top-level code (#35097)</p></li>
<li><p>Improve and add more complete description in the architecture diagrams (#36513)</p></li>
<li><p>Improve the error message displayed when there is a webserver error (#36570)</p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">dags.rst</span></code> with information on DAG pausing (#36540)</p></li>
<li><p>Update installation prerequisites after upgrading to Debian Bookworm (#36521)</p></li>
<li><p>Add description on the ways how users should approach DB monitoring (#36483)</p></li>
<li><p>Add branching based on mapped task group example to dynamic-task-mapping.rst (#36480)</p></li>
<li><p>Add further details to replacement documentation (#36485)</p></li>
<li><p>Use cards when describing priority weighting methods (#36411)</p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">metrics.rst</span></code> for param <code class="docutils literal notranslate"><span class="pre">dagrun.schedule_delay</span></code> (#36404)</p></li>
<li><p>Update admonitions in Python operator doc to reflect sentiment (#36340)</p></li>
<li><p>Improve audit_logs.rst (#36213)</p></li>
<li><p>Remove Redshift mention from the list of managed Postgres backends (#36217)</p></li>
</ul>
</section>
</section>
</section>
<section id="airflow-2-8-0-2023-12-18">
<h2><a class="toc-backref" href="#id230" role="doc-backlink">Airflow 2.8.0 (2023-12-18)</a><a class="headerlink" href="#airflow-2-8-0-2023-12-18" title="Link to this heading">¶</a></h2>
<section id="id55">
<h3>Significant Changes<a class="headerlink" href="#id55" title="Link to this heading">¶</a></h3>
<section id="raw-html-code-in-dag-docs-and-dag-params-descriptions-is-disabled-by-default-35460">
<h4>Raw HTML code in DAG docs and DAG params descriptions is disabled by default (#35460)<a class="headerlink" href="#raw-html-code-in-dag-docs-and-dag-params-descriptions-is-disabled-by-default-35460" title="Link to this heading">¶</a></h4>
<p>To ensure that no malicious javascript can be injected with DAG descriptions or trigger UI forms by DAG authors
a new parameter <code class="docutils literal notranslate"><span class="pre">webserver.allow_raw_html_descriptions</span></code> was added with default value of <code class="docutils literal notranslate"><span class="pre">False</span></code>.
If you trust your DAG authors code and want to allow using raw HTML in DAG descriptions and params, you can restore the previous
behavior by setting the configuration value to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>To ensure Airflow is secure by default, the raw HTML support in trigger UI has been super-seeded by markdown support via
the <code class="docutils literal notranslate"><span class="pre">description_md</span></code> attribute. If you have been using <code class="docutils literal notranslate"><span class="pre">description_html</span></code> please migrate to <code class="docutils literal notranslate"><span class="pre">description_md</span></code>.
The <code class="docutils literal notranslate"><span class="pre">custom_html_form</span></code> is now deprecated.</p>
</section>
<section id="id56">
<h4>New Features<a class="headerlink" href="#id56" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>AIP-58: Add Airflow ObjectStore (AFS) (<a class="reference external" href="https://github.com/apache/airflow/pulls?q=is%3Apr+is%3Amerged+label%3AAIP-58+milestone%3A%22Airflow+2.8.0%22">AIP-58</a>)</p></li>
<li><p>Add XCom tab to Grid (#35719)</p></li>
<li><p>Add “literal” wrapper to disable field templating (#35017)</p></li>
<li><p>Add task context logging feature to allow forwarding messages to task logs (#32646, #32693, #35857)</p></li>
<li><p>Add Listener hooks for Datasets (#34418, #36247)</p></li>
<li><p>Allow override of navbar text color (#35505)</p></li>
<li><p>Add lightweight serialization for deltalake tables (#35462)</p></li>
<li><p>Add support for serialization of iceberg tables (#35456)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prev_end_date_success</span></code> method access (#34528)</p></li>
<li><p>Add task parameter to set custom logger name (#34964)</p></li>
<li><p>Add pyspark decorator (#35247)</p></li>
<li><p>Add trigger as a valid option for the db clean command (#34908)</p></li>
<li><p>Add decorators for external and venv python branching operators (#35043)</p></li>
<li><p>Allow PythonVenvOperator using other index url (#33017)</p></li>
<li><p>Add Python Virtualenv Operator Caching (#33355)</p></li>
<li><p>Introduce a generic export for containerized executor logging (#34903)</p></li>
<li><p>Add ability to clear downstream tis in <code class="docutils literal notranslate"><span class="pre">List</span> <span class="pre">Task</span> <span class="pre">Instances</span></code> view  (#34529)</p></li>
<li><p>Attribute <code class="docutils literal notranslate"><span class="pre">clear_number</span></code> to track DAG run being cleared (#34126)</p></li>
<li><p>Add BranchPythonVirtualenvOperator (#33356)</p></li>
<li><p>Allow PythonVenvOperator using other index url (#33017)</p></li>
<li><p>Add CLI notification commands to providers (#33116)</p></li>
<li><p>Use dropdown instead of buttons when there are more than 10 retries in log tab (#36025)</p></li>
</ul>
</section>
<section id="id57">
<h4>Improvements<a class="headerlink" href="#id57" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">multiselect</span></code> to run state in grid view (#35403)</p></li>
<li><p>Fix warning message in <code class="docutils literal notranslate"><span class="pre">Connection.get_hook</span></code> in case of ImportError (#36005)</p></li>
<li><p>Add processor_subdir to import_error table to handle multiple dag processors (#35956)</p></li>
<li><p>Consolidate the call of change_state to fail or success in the core executors (#35901)</p></li>
<li><p>Relax mandatory requirement for start_date when schedule=None (#35356)</p></li>
<li><p>Use ExitStack to manage mutation of secrets_backend_list in dag.test (#34620)</p></li>
<li><p>improved visibility of tasks in ActionModal for <code class="docutils literal notranslate"><span class="pre">taskinstance</span></code> (#35810)</p></li>
<li><p>Create directories based on <code class="docutils literal notranslate"><span class="pre">AIRFLOW_CONFIG</span></code> path (#35818)</p></li>
<li><p>Implements <code class="docutils literal notranslate"><span class="pre">JSON-string</span></code> connection representation generator (#35723)</p></li>
<li><p>Move <code class="docutils literal notranslate"><span class="pre">BaseOperatorLink</span></code> into the separate module (#35032)</p></li>
<li><p>Set mark_end_on_close after set_context (#35761)</p></li>
<li><p>Move external logs links to top of react logs page (#35668)</p></li>
<li><p>Change terminal mode to <code class="docutils literal notranslate"><span class="pre">cbreak</span></code> in <code class="docutils literal notranslate"><span class="pre">execute_interactive</span></code> and handle <code class="docutils literal notranslate"><span class="pre">SIGINT</span></code> (#35602)</p></li>
<li><p>Make raw HTML descriptions configurable (#35460)</p></li>
<li><p>Allow email field to be templated (#35546)</p></li>
<li><p>Hide logical date and run id in trigger UI form (#35284)</p></li>
<li><p>Improved instructions for adding dependencies in TaskFlow (#35406)</p></li>
<li><p>Add optional exit code to list import errors (#35378)</p></li>
<li><p>Limit query result on DB rather than client in <code class="docutils literal notranslate"><span class="pre">synchronize_log_template</span></code> function (#35366)</p></li>
<li><p>Allow description to be passed in when using variables CLI (#34791)</p></li>
<li><p>Allow optional defaults in required fields with manual triggered dags (#31301)</p></li>
<li><p>Permitting airflow kerberos to run in different modes (#35146)</p></li>
<li><p>Refactor commands to unify daemon context handling (#34945)</p></li>
<li><p>Add extra fields to plugins endpoint (#34913)</p></li>
<li><p>Add description to pools view (#34862)</p></li>
<li><p>Move cli’s Connection export and Variable export command print logic to a separate function (#34647)</p></li>
<li><p>Extract and reuse get_kerberos_principle func from get_kerberos_principle (#34936)</p></li>
<li><p>Change type annotation for <code class="docutils literal notranslate"><span class="pre">BaseOperatorLink.operators</span></code> (#35003)</p></li>
<li><p>Optimise and migrate to <code class="docutils literal notranslate"><span class="pre">SA2-compatible</span></code> syntax for TaskReschedule (#33720)</p></li>
<li><p>Consolidate the permissions name in SlaMissModelView (#34949)</p></li>
<li><p>Add debug log saying what’s being run to <code class="docutils literal notranslate"><span class="pre">EventScheduler</span></code> (#34808)</p></li>
<li><p>Increase log reader stream loop sleep duration to 1 second (#34789)</p></li>
<li><p>Resolve pydantic deprecation warnings re <code class="docutils literal notranslate"><span class="pre">update_forward_refs</span></code> (#34657)</p></li>
<li><p>Unify mapped task group lookup logic (#34637)</p></li>
<li><p>Allow filtering event logs by attributes (#34417)</p></li>
<li><p>Make connection login and password TEXT (#32815)</p></li>
<li><p>Ban import <code class="docutils literal notranslate"><span class="pre">Dataset</span></code> from <code class="docutils literal notranslate"><span class="pre">airflow</span></code> package in codebase (#34610)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">airflow.datasets.Dataset</span></code> in examples and tests (#34605)</p></li>
<li><p>Enhance task status visibility (#34486)</p></li>
<li><p>Simplify DAG trigger UI (#34567)</p></li>
<li><p>Ban import AirflowException from airflow (#34512)</p></li>
<li><p>Add descriptions for airflow resource config parameters (#34438)</p></li>
<li><p>Simplify trigger name expression (#34356)</p></li>
<li><p>Move definition of Pod*Exceptions to pod_generator (#34346)</p></li>
<li><p>Add deferred tasks to the cluster_activity view Pools Slots (#34275)</p></li>
<li><p>heartbeat failure log message fix (#34160)</p></li>
<li><p>Rename variables for dag runs (#34049)</p></li>
<li><p>Clarify new_state in OpenAPI spec (#34056)</p></li>
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">version</span></code> top-level element from docker compose files (#33831)</p></li>
<li><p>Remove generic trigger cancelled error log (#33874)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">NOT</span> <span class="pre">EXISTS</span></code> subquery instead of <code class="docutils literal notranslate"><span class="pre">tuple_not_in_condition</span></code> (#33527)</p></li>
<li><p>Allow context key args to not provide a default (#33430)</p></li>
<li><p>Order triggers by - TI priority_weight when assign unassigned triggers (#32318)</p></li>
<li><p>Add metric <code class="docutils literal notranslate"><span class="pre">triggerer_heartbeat</span></code> (#33320)</p></li>
<li><p>Allow <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">variables</span> <span class="pre">export</span></code> to print to stdout (#33279)</p></li>
<li><p>Workaround failing deadlock when running backfill (#32991)</p></li>
<li><p>add dag_run_ids and task_ids filter for the batch task instance API endpoint (#32705)</p></li>
<li><p>Configurable health check threshold for triggerer (#33089)</p></li>
<li><p>Rework provider manager to treat Airflow core hooks like other provider hooks (#33051)</p></li>
<li><p>Ensure DAG-level references are filled on unmap (#33083)</p></li>
<li><p>Affix webserver access_denied warning to be configurable (#33022)</p></li>
<li><p>Add support for arrays of different data types in the Trigger Form UI (#32734)</p></li>
<li><p>Add a mechanism to warn if executors override existing CLI commands (#33423)</p></li>
</ul>
</section>
<section id="id58">
<h4>Bug Fixes<a class="headerlink" href="#id58" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Account for change in UTC offset when calculating next schedule (#35887)</p></li>
<li><p>Add read access to pools for viewer role (#35352)</p></li>
<li><p>Fix gantt chart queued duration when queued_dttm is greater than start_date for deferred tasks (#35984)</p></li>
<li><p>Avoid crushing container when directory is not found on rm (#36050)</p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">reset_user_sessions</span></code> to work from either CLI or web (#36056)</p></li>
<li><p>Fix UI Grid error when DAG has been removed. (#36028)</p></li>
<li><p>Change Trigger UI to use HTTP POST in web ui (#36026)</p></li>
<li><p>Fix airflow db shell needing an extra key press to exit (#35982)</p></li>
<li><p>Change dag grid <code class="docutils literal notranslate"><span class="pre">overscroll</span></code> behaviour to auto (#35717)</p></li>
<li><p>Run triggers inline with dag test (#34642)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">borderWidthRight</span></code> to grid for Firefox <code class="docutils literal notranslate"><span class="pre">scrollbar</span></code> (#35346)</p></li>
<li><p>Fix for infinite recursion due to secrets_masker (#35048)</p></li>
<li><p>Fix write <code class="docutils literal notranslate"><span class="pre">processor_subdir</span></code> in serialized_dag table (#35661)</p></li>
<li><p>Reload configuration for standalone dag file processor (#35725)</p></li>
<li><p>Long custom operator name overflows in graph view (#35382)</p></li>
<li><p>Add try_number to extra links query (#35317)</p></li>
<li><p>Prevent assignment of non JSON serializable values to DagRun.conf dict (#35096)</p></li>
<li><p>Numeric values in DAG details are incorrectly rendered as timestamps (#35538)</p></li>
<li><p>Fix Scheduler and triggerer crashes in daemon mode when statsd metrics are enabled (#35181)</p></li>
<li><p>Infinite UI redirection loop after deactivating an active user (#35486)</p></li>
<li><p>Bug fix fetch_callback of Partial Subset DAG (#35256)</p></li>
<li><p>Fix DagRun data interval for DeltaDataIntervalTimetable (#35391)</p></li>
<li><p>Fix query in <code class="docutils literal notranslate"><span class="pre">get_dag_by_pickle</span></code> util function (#35339)</p></li>
<li><p>Fix TriggerDagRunOperator failing to trigger subsequent runs when reset_dag_run=True (#35429)</p></li>
<li><p>Fix weight_rule property type in <code class="docutils literal notranslate"><span class="pre">mappedoperator</span></code> (#35257)</p></li>
<li><p>Bugfix/prevent concurrency with cached venv (#35258)</p></li>
<li><p>Fix dag serialization (#34042)</p></li>
<li><p>Fix py/url-redirection by replacing request.referrer by get_redirect() (#34237)</p></li>
<li><p>Fix updating variables during variable imports (#33932)</p></li>
<li><p>Use Literal from airflow.typing_compat in Airflow core (#33821)</p></li>
<li><p>Always use <code class="docutils literal notranslate"><span class="pre">Literal</span></code> from <code class="docutils literal notranslate"><span class="pre">typing_extensions</span></code> (#33794)</p></li>
</ul>
</section>
<section id="id59">
<h4>Miscellaneous<a class="headerlink" href="#id59" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Change default MySQL client to MariaDB (#36243)</p></li>
<li><p>Mark daskexecutor provider as removed (#35965)</p></li>
<li><p>Bump FAB to <code class="docutils literal notranslate"><span class="pre">4.3.10</span></code> (#35991)</p></li>
<li><p>Mark daskexecutor provider as removed (#35965)</p></li>
<li><p>Rename <code class="docutils literal notranslate"><span class="pre">Connection.to_json_dict</span></code> to <code class="docutils literal notranslate"><span class="pre">Connection.to_dict</span></code> (#35894)</p></li>
<li><p>Upgrade to Pydantic v2 (#35551)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">moto</span></code> version to <code class="docutils literal notranslate"><span class="pre">&gt;=</span> <span class="pre">4.2.9</span></code> (#35687)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">pyarrow-hotfix</span></code> to mitigate CVE-2023-47248 (#35650)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">axios</span></code> from <code class="docutils literal notranslate"><span class="pre">0.26.0</span> <span class="pre">to</span> <span class="pre">1.6.0</span></code> in <code class="docutils literal notranslate"><span class="pre">/airflow/www/</span></code> (#35624)</p></li>
<li><p>Make docker decorator’s type annotation consistent with operator (#35568)</p></li>
<li><p>Add default to <code class="docutils literal notranslate"><span class="pre">navbar_text_color</span></code> and <code class="docutils literal notranslate"><span class="pre">rm</span></code> condition in style (#35553)</p></li>
<li><p>Avoid initiating session twice in <code class="docutils literal notranslate"><span class="pre">dag_next_execution</span></code> (#35539)</p></li>
<li><p>Work around typing issue in examples and providers (#35494)</p></li>
<li><p>Enable <code class="docutils literal notranslate"><span class="pre">TCH004</span></code> and <code class="docutils literal notranslate"><span class="pre">TCH005</span></code> rules (#35475)</p></li>
<li><p>Humanize log output about retrieved DAG(s) (#35338)</p></li>
<li><p>Switch from Black to Ruff formatter (#35287)</p></li>
<li><p>Upgrade to Flask Application Builder 4.3.9 (#35085)</p></li>
<li><p>D401 Support (#34932, #34933)</p></li>
<li><p>Use requires_access to check read permission on dag instead of checking it explicitly (#34940)</p></li>
<li><p>Deprecate lazy import <code class="docutils literal notranslate"><span class="pre">AirflowException</span></code> from airflow (#34541)</p></li>
<li><p>View util refactoring on mapped stuff use cases (#34638)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">postcss</span></code> from <code class="docutils literal notranslate"><span class="pre">8.4.25</span> <span class="pre">to</span> <span class="pre">8.4.31</span></code> in <code class="docutils literal notranslate"><span class="pre">/airflow/www</span></code> (#34770)</p></li>
<li><p>Refactor Sqlalchemy queries to 2.0 style (#34763, #34665, #32883, #35120)</p></li>
<li><p>Change to lazy loading of io in pandas serializer (#34684)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">airflow.models.dag.DAG</span></code> in examples (#34617)</p></li>
<li><p>Use airflow.exceptions.AirflowException in core (#34510)</p></li>
<li><p>Check that dag_ids passed in request are consistent (#34366)</p></li>
<li><p>Refactors to make code better (#34278, #34113, #34110, #33838, #34260, #34409, #34377, #34350)</p></li>
<li><p>Suspend qubole provider (#33889)</p></li>
<li><p>Generate Python API docs for Google ADS (#33814)</p></li>
<li><p>Improve importing in modules (#33812, #33811, #33810, #33806, #33807, #33805, #33804, #33803,
#33801, #33799, #33800, #33797, #33798, #34406, #33808)</p></li>
<li><p>Upgrade Elasticsearch to 8 (#33135)</p></li>
</ul>
</section>
<section id="id60">
<h4>Doc Only Changes<a class="headerlink" href="#id60" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Add support for tabs (and other UX components) to docs (#36041)</p></li>
<li><p>Replace architecture diagram of Airflow with diagrams-generated one (#36035)</p></li>
<li><p>Add the section describing the security model of DAG Author capabilities (#36022)</p></li>
<li><p>Enhance docs for zombie tasks (#35825)</p></li>
<li><p>Reflect drop/add support of DB Backends versions in documentation (#35785)</p></li>
<li><p>More detail on mandatory task arguments (#35740)</p></li>
<li><p>Indicate usage of the <code class="docutils literal notranslate"><span class="pre">re2</span></code> regex engine in the .airflowignore documentation. (#35663)</p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">best-practices.rst</span></code> (#35692)</p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">dag-run.rst</span></code> to mention Airflow’s support for extended cron syntax through croniter (#35342)</p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">webserver.rst</span></code> to include information of supported OAuth2 providers (#35237)</p></li>
<li><p>Add back dag_run to docs (#35142)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">rst</span></code> code block format (#34708)</p></li>
<li><p>Add typing to concrete taskflow examples (#33417)</p></li>
<li><p>Add concrete examples for accessing context variables from TaskFlow tasks (#33296)</p></li>
<li><p>Fix links in security docs (#33329)</p></li>
</ul>
</section>
</section>
</section>
<section id="airflow-2-7-3-2023-11-06">
<h2><a class="toc-backref" href="#id231" role="doc-backlink">Airflow 2.7.3 (2023-11-06)</a><a class="headerlink" href="#airflow-2-7-3-2023-11-06" title="Link to this heading">¶</a></h2>
<section id="id61">
<h3>Significant Changes<a class="headerlink" href="#id61" title="Link to this heading">¶</a></h3>
<p>No significant changes.</p>
<section id="id62">
<h4>Bug Fixes<a class="headerlink" href="#id62" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Fix pre-mature evaluation of tasks in mapped task group (#34337)</p></li>
<li><p>Add TriggerRule missing value in rest API (#35194)</p></li>
<li><p>Fix Scheduler crash looping when dagrun creation fails (#35135)</p></li>
<li><p>Fix test connection with <code class="docutils literal notranslate"><span class="pre">codemirror</span></code> and extra (#35122)</p></li>
<li><p>Fix usage of cron-descriptor since BC in v1.3.0 (#34836)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">get_plugin_info</span></code> for class based listeners. (#35022)</p></li>
<li><p>Some improvements/fixes for dag_run and task_instance endpoints (#34942)</p></li>
<li><p>Fix the dags count filter in webserver home page (#34944)</p></li>
<li><p>Return only the TIs of the readable dags when ~ is provided as a dag_id (#34939)</p></li>
<li><p>Fix triggerer thread crash in daemon mode (#34931)</p></li>
<li><p>Fix wrong plugin schema (#34858)</p></li>
<li><p>Use DAG timezone in TimeSensorAsync (#33406)</p></li>
<li><p>Mark tasks with <code class="docutils literal notranslate"><span class="pre">all_skipped</span></code> trigger rule as <code class="docutils literal notranslate"><span class="pre">skipped</span></code> if any task is in <code class="docutils literal notranslate"><span class="pre">upstream_failed</span></code> state (#34392)</p></li>
<li><p>Add read only validation to read only fields (#33413)</p></li>
</ul>
</section>
<section id="misc-internal">
<h4>Misc/Internal<a class="headerlink" href="#misc-internal" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Improve testing harness to separate DB and non-DB tests (#35160, #35333)</p></li>
<li><p>Add pytest db_test markers to our tests (#35264)</p></li>
<li><p>Add pip caching for faster build (#35026)</p></li>
<li><p>Upper bound <code class="docutils literal notranslate"><span class="pre">pendulum</span></code> requirement to <code class="docutils literal notranslate"><span class="pre">&lt;3.0</span></code> (#35336)</p></li>
<li><p>Limit <code class="docutils literal notranslate"><span class="pre">sentry_sdk</span></code> to <code class="docutils literal notranslate"><span class="pre">1.33.0</span></code> (#35298)</p></li>
<li><p>Fix subtle bug in mocking processor_agent in our tests (#35221)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">&#64;babel/traverse</span></code> from <code class="docutils literal notranslate"><span class="pre">7.16.0</span> <span class="pre">to</span> <span class="pre">7.23.2</span></code> in <code class="docutils literal notranslate"><span class="pre">/airflow/www</span></code> (#34988)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">undici</span></code> from <code class="docutils literal notranslate"><span class="pre">5.19.1</span> <span class="pre">to</span> <span class="pre">5.26.3</span></code> in <code class="docutils literal notranslate"><span class="pre">/airflow/www</span></code> (#34971)</p></li>
<li><p>Remove unused set from <code class="docutils literal notranslate"><span class="pre">SchedulerJobRunner</span></code> (#34810)</p></li>
<li><p>Remove warning about <code class="docutils literal notranslate"><span class="pre">max_tis</span> <span class="pre">per</span> <span class="pre">query</span> <span class="pre">&gt;</span> <span class="pre">parallelism</span></code> (#34742)</p></li>
<li><p>Improve modules import in Airflow core by moving some of them into a type-checking block (#33755)</p></li>
<li><p>Fix tests to respond to Python 3.12 handling of utcnow in sentry-sdk (#34946)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">connexion&lt;3.0</span></code> upper bound (#35218)</p></li>
<li><p>Limit Airflow to <code class="docutils literal notranslate"><span class="pre">&lt;</span> <span class="pre">3.12</span></code> (#35123)</p></li>
<li><p>update moto version (#34938)</p></li>
<li><p>Limit WTForms to below <code class="docutils literal notranslate"><span class="pre">3.1.0</span></code> (#34943)</p></li>
</ul>
</section>
<section id="id63">
<h4>Doc Only Changes<a class="headerlink" href="#id63" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Fix variables substitution in Airflow Documentation (#34462)</p></li>
<li><p>Added example for defaults in <code class="docutils literal notranslate"><span class="pre">conn.extras</span></code> (#35165)</p></li>
<li><p>Update datasets.rst issue with running example code (#35035)</p></li>
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">mysql-connector-python</span></code> from recommended MySQL driver (#34287)</p></li>
<li><p>Fix syntax error in task dependency <code class="docutils literal notranslate"><span class="pre">set_downstream</span></code> example (#35075)</p></li>
<li><p>Update documentation to enable test connection (#34905)</p></li>
<li><p>Update docs errors.rst - Mention sentry “transport” configuration option (#34912)</p></li>
<li><p>Update dags.rst to put SubDag deprecation note right after the SubDag section heading (#34925)</p></li>
<li><p>Add info on getting variables and config in custom secrets backend (#34834)</p></li>
<li><p>Document BaseExecutor interface in more detail to help users in writing custom executors (#34324)</p></li>
<li><p>Fix broken link to <code class="docutils literal notranslate"><span class="pre">airflow_local_settings.py</span></code> template (#34826)</p></li>
<li><p>Fixes python_callable function assignment context kwargs example in params.rst (#34759)</p></li>
<li><p>Add missing multiple_outputs=True param in the TaskFlow example (#34812)</p></li>
<li><p>Remove extraneous <code class="docutils literal notranslate"><span class="pre">'&gt;'</span></code> in provider section name (#34813)</p></li>
<li><p>Fix imports in extra link documentation (#34547)</p></li>
</ul>
</section>
</section>
</section>
<section id="airflow-2-7-2-2023-10-12">
<h2><a class="toc-backref" href="#id232" role="doc-backlink">Airflow 2.7.2 (2023-10-12)</a><a class="headerlink" href="#airflow-2-7-2-2023-10-12" title="Link to this heading">¶</a></h2>
<section id="id64">
<h3>Significant Changes<a class="headerlink" href="#id64" title="Link to this heading">¶</a></h3>
<p>No significant changes</p>
<section id="id65">
<h4>Bug Fixes<a class="headerlink" href="#id65" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Check if the lower of provided values are sensitives in config endpoint (#34712)</p></li>
<li><p>Add support for ZoneInfo and generic UTC to fix datetime serialization (#34683, #34804)</p></li>
<li><p>Fix AttributeError: ‘Select’ object has no attribute ‘count’ during the airflow db migrate command (#34348)</p></li>
<li><p>Make dry run optional for patch task instance  (#34568)</p></li>
<li><p>Fix non deterministic datetime deserialization (#34492)</p></li>
<li><p>Use iterative loop to look for mapped parent (#34622)</p></li>
<li><p>Fix is_parent_mapped value by checking if any of the parent <code class="docutils literal notranslate"><span class="pre">taskgroup</span></code> is mapped (#34587)</p></li>
<li><p>Avoid top-level airflow import to avoid circular dependency (#34586)</p></li>
<li><p>Add more exemptions to lengthy metric list (#34531)</p></li>
<li><p>Fix dag warning endpoint permissions (#34355)</p></li>
<li><p>Fix task instance access issue in the batch endpoint (#34315)</p></li>
<li><p>Correcting wrong time showing in grid view (#34179)</p></li>
<li><p>Fix www <code class="docutils literal notranslate"><span class="pre">cluster_activity</span></code> view not loading due to <code class="docutils literal notranslate"><span class="pre">standaloneDagProcessor</span></code> templating (#34274)</p></li>
<li><p>Set <code class="docutils literal notranslate"><span class="pre">loglevel=DEBUG</span></code> in ‘Not syncing <code class="docutils literal notranslate"><span class="pre">DAG-level</span></code> permissions’ (#34268)</p></li>
<li><p>Make param validation consistent for DAG validation and triggering (#34248)</p></li>
<li><p>Ensure details panel is shown when any tab is selected (#34136)</p></li>
<li><p>Fix issues related to <code class="docutils literal notranslate"><span class="pre">access_control={}</span></code> (#34114)</p></li>
<li><p>Fix not found <code class="docutils literal notranslate"><span class="pre">ab_user</span></code> table in the CLI session (#34120)</p></li>
<li><p>Fix FAB-related logging format interpolation (#34139)</p></li>
<li><p>Fix query bug in <code class="docutils literal notranslate"><span class="pre">next_run_datasets_summary</span></code> endpoint (#34143)</p></li>
<li><p>Fix for TaskGroup toggles for duplicated labels (#34072)</p></li>
<li><p>Fix the required permissions to clear a TI from the UI (#34123)</p></li>
<li><p>Reuse <code class="docutils literal notranslate"><span class="pre">_run_task_session</span></code> in mapped <code class="docutils literal notranslate"><span class="pre">render_template_fields</span></code> (#33309)</p></li>
<li><p>Fix scheduler logic to plan new dag runs by ignoring manual runs (#34027)</p></li>
<li><p>Add missing audit logs for Flask actions add, edit and delete (#34090)</p></li>
<li><p>Hide Irrelevant Dag Processor from Cluster Activity Page (#33611)</p></li>
<li><p>Remove infinite animation for pinwheel, spin for 1.5s (#34020)</p></li>
<li><p>Restore rendering of provider configuration with <code class="docutils literal notranslate"><span class="pre">version_added</span></code> (#34011)</p></li>
</ul>
</section>
<section id="id66">
<h4>Doc Only Changes<a class="headerlink" href="#id66" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Clarify audit log permissions (#34815)</p></li>
<li><p>Add explanation for Audit log users (#34814)</p></li>
<li><p>Import <code class="docutils literal notranslate"><span class="pre">AUTH_REMOTE_USER</span></code> from FAB in WSGI middleware example (#34721)</p></li>
<li><p>Add information about drop support MsSQL as DB Backend in the future (#34375)</p></li>
<li><p>Document how to use the system’s timezone database (#34667)</p></li>
<li><p>Clarify what landing time means in doc (#34608)</p></li>
<li><p>Fix screenshot in dynamic task mapping docs (#34566)</p></li>
<li><p>Fix class reference in Public Interface documentation (#34454)</p></li>
<li><p>Clarify var.value.get  and var.json.get usage (#34411)</p></li>
<li><p>Schedule default value description (#34291)</p></li>
<li><p>Docs for triggered_dataset_event (#34410)</p></li>
<li><p>Add DagRun events (#34328)</p></li>
<li><p>Provide tabular overview about trigger form param types (#34285)</p></li>
<li><p>Add link to Amazon Provider Configuration in Core documentation (#34305)</p></li>
<li><p>Add “security infrastructure” paragraph to security model (#34301)</p></li>
<li><p>Change links to SQLAlchemy 1.4 (#34288)</p></li>
<li><p>Add SBOM entry in security documentation (#34261)</p></li>
<li><p>Added more example code for XCom push and pull (#34016)</p></li>
<li><p>Add state utils to Public Airflow Interface (#34059)</p></li>
<li><p>Replace markdown style link with rst style link (#33990)</p></li>
<li><p>Fix broken link to the “UPDATING.md” file (#33583)</p></li>
</ul>
</section>
<section id="id67">
<h4>Misc/Internal<a class="headerlink" href="#id67" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Update min-sqlalchemy version to account for latest features used (#34293)</p></li>
<li><p>Fix SesssionExemptMixin spelling (#34696)</p></li>
<li><p>Restrict <code class="docutils literal notranslate"><span class="pre">astroid</span></code> version &lt; 3 (#34658)</p></li>
<li><p>Fail dag test if defer without triggerer (#34619)</p></li>
<li><p>Fix connections exported output (#34640)</p></li>
<li><p>Don’t run isort when creating new alembic migrations (#34636)</p></li>
<li><p>Deprecate numeric type python version in PythonVirtualEnvOperator (#34359)</p></li>
<li><p>Refactor <code class="docutils literal notranslate"><span class="pre">os.path.splitext</span></code> to <code class="docutils literal notranslate"><span class="pre">Path.*</span></code> (#34352, #33669)</p></li>
<li><p>Replace = by is for type comparison (#33983)</p></li>
<li><p>Refactor integer division (#34180)</p></li>
<li><p>Refactor: Simplify comparisons (#34181)</p></li>
<li><p>Refactor: Simplify string generation (#34118)</p></li>
<li><p>Replace unnecessary dict comprehension with dict() in core (#33858)</p></li>
<li><p>Change “not all” to “any” for ease of readability (#34259)</p></li>
<li><p>Replace assert by if…raise in code (#34250, #34249)</p></li>
<li><p>Move default timezone to except block (#34245)</p></li>
<li><p>Combine similar if logic in core (#33988)</p></li>
<li><p>Refactor: Consolidate import and usage of random (#34108)</p></li>
<li><p>Consolidate importing of os.path.* (#34060)</p></li>
<li><p>Replace sequence concatenation by unpacking in Airflow core (#33934)</p></li>
<li><p>Refactor unneeded ‘continue’ jumps around the repo (#33849, #33845, #33846, #33848, #33839, #33844, #33836, #33842)</p></li>
<li><p>Remove [project] section from <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> (#34014)</p></li>
<li><p>Move the try outside the loop when this is possible in Airflow core (#33975)</p></li>
<li><p>Replace loop by any when looking for a positive value in core (#33985)</p></li>
<li><p>Do not create lists we don’t need (#33519)</p></li>
<li><p>Remove useless string join from core (#33969)</p></li>
<li><p>Add TCH001 and TCH002 rules to pre-commit to detect and move type checking modules (#33865)</p></li>
<li><p>Add cancel_trigger_ids to to_cancel dequeue in batch (#33944)</p></li>
<li><p>Avoid creating unnecessary list when parsing stats datadog tags (#33943)</p></li>
<li><p>Replace dict.items by dict.values when key is not used in core (#33940)</p></li>
<li><p>Replace lambdas with comprehensions (#33745)</p></li>
<li><p>Improve modules import in Airflow core by some of them into a type-checking block (#33755)</p></li>
<li><p>Refactor: remove unused state - SHUTDOWN (#33746, #34063, #33893)</p></li>
<li><p>Refactor: Use in-place .sort() (#33743)</p></li>
<li><p>Use literal dict instead of calling dict() in Airflow core (#33762)</p></li>
<li><p>remove unnecessary map and rewrite it using list in Airflow core (#33764)</p></li>
<li><p>Replace lambda by a def method in Airflow core (#33758)</p></li>
<li><p>Replace type func by <code class="docutils literal notranslate"><span class="pre">isinstance</span></code> in fab_security manager (#33760)</p></li>
<li><p>Replace single quotes by double quotes in all Airflow modules (#33766)</p></li>
<li><p>Merge multiple <code class="docutils literal notranslate"><span class="pre">isinstance</span></code> calls for the same object in a single call (#33767)</p></li>
<li><p>Use a single  statement with multiple contexts instead of nested  statements in core (#33769)</p></li>
<li><p>Refactor: Use f-strings (#33734, #33455)</p></li>
<li><p>Refactor: Use random.choices (#33631)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">str.splitlines()</span></code> to split lines (#33592)</p></li>
<li><p>Refactor: Remove useless str() calls (#33629)</p></li>
<li><p>Refactor: Improve detection of duplicates and list sorting (#33675)</p></li>
<li><p>Simplify conditions on <code class="docutils literal notranslate"><span class="pre">len()</span></code> (#33454)</p></li>
</ul>
</section>
</section>
</section>
<section id="airflow-2-7-1-2023-09-07">
<h2><a class="toc-backref" href="#id233" role="doc-backlink">Airflow 2.7.1 (2023-09-07)</a><a class="headerlink" href="#airflow-2-7-1-2023-09-07" title="Link to this heading">¶</a></h2>
<section id="id68">
<h3>Significant Changes<a class="headerlink" href="#id68" title="Link to this heading">¶</a></h3>
<section id="crontriggertimetable-is-now-less-aggressive-when-trying-to-skip-a-run-33404">
<h4>CronTriggerTimetable is now less aggressive when trying to skip a run (#33404)<a class="headerlink" href="#crontriggertimetable-is-now-less-aggressive-when-trying-to-skip-a-run-33404" title="Link to this heading">¶</a></h4>
<p>When setting <code class="docutils literal notranslate"><span class="pre">catchup=False</span></code>, CronTriggerTimetable no longer skips a run if
the scheduler does not query the timetable immediately after the previous run
has been triggered.</p>
<p>This should not affect scheduling in most cases, but can change the behaviour if
a DAG is paused-unpaused to manually skip a run. Previously, the timetable (with
<code class="docutils literal notranslate"><span class="pre">catchup=False</span></code>) would only start a run after a DAG is unpaused, but with this
change, the scheduler would try to look at little bit back to schedule the
previous run that covers a part of the period when the DAG was paused. This
means you will need to keep a DAG paused longer (namely, for the entire cron
period to pass) to really skip a run.</p>
<p>Note that this is also the behaviour exhibited by various other cron-based
scheduling tools, such as <code class="docutils literal notranslate"><span class="pre">anacron</span></code>.</p>
</section>
<section id="conf-set-becomes-case-insensitive-to-match-conf-get-behavior-33452">
<h4><code class="docutils literal notranslate"><span class="pre">conf.set()</span></code> becomes case insensitive to match <code class="docutils literal notranslate"><span class="pre">conf.get()</span></code> behavior (#33452)<a class="headerlink" href="#conf-set-becomes-case-insensitive-to-match-conf-get-behavior-33452" title="Link to this heading">¶</a></h4>
<p>Also, <code class="docutils literal notranslate"><span class="pre">conf.get()</span></code> will now break if used with non-string parameters.</p>
<p><code class="docutils literal notranslate"><span class="pre">conf.set(section,</span> <span class="pre">key,</span> <span class="pre">value)</span></code> used to be case sensitive, i.e. <code class="docutils literal notranslate"><span class="pre">conf.set(&quot;SECTION&quot;,</span> <span class="pre">&quot;KEY&quot;,</span> <span class="pre">value)</span></code>
and <code class="docutils literal notranslate"><span class="pre">conf.set(&quot;section&quot;,</span> <span class="pre">&quot;key&quot;,</span> <span class="pre">value)</span></code> were stored as two distinct configurations.
This was inconsistent with the behavior of <code class="docutils literal notranslate"><span class="pre">conf.get(section,</span> <span class="pre">key)</span></code>, which was always converting the section and key to lower case.</p>
<p>As a result, configuration options set with upper case characters in the section or key were unreachable.
That’s why we are now converting section and key to lower case in <code class="docutils literal notranslate"><span class="pre">conf.set</span></code> too.</p>
<p>We also changed a bit the behavior of <code class="docutils literal notranslate"><span class="pre">conf.get()</span></code>. It used to allow objects that are not strings in the section or key.
Doing this will now result in an exception. For instance, <code class="docutils literal notranslate"><span class="pre">conf.get(&quot;section&quot;,</span> <span class="pre">123)</span></code> needs to be replaced with <code class="docutils literal notranslate"><span class="pre">conf.get(&quot;section&quot;,</span> <span class="pre">&quot;123&quot;)</span></code>.</p>
</section>
<section id="id69">
<h4>Bug Fixes<a class="headerlink" href="#id69" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Ensure that tasks wait for running indirect setup (#33903)</p></li>
<li><p>Respect “soft_fail” for core async sensors (#33403)</p></li>
<li><p>Differentiate 0 and unset as a default param values (#33965)</p></li>
<li><p>Raise 404 from Variable PATCH API if variable is not found (#33885)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">MappedTaskGroup</span></code> tasks not respecting upstream dependency (#33732)</p></li>
<li><p>Add limit 1 if required first value from query result (#33672)</p></li>
<li><p>Fix UI DAG counts including deleted DAGs (#33778)</p></li>
<li><p>Fix cleaning zombie RESTARTING tasks (#33706)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SECURITY_MANAGER_CLASS</span></code> should be a reference to class, not a string (#33690)</p></li>
<li><p>Add back <code class="docutils literal notranslate"><span class="pre">get_url_for_login</span></code> in security manager (#33660)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">2.7.0</span> <span class="pre">db</span></code> migration job errors (#33652)</p></li>
<li><p>Set context inside templates (#33645)</p></li>
<li><p>Treat dag-defined access_control as authoritative if defined (#33632)</p></li>
<li><p>Bind engine before attempting to drop archive tables (#33622)</p></li>
<li><p>Add a fallback in case no first name and last name are set (#33617)</p></li>
<li><p>Sort data before <code class="docutils literal notranslate"><span class="pre">groupby</span></code> in TIS duration calculation (#33535)</p></li>
<li><p>Stop adding values to rendered templates UI when there is no dagrun (#33516)</p></li>
<li><p>Set strict to True when parsing dates in webserver views (#33512)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">dialect.name</span></code> in custom SA types (#33503)</p></li>
<li><p>Do not return ongoing dagrun when a <code class="docutils literal notranslate"><span class="pre">end_date</span></code> is less than <code class="docutils literal notranslate"><span class="pre">utcnow</span></code> (#33488)</p></li>
<li><p>Fix a bug in <code class="docutils literal notranslate"><span class="pre">formatDuration</span></code> method (#33486)</p></li>
<li><p>Make <code class="docutils literal notranslate"><span class="pre">conf.set</span></code> case insensitive (#33452)</p></li>
<li><p>Allow timetable to slightly miss catchup cutoff (#33404)</p></li>
<li><p>Respect <code class="docutils literal notranslate"><span class="pre">soft_fail</span></code> argument when <code class="docutils literal notranslate"><span class="pre">poke</span></code> is called (#33401)</p></li>
<li><p>Create a new method used to resume the task in order to implement specific logic for operators (#33424)</p></li>
<li><p>Fix DagFileProcessor interfering with dags outside its <code class="docutils literal notranslate"><span class="pre">processor_subdir</span></code> (#33357)</p></li>
<li><p>Remove the unnecessary <code class="docutils literal notranslate"><span class="pre">&lt;br&gt;</span></code> text in Provider’s view (#33326)</p></li>
<li><p>Respect <code class="docutils literal notranslate"><span class="pre">soft_fail</span></code> argument when ExternalTaskSensor runs in deferrable mode (#33196)</p></li>
<li><p>Fix handling of default value and serialization of Param class (#33141)</p></li>
<li><p>Check if the dynamically-added index is in the table schema before adding (#32731)</p></li>
<li><p>Fix rendering the mapped parameters when using <code class="docutils literal notranslate"><span class="pre">expand_kwargs</span></code> method (#32272)</p></li>
<li><p>Fix dependencies for celery and opentelemetry for Python 3.8 (#33579)</p></li>
</ul>
</section>
<section id="id70">
<h4>Misc/Internal<a class="headerlink" href="#id70" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Bring back <code class="docutils literal notranslate"><span class="pre">Pydantic</span></code> 1 compatibility (#34081, #33998)</p></li>
<li><p>Use a trimmed version of README.md for PyPI (#33637)</p></li>
<li><p>Upgrade to <code class="docutils literal notranslate"><span class="pre">Pydantic</span></code> 2 (#33956)</p></li>
<li><p>Reorganize <code class="docutils literal notranslate"><span class="pre">devel_only</span></code> extra in Airflow’s setup.py (#33907)</p></li>
<li><p>Bumping <code class="docutils literal notranslate"><span class="pre">FAB</span></code> to <code class="docutils literal notranslate"><span class="pre">4.3.4</span></code> in order to fix issues with filters (#33931)</p></li>
<li><p>Add minimum requirement for <code class="docutils literal notranslate"><span class="pre">sqlalchemy</span> <span class="pre">to</span> <span class="pre">1.4.24</span></code> (#33892)</p></li>
<li><p>Update version_added field for configs in config file (#33509)</p></li>
<li><p>Replace <code class="docutils literal notranslate"><span class="pre">OrderedDict</span></code> with plain dict (#33508)</p></li>
<li><p>Consolidate import and usage of itertools (#33479)</p></li>
<li><p>Static check fixes (#33462)</p></li>
<li><p>Import utc from datetime and normalize its import (#33450)</p></li>
<li><p>D401 Support (#33352, #33339, #33337, #33336, #33335, #33333, #33338)</p></li>
<li><p>Fix some missing type hints (#33334)</p></li>
<li><p>D205 Support - Stragglers (#33301, #33298, #33297)</p></li>
<li><p>Refactor: Simplify code (#33160, #33270, #33268, #33267, #33266, #33264, #33292, #33453, #33476, #33567,
#33568, #33480, #33753, #33520, #33623)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">Pydantic</span></code> warning about <code class="docutils literal notranslate"><span class="pre">orm_mode</span></code> rename (#33220)</p></li>
<li><p>Add MySQL 8.1 to supported versions. (#33576)</p></li>
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">Pydantic</span></code> limitation for version &lt; 2 (#33507)</p></li>
</ul>
</section>
<section id="id71">
<h4>Doc only changes<a class="headerlink" href="#id71" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Add documentation explaining template_ext (and how to override it) (#33735)</p></li>
<li><p>Explain how users can check if python code is top-level (#34006)</p></li>
<li><p>Clarify that DAG authors can also run code in DAG File Processor (#33920)</p></li>
<li><p>Fix broken link in Modules Management page (#33499)</p></li>
<li><p>Fix secrets backend docs (#33471)</p></li>
<li><p>Fix config description for base_log_folder (#33388)</p></li>
</ul>
</section>
</section>
</section>
<section id="airflow-2-7-0-2023-08-18">
<h2><a class="toc-backref" href="#id234" role="doc-backlink">Airflow 2.7.0 (2023-08-18)</a><a class="headerlink" href="#airflow-2-7-0-2023-08-18" title="Link to this heading">¶</a></h2>
<section id="id72">
<h3>Significant Changes<a class="headerlink" href="#id72" title="Link to this heading">¶</a></h3>
<section id="remove-python-3-7-support-30963">
<h4>Remove Python 3.7 support (#30963)<a class="headerlink" href="#remove-python-3-7-support-30963" title="Link to this heading">¶</a></h4>
<p>As of now, Python 3.7 is no longer supported by the Python community.
Therefore, to use Airflow 2.7.0, you must ensure your Python version is
either 3.8, 3.9, 3.10, or 3.11.</p>
</section>
<section id="old-graph-view-is-removed-32958">
<h4>Old Graph View is removed (#32958)<a class="headerlink" href="#old-graph-view-is-removed-32958" title="Link to this heading">¶</a></h4>
<p>The old Graph View is removed. The new Graph View is the default view now.</p>
</section>
<section id="the-trigger-ui-form-is-skipped-in-web-ui-if-no-parameters-are-defined-in-a-dag-33351">
<h4>The trigger UI form is skipped in web UI if no parameters are defined in a DAG (#33351)<a class="headerlink" href="#the-trigger-ui-form-is-skipped-in-web-ui-if-no-parameters-are-defined-in-a-dag-33351" title="Link to this heading">¶</a></h4>
<p>If you are using <code class="docutils literal notranslate"><span class="pre">dag_run.conf</span></code> dictionary and web UI JSON entry to run your DAG you should either:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://airflow.apache.org/docs/apache-airflow/stable/core-concepts/params.html#use-params-to-provide-a-trigger-ui-form">Add params to your DAG</a></p></li>
<li><p>Enable the new configuration <code class="docutils literal notranslate"><span class="pre">show_trigger_form_if_no_params</span></code> to bring back old behaviour</p></li>
</ul>
</section>
<section id="the-db-init-db-upgrade-commands-and-database-load-default-connections-configuration-options-are-deprecated-33136">
<h4>The “db init”, “db upgrade” commands and “[database] load_default_connections” configuration options are deprecated (#33136).<a class="headerlink" href="#the-db-init-db-upgrade-commands-and-database-load-default-connections-configuration-options-are-deprecated-33136" title="Link to this heading">¶</a></h4>
<p>Instead, you should use “airflow db migrate” command to create or upgrade database. This command will not create default connections.
In order to create default connections you need to run “airflow connections create-default-connections” explicitly,
after running “airflow db migrate”.</p>
</section>
<section id="in-case-of-smtp-ssl-connection-the-context-now-uses-the-default-context-33070">
<h4>In case of SMTP SSL connection, the context now uses the “default” context (#33070)<a class="headerlink" href="#in-case-of-smtp-ssl-connection-the-context-now-uses-the-default-context-33070" title="Link to this heading">¶</a></h4>
<p>The “default” context is Python’s <code class="docutils literal notranslate"><span class="pre">default_ssl_contest</span></code> instead of previously used “none”. The
<code class="docutils literal notranslate"><span class="pre">default_ssl_context</span></code> provides a balance between security and compatibility but in some cases,
when certificates are old, self-signed or misconfigured, it might not work. This can be configured
by setting “ssl_context” in “email” configuration of Airflow.</p>
<p>Setting it to “none” brings back the “none” setting that was used in Airflow 2.6 and before,
but it is not recommended due to security reasons ad this setting disables validation of certificates and allows MITM attacks.</p>
</section>
<section id="disable-default-allowing-the-testing-of-connections-in-ui-api-and-cli-32052">
<h4>Disable default allowing the testing of connections in UI, API and CLI(#32052)<a class="headerlink" href="#disable-default-allowing-the-testing-of-connections-in-ui-api-and-cli-32052" title="Link to this heading">¶</a></h4>
<p>For security reasons, the test connection functionality is disabled by default across Airflow UI,
API and CLI. The availability of the functionality can be controlled by the
<code class="docutils literal notranslate"><span class="pre">test_connection</span></code> flag in the <code class="docutils literal notranslate"><span class="pre">core</span></code> section of the Airflow
configuration (<code class="docutils literal notranslate"><span class="pre">airflow.cfg</span></code>). It can also be controlled by the
environment variable <code class="docutils literal notranslate"><span class="pre">AIRFLOW__CORE__TEST_CONNECTION</span></code>.</p>
<p>The following values are accepted for this config param:
1. <code class="docutils literal notranslate"><span class="pre">Disabled</span></code>: Disables the test connection functionality and
disables the Test Connection button in the UI.</p>
<p>This is also the default value set in the Airflow configuration.
2. <code class="docutils literal notranslate"><span class="pre">Enabled</span></code>: Enables the test connection functionality and
activates the Test Connection button in the UI.</p>
<p>3. <code class="docutils literal notranslate"><span class="pre">Hidden</span></code>: Disables the test connection functionality and
hides the Test Connection button in UI.</p>
<p>For more information on capabilities of users, see the documentation:
<a class="reference external" href="https://airflow.apache.org/docs/apache-airflow/stable/security/security_model.html#capabilities-of-authenticated-ui-users">https://airflow.apache.org/docs/apache-airflow/stable/security/security_model.html#capabilities-of-authenticated-ui-users</a>
It is strongly advised to <strong>not</strong> enable the feature until you make sure that only
highly trusted UI/API users have “edit connection” permissions.</p>
</section>
<section id="the-xcomentries-api-disables-support-for-the-deserialize-flag-by-default-32176">
<h4>The <code class="docutils literal notranslate"><span class="pre">xcomEntries</span></code> API disables support for the <code class="docutils literal notranslate"><span class="pre">deserialize</span></code> flag by default (#32176)<a class="headerlink" href="#the-xcomentries-api-disables-support-for-the-deserialize-flag-by-default-32176" title="Link to this heading">¶</a></h4>
<p>For security reasons, the <code class="docutils literal notranslate"><span class="pre">/dags/*/dagRuns/*/taskInstances/*/xcomEntries/*</span></code>
API endpoint now disables the <code class="docutils literal notranslate"><span class="pre">deserialize</span></code> option to deserialize arbitrary
XCom values in the webserver. For backward compatibility, server admins may set
the <code class="docutils literal notranslate"><span class="pre">[api]</span> <span class="pre">enable_xcom_deserialize_support</span></code> config to <em>True</em> to enable the
flag and restore backward compatibility.</p>
<p>However, it is strongly advised to <strong>not</strong> enable the feature, and perform
deserialization at the client side instead.</p>
</section>
<section id="change-of-the-default-celery-application-name-32526">
<h4>Change of the default Celery application name (#32526)<a class="headerlink" href="#change-of-the-default-celery-application-name-32526" title="Link to this heading">¶</a></h4>
<p>Default name of the Celery application changed from <code class="docutils literal notranslate"><span class="pre">airflow.executors.celery_executor</span></code> to <code class="docutils literal notranslate"><span class="pre">airflow.providers.celery.executors.celery_executor</span></code>.</p>
<dl class="simple">
<dt>You should change both your configuration and Health check command to use the new name:</dt><dd><ul class="simple">
<li><p>in configuration (<code class="docutils literal notranslate"><span class="pre">celery_app_name</span></code> configuration in <code class="docutils literal notranslate"><span class="pre">celery</span></code> section) use <code class="docutils literal notranslate"><span class="pre">airflow.providers.celery.executors.celery_executor</span></code></p></li>
<li><p>in your Health check command use <code class="docutils literal notranslate"><span class="pre">airflow.providers.celery.executors.celery_executor.app</span></code></p></li>
</ul>
</dd>
</dl>
</section>
<section id="the-default-value-for-scheduler-max-tis-per-query-is-changed-from-512-to-16-32572">
<h4>The default value for <code class="docutils literal notranslate"><span class="pre">scheduler.max_tis_per_query</span></code> is changed from 512 to 16 (#32572)<a class="headerlink" href="#the-default-value-for-scheduler-max-tis-per-query-is-changed-from-512-to-16-32572" title="Link to this heading">¶</a></h4>
<p>This change is expected to make the Scheduler more responsive.</p>
<p><code class="docutils literal notranslate"><span class="pre">scheduler.max_tis_per_query</span></code> needs to be lower than <code class="docutils literal notranslate"><span class="pre">core.parallelism</span></code>.
If both were left to their default value previously, the effective default value of <code class="docutils literal notranslate"><span class="pre">scheduler.max_tis_per_query</span></code> was 32
(because it was capped at <code class="docutils literal notranslate"><span class="pre">core.parallelism</span></code>).</p>
<p>To keep the behavior as close as possible to the old config, one can set <code class="docutils literal notranslate"><span class="pre">scheduler.max_tis_per_query</span> <span class="pre">=</span> <span class="pre">0</span></code>,
in which case it’ll always use the value of <code class="docutils literal notranslate"><span class="pre">core.parallelism</span></code>.</p>
</section>
<section id="some-executors-have-been-moved-to-corresponding-providers-32767">
<h4>Some executors have been moved to corresponding providers (#32767)<a class="headerlink" href="#some-executors-have-been-moved-to-corresponding-providers-32767" title="Link to this heading">¶</a></h4>
<p>In order to use the executors, you need to install the providers:</p>
<ul class="simple">
<li><p>for Celery executors you need to install <code class="docutils literal notranslate"><span class="pre">apache-airflow-providers-celery</span></code> package &gt;= 3.3.0</p></li>
<li><p>for Kubernetes executors you need to install <code class="docutils literal notranslate"><span class="pre">apache-airflow-providers-cncf-kubernetes</span></code> package &gt;= 7.4.0</p></li>
<li><p>For Dask executors you need to install <code class="docutils literal notranslate"><span class="pre">apache-airflow-providers-daskexecutor</span></code> package in any version</p></li>
</ul>
<p>You can achieve it also by installing airflow with <code class="docutils literal notranslate"><span class="pre">[celery]</span></code>, <code class="docutils literal notranslate"><span class="pre">[cncf.kubernetes]</span></code>, <code class="docutils literal notranslate"><span class="pre">[daskexecutor]</span></code> extras respectively.</p>
<p>Users who base their images on the <code class="docutils literal notranslate"><span class="pre">apache/airflow</span></code> reference image (not slim) should be unaffected - the base
reference image comes with all the three providers installed.</p>
</section>
</section>
<section id="improvement-changes">
<h3>Improvement Changes<a class="headerlink" href="#improvement-changes" title="Link to this heading">¶</a></h3>
<section id="postgresql-only-improvement-added-index-on-taskinstance-table-30762">
<h4>PostgreSQL only improvement: Added index on taskinstance table (#30762)<a class="headerlink" href="#postgresql-only-improvement-added-index-on-taskinstance-table-30762" title="Link to this heading">¶</a></h4>
<p>This index seems to have great positive effect in a setup with tens of millions such rows.</p>
</section>
<section id="id73">
<h4>New Features<a class="headerlink" href="#id73" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Add OpenTelemetry to Airflow (<a class="reference external" href="https://github.com/apache/airflow/pulls?q=is%3Apr+is%3Amerged+label%3AAIP-49+milestone%3A%22Airflow+2.7.0%22">AIP-49</a>)</p></li>
<li><p>Trigger Button - Implement Part 2 of AIP-50 (#31583)</p></li>
<li><p>Removing Executor Coupling from Core Airflow (<a class="reference external" href="https://github.com/apache/airflow/pulls?q=is%3Apr+is%3Amerged+label%3AAIP-51+milestone%3A%22Airflow+2.7.0%22">AIP-51</a>)</p></li>
<li><p>Automatic setup and teardown tasks (<a class="reference external" href="https://github.com/apache/airflow/pulls?q=is%3Apr+is%3Amerged+label%3AAIP-52+milestone%3A%22Airflow+2.7.0%22">AIP-52</a>)</p></li>
<li><p>OpenLineage in Airflow (<a class="reference external" href="https://github.com/apache/airflow/pulls?q=is%3Apr+is%3Amerged+milestone%3A%22Airflow+2.7.0%22+label%3Aprovider%3Aopenlineage">AIP-53</a>)</p></li>
<li><p>Experimental: Add a cache to Variable and Connection when called at dag parsing time (#30259)</p></li>
<li><p>Enable pools to consider deferred tasks (#32709)</p></li>
<li><p>Allows to choose SSL context for SMTP connection (#33070)</p></li>
<li><p>New gantt tab (#31806)</p></li>
<li><p>Load plugins from providers (#32692)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">BranchExternalPythonOperator</span></code> (#32787, #33360)</p></li>
<li><p>Add option for storing configuration description in providers (#32629)</p></li>
<li><p>Introduce Heartbeat Parameter to Allow <code class="docutils literal notranslate"><span class="pre">Per-LocalTaskJob</span></code> Configuration (#32313)</p></li>
<li><p>Add Executors discovery and documentation (#32532)</p></li>
<li><p>Add JobState for job state constants (#32549)</p></li>
<li><p>Add config to disable the ‘deserialize’ XCom API flag (#32176)</p></li>
<li><p>Show task instance in web UI by custom operator name (#31852)</p></li>
<li><p>Add default_deferrable config (#31712)</p></li>
<li><p>Introducing <code class="docutils literal notranslate"><span class="pre">AirflowClusterPolicySkipDag</span></code> exception (#32013)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">reactflow</span></code> for datasets graph (#31775)</p></li>
<li><p>Add an option to load the dags from db for command tasks run (#32038)</p></li>
<li><p>Add version of <code class="docutils literal notranslate"><span class="pre">chain</span></code> which doesn’t require matched lists (#31927)</p></li>
<li><p>Use operator_name instead of task_type in UI (#31662)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">--retry</span></code> and <code class="docutils literal notranslate"><span class="pre">--retry-delay</span></code> to <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">db</span> <span class="pre">check</span></code> (#31836)</p></li>
<li><p>Allow skipped task state task_instance_schema.py (#31421)</p></li>
<li><p>Add a new config for celery result_backend engine options (#30426)</p></li>
<li><p>UI Add Cluster Activity Page (#31123, #32446)</p></li>
<li><p>Adding keyboard shortcuts to common actions (#30950)</p></li>
<li><p>Adding more information to kubernetes executor logs (#29929)</p></li>
<li><p>Add support for configuring custom alembic file (#31415)</p></li>
<li><p>Add running and failed status tab for DAGs on the UI (#30429)</p></li>
<li><p>Add multi-select, proposals and labels for trigger form (#31441)</p></li>
<li><p>Making webserver config customizable (#29926)</p></li>
<li><p>Render DAGCode in the Grid View as a tab (#31113)</p></li>
<li><p>Add rest endpoint to get option of configuration (#31056)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">section</span></code> query param in get config rest API (#30936)</p></li>
<li><p>Create metrics to track <code class="docutils literal notranslate"><span class="pre">Scheduled-&gt;Queued-&gt;Running</span></code> task state transition times (#30612)</p></li>
<li><p>Mark Task Groups as Success/Failure (#30478)</p></li>
<li><p>Add CLI command to list the provider trigger info (#30822)</p></li>
<li><p>Add Fail Fast feature for DAGs (#29406)</p></li>
</ul>
</section>
<section id="id74">
<h4>Improvements<a class="headerlink" href="#id74" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Improve graph nesting logic (#33421)</p></li>
<li><p>Configurable health check threshold for triggerer (#33089, #33084)</p></li>
<li><p>add dag_run_ids and task_ids filter for the batch task instance API endpoint (#32705)</p></li>
<li><p>Ensure DAG-level references are filled on unmap (#33083)</p></li>
<li><p>Add support for arrays of different data types in the Trigger Form UI (#32734)</p></li>
<li><p>Always show gantt and code tabs (#33029)</p></li>
<li><p>Move listener success hook to after SQLAlchemy commit (#32988)</p></li>
<li><p>Rename <code class="docutils literal notranslate"><span class="pre">db</span> <span class="pre">upgrade</span></code> to <code class="docutils literal notranslate"><span class="pre">db</span> <span class="pre">migrate</span></code> and add <code class="docutils literal notranslate"><span class="pre">connections</span> <span class="pre">create-default-connections</span></code> (#32810, #33136)</p></li>
<li><p>Remove old gantt chart and redirect to grid views gantt tab (#32908)</p></li>
<li><p>Adjust graph zoom based on selected task (#32792)</p></li>
<li><p>Call listener on_task_instance_running after rendering templates (#32716)</p></li>
<li><p>Display execution_date in graph view task instance tooltip. (#32527)</p></li>
<li><p>Allow configuration to be contributed by providers (#32604, #32755, #32812)</p></li>
<li><p>Reduce default for max TIs per query, enforce <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code> parallelism (#32572)</p></li>
<li><p>Store config description in Airflow configuration object (#32669)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">isdisjoint</span></code> instead of <code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">intersection</span></code> (#32616)</p></li>
<li><p>Speed up calculation of leaves and roots for task groups (#32592)</p></li>
<li><p>Kubernetes Executor Load Time Optimizations (#30727)</p></li>
<li><p>Save DAG parsing time if dag is not schedulable (#30911)</p></li>
<li><p>Updates health check endpoint to include <code class="docutils literal notranslate"><span class="pre">dag_processor</span></code> status. (#32382)</p></li>
<li><p>Disable default allowing the testing of connections in UI, API and CLI (#32052, #33342)</p></li>
<li><p>Fix config var types under the scheduler section (#32132)</p></li>
<li><p>Allow to sort Grid View alphabetically (#32179)</p></li>
<li><p>Add hostname to triggerer metric <code class="docutils literal notranslate"><span class="pre">[triggers.running]</span></code> (#32050)</p></li>
<li><p>Improve DAG ORM cleanup code (#30614)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TriggerDagRunOperator</span></code>: Add <code class="docutils literal notranslate"><span class="pre">wait_for_completion</span></code> to <code class="docutils literal notranslate"><span class="pre">template_fields</span></code> (#31122)</p></li>
<li><p>Open links in new tab that take us away from Airflow UI (#32088)</p></li>
<li><p>Only show code tab when a task is not selected (#31744)</p></li>
<li><p>Add descriptions for celery and dask cert configs (#31822)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PythonVirtualenvOperator</span></code> termination log in alert (#31747)</p></li>
<li><p>Migration of all DAG details to existing grid view dag details panel (#31690)</p></li>
<li><p>Add a diagram to help visualize timer metrics (#30650)</p></li>
<li><p>Celery Executor load time optimizations (#31001)</p></li>
<li><p>Update code style for <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">db</span></code> commands to SQLAlchemy 2.0 style (#31486)</p></li>
<li><p>Mark uses of md5 as “not-used-for-security” in FIPS environments (#31171)</p></li>
<li><p>Add pydantic support to serde (#31565)</p></li>
<li><p>Enable search in note column in DagRun and TaskInstance (#31455)</p></li>
<li><p>Save scheduler execution time by adding new Index idea for dag_run (#30827)</p></li>
<li><p>Save scheduler execution time by caching dags (#30704)</p></li>
<li><p>Support for sorting DAGs by Last Run Date in the web UI (#31234)</p></li>
<li><p>Better typing for Job and JobRunners (#31240)</p></li>
<li><p>Add sorting logic by created_date for fetching triggers (#31151)</p></li>
<li><p>Remove DAGs.can_create on access control doc, adjust test fixture (#30862)</p></li>
<li><p>Split Celery logs into stdout/stderr (#30485)</p></li>
<li><p>Decouple metrics clients and <code class="docutils literal notranslate"><span class="pre">validators</span></code> into their own modules (#30802)</p></li>
<li><p>Description added for pagination in <code class="docutils literal notranslate"><span class="pre">get_log</span></code> api (#30729)</p></li>
<li><p>Optimize performance of scheduling mapped tasks (#30372)</p></li>
<li><p>Add sentry transport configuration option (#30419)</p></li>
<li><p>Better message on deserialization error (#30588)</p></li>
</ul>
</section>
<section id="id75">
<h4>Bug Fixes<a class="headerlink" href="#id75" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Remove user sessions when resetting password (#33347)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Gantt</span> <span class="pre">chart:</span></code> Use earliest/oldest ti dates if different than dag run start/end (#33215)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">virtualenv</span></code> detection for Python <code class="docutils literal notranslate"><span class="pre">virtualenv</span></code> operator (#33223)</p></li>
<li><p>Correctly log when there are problems trying to <code class="docutils literal notranslate"><span class="pre">chmod</span></code> <code class="docutils literal notranslate"><span class="pre">airflow.cfg</span></code> (#33118)</p></li>
<li><p>Pass app context to webserver_config.py (#32759)</p></li>
<li><p>Skip served logs for non-running task try (#32561)</p></li>
<li><p>Fix reload gunicorn workers (#32102)</p></li>
<li><p>Fix future DagRun rarely triggered by race conditions when <code class="docutils literal notranslate"><span class="pre">max_active_runs</span></code> reached its upper limit. (#31414)</p></li>
<li><p>Fix BaseOperator <code class="docutils literal notranslate"><span class="pre">get_task_instances</span></code> query (#33054)</p></li>
<li><p>Fix issue with using the various state enum value in logs (#33065)</p></li>
<li><p>Use string concatenation to prepend base URL for log_url (#33063)</p></li>
<li><p>Update graph nodes with operator style attributes (#32822)</p></li>
<li><p>Affix webserver access_denied warning to be configurable (#33022)</p></li>
<li><p>Only load task action modal if user can edit (#32992)</p></li>
<li><p>OpenAPI Spec fix nullable alongside <code class="docutils literal notranslate"><span class="pre">$ref</span></code> (#32887)</p></li>
<li><p>Make the decorators of <code class="docutils literal notranslate"><span class="pre">PythonOperator</span></code> sub-classes extend its decorator (#32845)</p></li>
<li><p>Fix check if <code class="docutils literal notranslate"><span class="pre">virtualenv</span></code> is installed in <code class="docutils literal notranslate"><span class="pre">PythonVirtualenvOperator</span></code> (#32939)</p></li>
<li><p>Unwrap Proxy before checking <code class="docutils literal notranslate"><span class="pre">__iter__</span></code> in is_container() (#32850)</p></li>
<li><p>Override base log folder by using task handler’s base_log_folder (#32781)</p></li>
<li><p>Catch arbitrary exception from run_job to prevent zombie scheduler (#32707)</p></li>
<li><p>Fix depends_on_past work for dynamic tasks (#32397)</p></li>
<li><p>Sort extra_links for predictable order in UI. (#32762)</p></li>
<li><p>Fix prefix group false graph (#32764)</p></li>
<li><p>Fix bad delete logic for dagruns (#32684)</p></li>
<li><p>Fix bug in prune_dict where empty dict and list would be removed even in strict mode (#32573)</p></li>
<li><p>Add explicit browsers list and correct rel for blank target links (#32633)</p></li>
<li><p>Handle returned None when multiple_outputs is True (#32625)</p></li>
<li><p>Fix returned value when ShortCircuitOperator condition is falsy and there is not downstream tasks (#32623)</p></li>
<li><p>Fix returned value when ShortCircuitOperator condition is falsy (#32569)</p></li>
<li><p>Fix rendering of <code class="docutils literal notranslate"><span class="pre">dagRunTimeout</span></code> (#32565)</p></li>
<li><p>Fix permissions on <code class="docutils literal notranslate"><span class="pre">/blocked</span></code> endpoint (#32571)</p></li>
<li><p>Bugfix, prevent force of unpause on trigger DAG (#32456)</p></li>
<li><p>Fix data interval in <code class="docutils literal notranslate"><span class="pre">cli.dags.trigger</span></code> command output (#32548)</p></li>
<li><p>Strip <code class="docutils literal notranslate"><span class="pre">whitespaces</span></code> from airflow connections form (#32292)</p></li>
<li><p>Add timedelta support for applicable arguments of sensors (#32515)</p></li>
<li><p>Fix incorrect default on <code class="docutils literal notranslate"><span class="pre">readonly</span></code> property in our API (#32510)</p></li>
<li><p>Add xcom map_index as a filter to xcom endpoint (#32453)</p></li>
<li><p>Fix CLI commands when custom timetable is used (#32118)</p></li>
<li><p>Use WebEncoder to encode DagRun.conf in DagRun’s list view (#32385)</p></li>
<li><p>Fix logic of the skip_all_except method (#31153)</p></li>
<li><p>Ensure dynamic tasks inside dynamic task group only marks the (#32354)</p></li>
<li><p>Handle the cases that webserver.expose_config is set to non-sensitive-only instead of boolean value (#32261)</p></li>
<li><p>Add retry functionality for handling process termination caused by database network issues (#31998)</p></li>
<li><p>Adapt Notifier for sla_miss_callback (#31887)</p></li>
<li><p>Fix XCOM view (#31807)</p></li>
<li><p>Fix for “Filter dags by tag” flickering on initial load of dags.html (#31578)</p></li>
<li><p>Fix where expanding <code class="docutils literal notranslate"><span class="pre">resizer</span></code> would not expanse grid view (#31581)</p></li>
<li><p>Fix MappedOperator-BaseOperator attr sync check (#31520)</p></li>
<li><p>Always pass named <code class="docutils literal notranslate"><span class="pre">type_</span></code> arg to drop_constraint (#31306)</p></li>
<li><p>Fix bad <code class="docutils literal notranslate"><span class="pre">drop_constraint</span></code> call in migrations (#31302)</p></li>
<li><p>Resolving problems with redesigned grid view (#31232)</p></li>
<li><p>Support <code class="docutils literal notranslate"><span class="pre">requirepass</span></code> redis sentinel (#30352)</p></li>
<li><p>Fix webserver crash when calling get <code class="docutils literal notranslate"><span class="pre">/config</span></code> (#31057)</p></li>
</ul>
</section>
<section id="id76">
<h4>Misc/Internal<a class="headerlink" href="#id76" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Modify pathspec version restriction (#33349)</p></li>
<li><p>Refactor: Simplify code in <code class="docutils literal notranslate"><span class="pre">dag_processing</span></code> (#33161)</p></li>
<li><p>For now limit <code class="docutils literal notranslate"><span class="pre">Pydantic</span></code> to <code class="docutils literal notranslate"><span class="pre">&lt;</span> <span class="pre">2.0.0</span></code> (#33235)</p></li>
<li><p>Refactor: Simplify code in models (#33181)</p></li>
<li><p>Add elasticsearch group to pre-2.7 defaults (#33166)</p></li>
<li><p>Refactor: Simplify dict manipulation in airflow/cli (#33159)</p></li>
<li><p>Remove redundant dict.keys() call (#33158)</p></li>
<li><p>Upgrade ruff to latest 0.0.282 version in pre-commits (#33152)</p></li>
<li><p>Move openlineage configuration to provider (#33124)</p></li>
<li><p>Replace State by TaskInstanceState in Airflow executors (#32627)</p></li>
<li><p>Get rid of Python 2 numeric relics (#33050)</p></li>
<li><p>Remove legacy dag code (#33058)</p></li>
<li><p>Remove legacy task instance modal (#33060)</p></li>
<li><p>Remove old graph view (#32958)</p></li>
<li><p>Move CeleryExecutor to the celery provider (#32526, #32628)</p></li>
<li><p>Move all k8S classes to <code class="docutils literal notranslate"><span class="pre">cncf.kubernetes</span></code> provider (#32767, #32891)</p></li>
<li><p>Refactor existence-checking SQL to helper (#32790)</p></li>
<li><p>Extract Dask executor to new daskexecutor provider (#32772)</p></li>
<li><p>Remove atlas configuration definition (#32776)</p></li>
<li><p>Add Redis task handler (#31855)</p></li>
<li><p>Move writing configuration for webserver to main (webserver limited) (#32766)</p></li>
<li><p>Improve getting the query count in Airflow API endpoints (#32630)</p></li>
<li><p>Remove click upper bound (#32634)</p></li>
<li><p>Add D400 <code class="docutils literal notranslate"><span class="pre">pydocstyle</span></code> check - core Airflow only (#31297)</p></li>
<li><p>D205 Support (#31742, #32575, #32213, #32212, #32591, #32449, #32450)</p></li>
<li><p>Bump word-wrap from <code class="docutils literal notranslate"><span class="pre">1.2.3</span> <span class="pre">to</span> <span class="pre">1.2.4</span></code> in <code class="docutils literal notranslate"><span class="pre">/airflow/www</span></code> (#32680)</p></li>
<li><p>Strong-type all single-state enum values (#32537)</p></li>
<li><p>More strong typed state conversion (#32521)</p></li>
<li><p>SQL query improvements in utils/db.py (#32518)</p></li>
<li><p>Bump semver from <code class="docutils literal notranslate"><span class="pre">6.3.0</span> <span class="pre">to</span> <span class="pre">6.3.1</span></code> in <code class="docutils literal notranslate"><span class="pre">/airflow/www</span></code> (#32506)</p></li>
<li><p>Bump jsonschema version to <code class="docutils literal notranslate"><span class="pre">4.18.0</span></code> (#32445)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">stylelint</span></code> from <code class="docutils literal notranslate"><span class="pre">13.13.1</span> <span class="pre">to</span> <span class="pre">15.10.1</span></code> in <code class="docutils literal notranslate"><span class="pre">/airflow/www</span></code> (#32435)</p></li>
<li><p>Bump tough-cookie from <code class="docutils literal notranslate"><span class="pre">4.0.0</span> <span class="pre">to</span> <span class="pre">4.1.3</span></code> in <code class="docutils literal notranslate"><span class="pre">/airflow/www</span></code> (#32443)</p></li>
<li><p>upgrade flask-appbuilder (#32054)</p></li>
<li><p>Support <code class="docutils literal notranslate"><span class="pre">Pydantic</span></code> 2 (#32366)</p></li>
<li><p>Limit click until we fix mypy issues (#32413)</p></li>
<li><p>A couple of minor cleanups (#31890)</p></li>
<li><p>Replace State usages with strong-typed <code class="docutils literal notranslate"><span class="pre">enums</span></code> (#31735)</p></li>
<li><p>Upgrade ruff to <code class="docutils literal notranslate"><span class="pre">0.272</span></code> (#31966)</p></li>
<li><p>Better error message when serializing callable without name (#31778)</p></li>
<li><p>Improve the views module a bit (#31661)</p></li>
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">asynctest</span></code> (#31664)</p></li>
<li><p>Refactor sqlalchemy queries to <code class="docutils literal notranslate"><span class="pre">2.0</span></code> style (#31569, #31772, #32350, #32339, #32474, #32645)</p></li>
<li><p>Remove Python <code class="docutils literal notranslate"><span class="pre">3.7</span></code> support (#30963)</p></li>
<li><p>Bring back min-airflow-version for preinstalled providers (#31469)</p></li>
<li><p>Docstring improvements (#31375)</p></li>
<li><p>Improve typing in SchedulerJobRunner (#31285)</p></li>
<li><p>Upgrade ruff to <code class="docutils literal notranslate"><span class="pre">0.0.262</span></code> (#30809)</p></li>
<li><p>Upgrade to MyPy <code class="docutils literal notranslate"><span class="pre">1.2.0</span></code> (#30687)</p></li>
</ul>
</section>
<section id="docs-only-changes">
<h4>Docs only changes<a class="headerlink" href="#docs-only-changes" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Clarify UI user types in security model (#33021)</p></li>
<li><p>Add links to <code class="docutils literal notranslate"><span class="pre">DAGRun</span> <span class="pre">/</span> <span class="pre">DAG</span> <span class="pre">/</span> <span class="pre">Task</span></code> in templates-ref.rst (#33013)</p></li>
<li><p>Add docs of how to test for DAG Import Errors (#32811)</p></li>
<li><p>Clean-up of our new security page (#32951)</p></li>
<li><p>Cleans up Extras reference page (#32954)</p></li>
<li><p>Update Dag trigger API and command docs (#32696)</p></li>
<li><p>Add deprecation info to the Airflow modules and classes docstring (#32635)</p></li>
<li><p>Formatting installation doc to improve readability (#32502)</p></li>
<li><p>Fix triggerer HA doc (#32454)</p></li>
<li><p>Add type annotation to code examples (#32422)</p></li>
<li><p>Document cron and delta timetables (#32392)</p></li>
<li><p>Update index.rst doc to correct grammar (#32315)</p></li>
<li><p>Fixing small typo in python.py (#31474)</p></li>
<li><p>Separate out and clarify policies for providers (#30657)</p></li>
<li><p>Fix docs: add an “apache” prefix to pip install (#30681)</p></li>
</ul>
</section>
</section>
</section>
<section id="airflow-2-6-3-2023-07-10">
<h2><a class="toc-backref" href="#id235" role="doc-backlink">Airflow 2.6.3 (2023-07-10)</a><a class="headerlink" href="#airflow-2-6-3-2023-07-10" title="Link to this heading">¶</a></h2>
<section id="id77">
<h3>Significant Changes<a class="headerlink" href="#id77" title="Link to this heading">¶</a></h3>
<section id="default-allowed-pattern-of-a-run-id-has-been-changed-to-a-za-z0-9-32293">
<h4>Default allowed pattern of a run_id has been changed to <code class="docutils literal notranslate"><span class="pre">^[A-Za-z0-9_.~:+-]+$</span></code> (#32293).<a class="headerlink" href="#default-allowed-pattern-of-a-run-id-has-been-changed-to-a-za-z0-9-32293" title="Link to this heading">¶</a></h4>
<p>Previously, there was no validation on the run_id string. There is now a validation regex that
can be set by configuring <code class="docutils literal notranslate"><span class="pre">allowed_run_id_pattern</span></code> in <code class="docutils literal notranslate"><span class="pre">scheduler</span></code> section.</p>
</section>
<section id="id78">
<h4>Bug Fixes<a class="headerlink" href="#id78" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Use linear time regular expressions (#32303)</p></li>
<li><p>Fix triggerers alive check and add a new conf for triggerer heartbeat rate (#32123)</p></li>
<li><p>Catch the exception that triggerer initialization failed (#31999)</p></li>
<li><p>Hide sensitive values from extra in connection edit form (#32309)</p></li>
<li><p>Sanitize <code class="docutils literal notranslate"><span class="pre">DagRun.run_id</span></code> and allow flexibility (#32293)</p></li>
<li><p>Add triggerer canceled log (#31757)</p></li>
<li><p>Fix try number shown in the task view (#32361)</p></li>
<li><p>Retry transactions on occasional deadlocks for rendered fields (#32341)</p></li>
<li><p>Fix behaviour of LazyDictWithCache when import fails (#32248)</p></li>
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">executor_class</span></code> from Job - fixing backfill for custom executors (#32219)</p></li>
<li><p>Fix bugged singleton implementation (#32218)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">mapIndex</span></code> to display extra links per mapped task. (#32154)</p></li>
<li><p>Ensure that main triggerer thread exits if the async thread fails (#32092)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">re2</span></code> for matching untrusted regex (#32060)</p></li>
<li><p>Render list items in rendered fields view (#32042)</p></li>
<li><p>Fix hashing of <code class="docutils literal notranslate"><span class="pre">dag_dependencies</span></code> in serialized dag (#32037)</p></li>
<li><p>Return <code class="docutils literal notranslate"><span class="pre">None</span></code> if an XComArg fails to resolve in a multiple_outputs Task (#32027)</p></li>
<li><p>Check for DAG ID in query param from url as well as kwargs (#32014)</p></li>
<li><p>Flash an error message instead of failure in <code class="docutils literal notranslate"><span class="pre">rendered-templates</span></code> when map index is not found (#32011)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">ExternalTaskSensor</span></code> when there is no task group TIs for the current execution date (#32009)</p></li>
<li><p>Fix number param html type in trigger template (#31980, #31946)</p></li>
<li><p>Fix masking nested variable fields (#31964)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">operator_extra_links</span></code> property serialization in mapped tasks (#31904)</p></li>
<li><p>Decode old-style nested Xcom value (#31866)</p></li>
<li><p>Add a check for trailing slash in webserver base_url (#31833)</p></li>
<li><p>Fix connection uri parsing when the host includes a scheme (#31465)</p></li>
<li><p>Fix database session closing with <code class="docutils literal notranslate"><span class="pre">xcom_pull</span></code> and <code class="docutils literal notranslate"><span class="pre">inlets</span></code> (#31128)</p></li>
<li><p>Fix DAG’s <code class="docutils literal notranslate"><span class="pre">on_failure_callback</span></code> is not invoked when task failed during testing dag. (#30965)</p></li>
<li><p>Fix airflow module version check when using <code class="docutils literal notranslate"><span class="pre">ExternalPythonOperator</span></code> and debug logging level (#30367)</p></li>
</ul>
</section>
<section id="id79">
<h4>Misc/Internal<a class="headerlink" href="#id79" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">task.sensor</span></code> annotation in type stub (#31954)</p></li>
<li><p>Limit <code class="docutils literal notranslate"><span class="pre">Pydantic</span></code> to <code class="docutils literal notranslate"><span class="pre">&lt;</span> <span class="pre">2.0.0</span></code> until we solve <code class="docutils literal notranslate"><span class="pre">2.0.0</span></code> incompatibilities (#32312)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">Pydantic</span></code> 2 pickiness about model definition (#32307)</p></li>
</ul>
</section>
<section id="id80">
<h4>Doc only changes<a class="headerlink" href="#id80" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Add explanation about tag creation and cleanup (#32406)</p></li>
<li><p>Minor updates to docs (#32369, #32315, #32310, #31794)</p></li>
<li><p>Clarify Listener API behavior (#32269)</p></li>
<li><p>Add information for users who ask for requirements (#32262)</p></li>
<li><p>Add links to DAGRun / DAG / Task in Templates Reference (#32245)</p></li>
<li><p>Add comment to warn off a potential wrong fix (#32230)</p></li>
<li><p>Add a note that we’ll need to restart triggerer to reflect any trigger change (#32140)</p></li>
<li><p>Adding missing hyperlink to the tutorial documentation (#32105)</p></li>
<li><p>Added difference between Deferrable and Non-Deferrable Operators (#31840)</p></li>
<li><p>Add comments explaining need for special “trigger end” log message (#31812)</p></li>
<li><p>Documentation update on Plugin updates. (#31781)</p></li>
<li><p>Fix SemVer link in security documentation (#32320)</p></li>
<li><p>Update security model of Airflow (#32098)</p></li>
<li><p>Update references to restructured documentation from Airflow core (#32282)</p></li>
<li><p>Separate out advanced logging configuration (#32131)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">™</span></code> to Airflow in prominent places (#31977)</p></li>
</ul>
</section>
</section>
</section>
<section id="airflow-2-6-2-2023-06-17">
<h2><a class="toc-backref" href="#id236" role="doc-backlink">Airflow 2.6.2 (2023-06-17)</a><a class="headerlink" href="#airflow-2-6-2-2023-06-17" title="Link to this heading">¶</a></h2>
<section id="id81">
<h3>Significant Changes<a class="headerlink" href="#id81" title="Link to this heading">¶</a></h3>
<p>No significant changes.</p>
</section>
<section id="id82">
<h3>Bug Fixes<a class="headerlink" href="#id82" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Cascade update of TaskInstance to TaskMap table (#31445)</p></li>
<li><p>Fix Kubernetes executors detection of deleted pods (#31274)</p></li>
<li><p>Use keyword parameters for migration methods for mssql (#31309)</p></li>
<li><p>Control permissibility of driver config in extra from airflow.cfg (#31754)</p></li>
<li><p>Fixing broken links in openapi/v1.yaml (#31619)</p></li>
<li><p>Hide old alert box when testing connection with different value (#31606)</p></li>
<li><p>Add TriggererStatus to OpenAPI spec (#31579)</p></li>
<li><p>Resolving issue where Grid won’t un-collapse when Details is collapsed (#31561)</p></li>
<li><p>Fix sorting of tags (#31553)</p></li>
<li><p>Add the missing <code class="docutils literal notranslate"><span class="pre">map_index</span></code> to the xcom key when skipping downstream tasks (#31541)</p></li>
<li><p>Fix airflow users delete CLI command (#31539)</p></li>
<li><p>Include triggerer health status in Airflow <code class="docutils literal notranslate"><span class="pre">/health</span></code> endpoint (#31529)</p></li>
<li><p>Remove dependency already registered for this task warning (#31502)</p></li>
<li><p>Use kube_client over default CoreV1Api for deleting pods (#31477)</p></li>
<li><p>Ensure min backoff in base sensor is at least 1 (#31412)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">max_active_tis_per_dagrun</span></code> for Dynamic Task Mapping (#31406)</p></li>
<li><p>Fix error handling when pre-importing modules in DAGs (#31401)</p></li>
<li><p>Fix dropdown default and adjust tutorial to use 42 as default for proof (#31400)</p></li>
<li><p>Fix crash when clearing run with task from normal to mapped (#31352)</p></li>
<li><p>Make BaseJobRunner a generic on the job class (#31287)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">url_for_asset</span></code> fallback and 404 on DAG Audit Log (#31233)</p></li>
<li><p>Don’t present an undefined execution date (#31196)</p></li>
<li><p>Added spinner activity while the logs load (#31165)</p></li>
<li><p>Include rediss to the list of supported URL schemes (#31028)</p></li>
<li><p>Optimize scheduler by skipping “non-schedulable” DAGs (#30706)</p></li>
<li><p>Save scheduler execution time during search for queued dag_runs (#30699)</p></li>
<li><p>Fix ExternalTaskSensor to work correctly with task groups (#30742)</p></li>
<li><p>Fix DAG.access_control can’t sync when clean access_control (#30340)</p></li>
<li><p>Fix failing get_safe_url tests for latest Python 3.8 and 3.9 (#31766)</p></li>
<li><p>Fix typing for POST user endpoint (#31767)</p></li>
<li><p>Fix wrong update for nested group default args (#31776)</p></li>
<li><p>Fix overriding <code class="docutils literal notranslate"><span class="pre">default_args</span></code> in nested task groups (#31608)</p></li>
<li><p>Mark <code class="docutils literal notranslate"><span class="pre">[secrets]</span> <span class="pre">backend_kwargs</span></code> as a sensitive config (#31788)</p></li>
<li><p>Executor events are not always “exited” here (#30859)</p></li>
<li><p>Validate connection IDs (#31140)</p></li>
</ul>
<section id="id83">
<h4>Misc/Internal<a class="headerlink" href="#id83" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Add Python 3.11 support (#27264)</p></li>
<li><p>Replace unicodecsv with standard csv library (#31693)</p></li>
<li><p>Bring back unicodecsv as dependency of Airflow (#31814)</p></li>
<li><p>Remove found_descendents param from get_flat_relative_ids (#31559)</p></li>
<li><p>Fix typing in external task triggers (#31490)</p></li>
<li><p>Wording the next and last run DAG columns better (#31467)</p></li>
<li><p>Skip auto-document things with :meta private: (#31380)</p></li>
<li><p>Add an example for sql_alchemy_connect_args conf (#31332)</p></li>
<li><p>Convert dask upper-binding into exclusion (#31329)</p></li>
<li><p>Upgrade FAB to 4.3.1 (#31203)</p></li>
<li><p>Added metavar and choices to –state flag in airflow dags list-jobs CLI for suggesting valid state arguments. (#31308)</p></li>
<li><p>Use only one line for tmp dir log (#31170)</p></li>
<li><p>Rephrase comment in setup.py (#31312)</p></li>
<li><p>Add fullname to owner on logging (#30185)</p></li>
<li><p>Make connection id validation consistent across interface (#31282)</p></li>
<li><p>Use single source of truth for sensitive config items (#31820)</p></li>
</ul>
</section>
</section>
<section id="id84">
<h3>Doc only changes<a class="headerlink" href="#id84" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add docstring and signature for _read_remote_logs (#31623)</p></li>
<li><p>Remove note about triggerer being 3.7+ only (#31483)</p></li>
<li><p>Fix version support information (#31468)</p></li>
<li><p>Add missing BashOperator import to documentation example (#31436)</p></li>
<li><p>Fix task.branch error caused by incorrect initial parameter (#31265)</p></li>
<li><p>Update callbacks documentation (errors and context) (#31116)</p></li>
<li><p>Add an example for dynamic task mapping with non-TaskFlow operator (#29762)</p></li>
<li><p>Few doc fixes - links, grammar and wording (#31719)</p></li>
<li><p>Add description in a few more places about adding airflow to pip install (#31448)</p></li>
<li><p>Fix table formatting in docker build documentation (#31472)</p></li>
<li><p>Update documentation for constraints installation (#31882)</p></li>
</ul>
</section>
</section>
<section id="airflow-2-6-1-2023-05-16">
<h2><a class="toc-backref" href="#id237" role="doc-backlink">Airflow 2.6.1 (2023-05-16)</a><a class="headerlink" href="#airflow-2-6-1-2023-05-16" title="Link to this heading">¶</a></h2>
<section id="id85">
<h3>Significant Changes<a class="headerlink" href="#id85" title="Link to this heading">¶</a></h3>
<section id="clarifications-of-the-external-health-check-mechanism-and-using-job-classes-31277">
<h4>Clarifications of the external Health Check mechanism and using <code class="docutils literal notranslate"><span class="pre">Job</span></code> classes (#31277).<a class="headerlink" href="#clarifications-of-the-external-health-check-mechanism-and-using-job-classes-31277" title="Link to this heading">¶</a></h4>
<p>In the past SchedulerJob and other <code class="docutils literal notranslate"><span class="pre">*Job</span></code> classes are known to have been used to perform
external health checks for Airflow components. Those are, however, Airflow DB ORM related classes.
The DB models and database structure of Airflow are considered as internal implementation detail, following
<a class="reference external" href="https://airflow.apache.org/docs/apache-airflow/stable/public-airflow-interface.html">public interface</a>).
Therefore, they should not be used for external health checks. Instead, you should use the
<code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">jobs</span> <span class="pre">check</span></code> CLI command (introduced in Airflow 2.1) for that purpose.</p>
</section>
</section>
<section id="id86">
<h3>Bug Fixes<a class="headerlink" href="#id86" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix calculation of health check threshold for SchedulerJob (#31277)</p></li>
<li><p>Fix timestamp parse failure for k8s executor pod tailing (#31175)</p></li>
<li><p>Make sure that DAG processor job row has filled value in <code class="docutils literal notranslate"><span class="pre">job_type</span></code> column (#31182)</p></li>
<li><p>Fix section name reference for <code class="docutils literal notranslate"><span class="pre">api_client_retry_configuration</span></code> (#31174)</p></li>
<li><p>Ensure the KPO runs pod mutation hooks correctly (#31173)</p></li>
<li><p>Remove worrying log message about redaction from the OpenLineage plugin (#31149)</p></li>
<li><p>Move <code class="docutils literal notranslate"><span class="pre">interleave_timestamp_parser</span></code> config to the logging section (#31102)</p></li>
<li><p>Ensure that we check worker for served logs if no local or remote logs found (#31101)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">MappedTaskGroup</span></code> import in taskinstance file (#31100)</p></li>
<li><p>Format DagBag.dagbag_report() Output (#31095)</p></li>
<li><p>Mask task attribute on task detail view (#31125)</p></li>
<li><p>Fix template error when iterating None value and fix params documentation (#31078)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">apache-hive</span></code> extra so it installs the correct package (#31068)</p></li>
<li><p>Fix issue with zip files in DAGs folder when pre-importing Airflow modules (#31061)</p></li>
<li><p>Move TaskInstanceKey to a separate file to fix circular import (#31033, #31204)</p></li>
<li><p>Fix deleting DagRuns and TaskInstances that have a note (#30987)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">providers</span> <span class="pre">get</span></code> command output (#30978)</p></li>
<li><p>Fix Pool schema in the OpenAPI spec (#30973)</p></li>
<li><p>Add support for dynamic tasks with template fields that contain <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code> (#30943)</p></li>
<li><p>Use the Task Group explicitly passed to ‘partial’ if any (#30933)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">order_by</span></code> request in list DAG rest api (#30926)</p></li>
<li><p>Include node height/width in center-on-task logic (#30924)</p></li>
<li><p>Remove print from dag trigger command (#30921)</p></li>
<li><p>Improve task group UI in new graph (#30918)</p></li>
<li><p>Fix mapped states in grid view (#30916)</p></li>
<li><p>Fix problem with displaying graph (#30765)</p></li>
<li><p>Fix backfill KeyError when try_number out of sync (#30653)</p></li>
<li><p>Re-enable clear and setting state in the TaskInstance UI (#30415)</p></li>
<li><p>Prevent DagRun’s <code class="docutils literal notranslate"><span class="pre">state</span></code> and <code class="docutils literal notranslate"><span class="pre">start_date</span></code> from being reset when clearing a task in a running DagRun (#30125)</p></li>
</ul>
<section id="id87">
<h4>Misc/Internal<a class="headerlink" href="#id87" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Upper bind dask until they solve a side effect in their test suite (#31259)</p></li>
<li><p>Show task instances affected by clearing in a table (#30633)</p></li>
<li><p>Fix missing models in API documentation (#31021)</p></li>
</ul>
</section>
<section id="id88">
<h4>Doc only changes<a class="headerlink" href="#id88" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Improve description of the <code class="docutils literal notranslate"><span class="pre">dag_processing.processes</span></code> metric (#30891)</p></li>
<li><p>Improve Quick Start instructions (#30820)</p></li>
<li><p>Add section about missing task logs to the FAQ (#30717)</p></li>
<li><p>Mount the <code class="docutils literal notranslate"><span class="pre">config</span></code> directory in docker compose (#30662)</p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">version_added</span></code> config field for <code class="docutils literal notranslate"><span class="pre">might_contain_dag</span></code> and <code class="docutils literal notranslate"><span class="pre">metrics_allow_list</span></code> (#30969)</p></li>
</ul>
</section>
</section>
</section>
<section id="airflow-2-6-0-2023-04-30">
<h2><a class="toc-backref" href="#id238" role="doc-backlink">Airflow 2.6.0 (2023-04-30)</a><a class="headerlink" href="#airflow-2-6-0-2023-04-30" title="Link to this heading">¶</a></h2>
<section id="id89">
<h3>Significant Changes<a class="headerlink" href="#id89" title="Link to this heading">¶</a></h3>
<section id="default-permissions-of-file-task-handler-log-directories-and-files-has-been-changed-to-owner-group-writeable-29506">
<h4>Default permissions of file task handler log directories and files has been changed to “owner + group” writeable (#29506).<a class="headerlink" href="#default-permissions-of-file-task-handler-log-directories-and-files-has-been-changed-to-owner-group-writeable-29506" title="Link to this heading">¶</a></h4>
<p>Default setting handles case where impersonation is needed and both users (airflow and the impersonated user)
have the same group set as main group. Previously the default was also other-writeable and the user might choose
to use the other-writeable setting if they wish by configuring <code class="docutils literal notranslate"><span class="pre">file_task_handler_new_folder_permissions</span></code>
and <code class="docutils literal notranslate"><span class="pre">file_task_handler_new_file_permissions</span></code> in <code class="docutils literal notranslate"><span class="pre">logging</span></code> section.</p>
</section>
<section id="sla-callbacks-no-longer-add-files-to-the-dag-processor-manager-s-queue-30076">
<h4>SLA callbacks no longer add files to the dag processor manager’s queue (#30076)<a class="headerlink" href="#sla-callbacks-no-longer-add-files-to-the-dag-processor-manager-s-queue-30076" title="Link to this heading">¶</a></h4>
<p>This stops SLA callbacks from keeping the dag processor manager permanently busy. It means reduced CPU,
and fixes issues where SLAs stop the system from seeing changes to existing dag files. Additional metrics added to help track queue state.</p>
</section>
<section id="the-cleanup-method-in-basetrigger-is-now-defined-as-asynchronous-following-async-await-pattern-30152">
<h4>The <code class="docutils literal notranslate"><span class="pre">cleanup()</span></code> method in BaseTrigger is now defined as asynchronous (following async/await) pattern (#30152).<a class="headerlink" href="#the-cleanup-method-in-basetrigger-is-now-defined-as-asynchronous-following-async-await-pattern-30152" title="Link to this heading">¶</a></h4>
<p>This is potentially a breaking change for any custom trigger implementations that override the <code class="docutils literal notranslate"><span class="pre">cleanup()</span></code>
method and uses synchronous code, however using synchronous operations in cleanup was technically wrong,
because the method was executed in the main loop of the Triggerer and it was introducing unnecessary delays
impacting other triggers. The change is unlikely to affect any existing trigger implementations.</p>
</section>
<section id="the-gauge-scheduler-tasks-running-no-longer-exist-30374">
<h4>The gauge <code class="docutils literal notranslate"><span class="pre">scheduler.tasks.running</span></code> no longer exist (#30374)<a class="headerlink" href="#the-gauge-scheduler-tasks-running-no-longer-exist-30374" title="Link to this heading">¶</a></h4>
<p>The gauge has never been working and its value has always been 0. Having an accurate
value for this metric is complex so it has been decided that removing this gauge makes
more sense than fixing it with no certainty of the correctness of its value.</p>
</section>
<section id="consolidate-handling-of-tasks-stuck-in-queued-under-new-task-queued-timeout-config-30375">
<h4>Consolidate handling of tasks stuck in queued under new <code class="docutils literal notranslate"><span class="pre">task_queued_timeout</span></code> config (#30375)<a class="headerlink" href="#consolidate-handling-of-tasks-stuck-in-queued-under-new-task-queued-timeout-config-30375" title="Link to this heading">¶</a></h4>
<p>Logic for handling tasks stuck in the queued state has been consolidated, and the all configurations
responsible for timing out stuck queued tasks have been deprecated and merged into
<code class="docutils literal notranslate"><span class="pre">[scheduler]</span> <span class="pre">task_queued_timeout</span></code>. The configurations that have been deprecated are
<code class="docutils literal notranslate"><span class="pre">[kubernetes]</span> <span class="pre">worker_pods_pending_timeout</span></code>, <code class="docutils literal notranslate"><span class="pre">[celery]</span> <span class="pre">stalled_task_timeout</span></code>, and
<code class="docutils literal notranslate"><span class="pre">[celery]</span> <span class="pre">task_adoption_timeout</span></code>. If any of these configurations are set, the longest timeout will be
respected. For example, if <code class="docutils literal notranslate"><span class="pre">[celery]</span> <span class="pre">stalled_task_timeout</span></code> is 1200, and <code class="docutils literal notranslate"><span class="pre">[scheduler]</span> <span class="pre">task_queued_timeout</span></code>
is 600, Airflow will set <code class="docutils literal notranslate"><span class="pre">[scheduler]</span> <span class="pre">task_queued_timeout</span></code> to 1200.</p>
</section>
</section>
<section id="id90">
<h3>Improvement Changes<a class="headerlink" href="#id90" title="Link to this heading">¶</a></h3>
<section id="display-only-the-running-configuration-in-configurations-view-28892">
<h4>Display only the running configuration in configurations view (#28892)<a class="headerlink" href="#display-only-the-running-configuration-in-configurations-view-28892" title="Link to this heading">¶</a></h4>
<p>The configurations view now only displays the running configuration. Previously, the default configuration
was displayed at the top but it was not obvious whether this default configuration was overridden or not.
Subsequently, the non-documented endpoint <code class="docutils literal notranslate"><span class="pre">/configuration?raw=true</span></code> is deprecated and will be removed in
Airflow 3.0. The HTTP response now returns an additional <code class="docutils literal notranslate"><span class="pre">Deprecation</span></code> header. The <code class="docutils literal notranslate"><span class="pre">/config</span></code> endpoint on
the REST API is the standard way to fetch Airflow configuration programmatically.</p>
</section>
<section id="explicit-skipped-states-list-for-externaltasksensor-29933">
<h4>Explicit skipped states list for ExternalTaskSensor (#29933)<a class="headerlink" href="#explicit-skipped-states-list-for-externaltasksensor-29933" title="Link to this heading">¶</a></h4>
<p>ExternalTaskSensor now has an explicit <code class="docutils literal notranslate"><span class="pre">skipped_states</span></code> list</p>
</section>
</section>
<section id="miscellaneous-changes">
<h3>Miscellaneous Changes<a class="headerlink" href="#miscellaneous-changes" title="Link to this heading">¶</a></h3>
<section id="handle-overflowerror-on-exponential-backoff-in-next-run-calculation-28172">
<h4>Handle OverflowError on exponential backoff in next_run_calculation (#28172)<a class="headerlink" href="#handle-overflowerror-on-exponential-backoff-in-next-run-calculation-28172" title="Link to this heading">¶</a></h4>
<p>Maximum retry task delay is set to be 24h (86400s) by default. You can change it globally via <code class="docutils literal notranslate"><span class="pre">core.max_task_retry_delay</span></code>
parameter.</p>
</section>
<section id="move-hive-macros-to-the-provider-28538">
<h4>Move Hive macros to the provider (#28538)<a class="headerlink" href="#move-hive-macros-to-the-provider-28538" title="Link to this heading">¶</a></h4>
<p>The Hive Macros (<code class="docutils literal notranslate"><span class="pre">hive.max_partition</span></code>, <code class="docutils literal notranslate"><span class="pre">hive.closest_ds_partition</span></code>) are available only when Hive Provider is
installed. Please install Hive Provider &gt; 5.1.0 when using those macros.</p>
</section>
<section id="updated-app-to-support-configuring-the-caching-hash-method-for-fips-v2-30675">
<h4>Updated app to support configuring the caching hash method for FIPS v2 (#30675)<a class="headerlink" href="#updated-app-to-support-configuring-the-caching-hash-method-for-fips-v2-30675" title="Link to this heading">¶</a></h4>
<p>Various updates for FIPS-compliance when running Airflow in Python 3.9+. This includes a new webserver option, <code class="docutils literal notranslate"><span class="pre">caching_hash_method</span></code>,
for changing the default flask caching method.</p>
</section>
</section>
<section id="id91">
<h3>New Features<a class="headerlink" href="#id91" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>AIP-50 Trigger DAG UI Extension with Flexible User Form Concept (#27063,#29376)</p></li>
<li><p>Skip PythonVirtualenvOperator task when it returns a provided exit code (#30690)</p></li>
<li><p>rename skip_exit_code to skip_on_exit_code and allow providing multiple codes (#30692)</p></li>
<li><p>Add skip_on_exit_code also to ExternalPythonOperator (#30738)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">max_active_tis_per_dagrun</span></code> for Dynamic Task Mapping (#29094)</p></li>
<li><p>Add serializer for pandas dataframe (#30390)</p></li>
<li><p>Deferrable <code class="docutils literal notranslate"><span class="pre">TriggerDagRunOperator</span></code> (#30292)</p></li>
<li><p>Add command to get DAG Details via CLI (#30432)</p></li>
<li><p>Adding ContinuousTimetable and support for &#64;continuous schedule_interval (#29909)</p></li>
<li><p>Allow customized rules to check if a file has dag (#30104)</p></li>
<li><p>Add a new Airflow conf to specify a SSL ca cert for Kubernetes client (#30048)</p></li>
<li><p>Bash sensor has an explicit retry code (#30080)</p></li>
<li><p>Add filter task upstream/downstream to grid view (#29885)</p></li>
<li><p>Add testing a connection via Airflow CLI (#29892)</p></li>
<li><p>Support deleting the local log files when using remote logging (#29772)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Blocklist</span></code> to disable specific metric tags or metric names (#29881)</p></li>
<li><p>Add a new graph inside of the grid view (#29413)</p></li>
<li><p>Add database <code class="docutils literal notranslate"><span class="pre">check_migrations</span></code> config (#29714)</p></li>
<li><p>add output format arg for <code class="docutils literal notranslate"><span class="pre">cli.dags.trigger</span></code> (#29224)</p></li>
<li><p>Make json and yaml available in templates (#28930)</p></li>
<li><p>Enable tagged metric names for existing Statsd metric publishing events | influxdb-statsd support (#29093)</p></li>
<li><p>Add arg –yes to <code class="docutils literal notranslate"><span class="pre">db</span> <span class="pre">export-archived</span></code> command. (#29485)</p></li>
<li><p>Make the policy functions pluggable (#28558)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">db</span> <span class="pre">drop-archived</span></code> command (#29309)</p></li>
<li><p>Enable individual trigger logging (#27758)</p></li>
<li><p>Implement new filtering options in graph view (#29226)</p></li>
<li><p>Add triggers for ExternalTask (#29313)</p></li>
<li><p>Add command to export purged records to CSV files (#29058)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">FileTrigger</span></code> (#29265)</p></li>
<li><p>Emit DataDog statsd metrics with metadata tags (#28961)</p></li>
<li><p>Add some statsd metrics for dataset (#28907)</p></li>
<li><p>Add –overwrite option to <code class="docutils literal notranslate"><span class="pre">connections</span> <span class="pre">import</span></code> CLI command (#28738)</p></li>
<li><p>Add general-purpose “notifier” concept to DAGs (#28569)</p></li>
<li><p>Add a new conf to wait past_deps before skipping a task (#27710)</p></li>
<li><p>Add Flink on K8s Operator  (#28512)</p></li>
<li><p>Allow Users to disable SwaggerUI via configuration (#28354)</p></li>
<li><p>Show mapped task groups in graph (#28392)</p></li>
<li><p>Log FileTaskHandler to work with KubernetesExecutor’s multi_namespace_mode (#28436)</p></li>
<li><p>Add a new config for adapting masked secrets to make it easier to prevent secret leakage in logs (#28239)</p></li>
<li><p>List specific config section and its values using the cli (#28334)</p></li>
<li><p>KubernetesExecutor multi_namespace_mode can use namespace list to avoid requiring cluster role (#28047)</p></li>
<li><p>Automatically save and allow restore of recent DAG run configs (#27805)</p></li>
<li><p>Added exclude_microseconds to cli (#27640)</p></li>
</ul>
<section id="id92">
<h4>Improvements<a class="headerlink" href="#id92" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Rename most pod_id usage to pod_name in KubernetesExecutor (#29147)</p></li>
<li><p>Update the error message for invalid use of poke-only sensors (#30821)</p></li>
<li><p>Update log level in scheduler critical section edge case (#30694)</p></li>
<li><p>AIP-51 Removing Executor Coupling from Core Airflow (<a class="reference external" href="https://github.com/apache/airflow/pulls?q=is%3Apr+is%3Amerged+label%3AAIP-51+milestone%3A%22Airflow+2.6.0%22">AIP-51</a>)</p></li>
<li><p>Add multiple exit code handling in skip logic for BashOperator (#30739)</p></li>
<li><p>Updated app to support configuring the caching hash method for FIPS v2 (#30675)</p></li>
<li><p>Preload airflow imports before dag parsing to save time (#30495)</p></li>
<li><p>Improve task &amp; run actions <code class="docutils literal notranslate"><span class="pre">UX</span></code> in grid view (#30373)</p></li>
<li><p>Speed up TaskGroups with caching property of group_id (#30284)</p></li>
<li><p>Use the engine provided in the session (#29804)</p></li>
<li><p>Type related import optimization for Executors (#30361)</p></li>
<li><p>Add more type hints to the code base (#30503)</p></li>
<li><p>Always use self.appbuilder.get_session in security managers (#30233)</p></li>
<li><p>Update SQLAlchemy <code class="docutils literal notranslate"><span class="pre">select()</span></code> to new style (#30515)</p></li>
<li><p>Refactor out xcom constants from models (#30180)</p></li>
<li><p>Add exception class name to DAG-parsing error message (#30105)</p></li>
<li><p>Rename statsd_allow_list and statsd_block_list to <code class="docutils literal notranslate"><span class="pre">metrics_*_list</span></code> (#30174)</p></li>
<li><p>Improve serialization of tuples and sets (#29019)</p></li>
<li><p>Make cleanup method in trigger an async one (#30152)</p></li>
<li><p>Lazy load serialization modules (#30094)</p></li>
<li><p>SLA callbacks no longer add files to the dag_processing manager queue (#30076)</p></li>
<li><p>Add task.trigger rule to grid_data (#30130)</p></li>
<li><p>Speed up log template sync by avoiding ORM (#30119)</p></li>
<li><p>Separate cli_parser.py into two modules (#29962)</p></li>
<li><p>Explicit skipped states list for ExternalTaskSensor (#29933)</p></li>
<li><p>Add task state hover highlighting to new graph (#30100)</p></li>
<li><p>Store grid tabs in url params (#29904)</p></li>
<li><p>Use custom Connexion resolver to load lazily (#29992)</p></li>
<li><p>Delay Kubernetes import in secret masker (#29993)</p></li>
<li><p>Delay ConnectionModelView init until it’s accessed (#29946)</p></li>
<li><p>Scheduler, make stale DAG deactivation threshold configurable instead of using dag processing timeout (#29446)</p></li>
<li><p>Improve grid view height calculations (#29563)</p></li>
<li><p>Avoid importing executor during conf validation (#29569)</p></li>
<li><p>Make permissions for FileTaskHandler group-writeable and configurable (#29506)</p></li>
<li><p>Add colors in help outputs of Airflow CLI commands #28789 (#29116)</p></li>
<li><p>Add a param for get_dags endpoint to list only unpaused dags (#28713)</p></li>
<li><p>Expose updated_at filter for dag run and task instance endpoints (#28636)</p></li>
<li><p>Increase length of user identifier columns (#29061)</p></li>
<li><p>Update gantt chart UI to display queued state of tasks (#28686)</p></li>
<li><p>Add index on log.dttm (#28944)</p></li>
<li><p>Display only the running configuration in configurations view (#28892)</p></li>
<li><p>Cap dropdown menu size dynamically (#28736)</p></li>
<li><p>Added JSON linter to connection edit / add UI for field extra. On connection edit screen, existing extra data will be displayed indented (#28583)</p></li>
<li><p>Use labels instead of pod name for pod log read in k8s exec (#28546)</p></li>
<li><p>Use time not tries for queued &amp; running re-checks. (#28586)</p></li>
<li><p>CustomTTYColoredFormatter should inherit TimezoneAware formatter (#28439)</p></li>
<li><p>Improve past depends handling in Airflow CLI tasks.run command (#28113)</p></li>
<li><p>Support using a list of callbacks in <code class="docutils literal notranslate"><span class="pre">on_*_callback/sla_miss_callbacks</span></code> (#28469)</p></li>
<li><p>Better table name validation for db clean (#28246)</p></li>
<li><p>Use object instead of array in config.yml for config template (#28417)</p></li>
<li><p>Add markdown rendering for task notes. (#28245)</p></li>
<li><p>Show mapped task groups in grid view (#28208)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">renamed</span></code> and <code class="docutils literal notranslate"><span class="pre">previous_name</span></code> in config sections (#28324)</p></li>
<li><p>Speed up most Users/Role CLI commands (#28259)</p></li>
<li><p>Speed up Airflow role list command (#28244)</p></li>
<li><p>Refactor serialization (#28067, #30819, #30823)</p></li>
<li><p>Allow longer pod names for k8s executor / KPO (#27736)</p></li>
<li><p>Updates health check endpoint to include <code class="docutils literal notranslate"><span class="pre">triggerer</span></code> status (#27755)</p></li>
</ul>
</section>
<section id="id93">
<h4>Bug Fixes<a class="headerlink" href="#id93" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Fix static_folder for cli app (#30952)</p></li>
<li><p>Initialize plugins for cli appbuilder (#30934)</p></li>
<li><p>Fix dag file processor heartbeat to run only if necessary (#30899)</p></li>
<li><p>Fix KubernetesExecutor sending state to scheduler (#30872)</p></li>
<li><p>Count mapped upstream only if all are finished (#30641)</p></li>
<li><p>ExternalTaskSensor: add external_task_group_id to template_fields (#30401)</p></li>
<li><p>Improve url detection for task instance details (#30779)</p></li>
<li><p>Use material icons for dag import error banner (#30771)</p></li>
<li><p>Fix misc grid/graph view UI bugs (#30752)</p></li>
<li><p>Add a collapse grid button (#30711)</p></li>
<li><p>Fix d3 dependencies (#30702)</p></li>
<li><p>Simplify logic to resolve tasks stuck in queued despite stalled_task_timeout (#30375)</p></li>
<li><p>When clearing task instances try to get associated DAGs from database (#29065)</p></li>
<li><p>Fix mapped tasks partial arguments when DAG default args are provided (#29913)</p></li>
<li><p>Deactivate DAGs deleted from within zip files (#30608)</p></li>
<li><p>Recover from <code class="docutils literal notranslate"><span class="pre">too</span> <span class="pre">old</span> <span class="pre">resource</span> <span class="pre">version</span> <span class="pre">exception</span></code> by retrieving the latest <code class="docutils literal notranslate"><span class="pre">resource_version</span></code> (#30425)</p></li>
<li><p>Fix possible race condition when refreshing DAGs (#30392)</p></li>
<li><p>Use custom validator for OpenAPI request body (#30596)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">TriggerDagRunOperator</span></code> with deferrable parameter (#30406)</p></li>
<li><p>Speed up dag runs deletion (#30330)</p></li>
<li><p>Do not use template literals to construct html elements (#30447)</p></li>
<li><p>Fix deprecation warning in <code class="docutils literal notranslate"><span class="pre">example_sensor_decorator</span></code> DAG (#30513)</p></li>
<li><p>Avoid logging sensitive information in triggerer job log (#30110)</p></li>
<li><p>Add a new parameter for base sensor to catch the exceptions in poke method (#30293)</p></li>
<li><p>Fix dag run conf encoding with non-JSON serializable values (#28777)</p></li>
<li><p>Added fixes for Airflow to be usable on Windows Dask-Workers (#30249)</p></li>
<li><p>Force DAG last modified time to UTC (#30243)</p></li>
<li><p>Fix EmptySkipOperator in example dag (#30269)</p></li>
<li><p>Make the webserver startup respect update_fab_perms (#30246)</p></li>
<li><p>Ignore error when changing log folder permissions (#30123)</p></li>
<li><p>Disable ordering DagRuns by note (#30043)</p></li>
<li><p>Fix reading logs from finished KubernetesExecutor worker pod (#28817)</p></li>
<li><p>Mask out non-access bits when comparing file modes (#29886)</p></li>
<li><p>Remove Run task action from UI (#29706)</p></li>
<li><p>Fix log tailing issues with legacy log view (#29496)</p></li>
<li><p>Fixes to how DebugExecutor handles sensors (#28528)</p></li>
<li><p>Ensure that pod_mutation_hook is called before logging the pod name (#28534)</p></li>
<li><p>Handle OverflowError on exponential backoff in next_run_calculation (#28172)</p></li>
</ul>
</section>
<section id="id94">
<h4>Misc/Internal<a class="headerlink" href="#id94" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Make eager upgrade additional dependencies optional (#30811)</p></li>
<li><p>Upgrade to pip 23.1.1 (#30808)</p></li>
<li><p>Remove protobuf limitation from eager upgrade (#30182)</p></li>
<li><p>Remove protobuf limitation from eager upgrade (#30182)</p></li>
<li><p>Deprecate <code class="docutils literal notranslate"><span class="pre">skip_exit_code</span></code> in <code class="docutils literal notranslate"><span class="pre">BashOperator</span></code> (#30734)</p></li>
<li><p>Remove gauge <code class="docutils literal notranslate"><span class="pre">scheduler.tasks.running</span></code> (#30374)</p></li>
<li><p>Bump json5 to 1.0.2 and eslint-plugin-import to 2.27.5 in <code class="docutils literal notranslate"><span class="pre">/airflow/www</span></code> (#30568)</p></li>
<li><p>Add tests to PythonOperator (#30362)</p></li>
<li><p>Add asgiref as a core dependency (#30527)</p></li>
<li><p>Discovery safe mode toggle comment clarification (#30459)</p></li>
<li><p>Upgrade moment-timezone package to fix Tehran tz (#30455)</p></li>
<li><p>Bump loader-utils from 2.0.0 to 2.0.4 in <code class="docutils literal notranslate"><span class="pre">/airflow/www</span></code> (#30319)</p></li>
<li><p>Bump babel-loader from 8.1.0 to 9.1.0 in <code class="docutils literal notranslate"><span class="pre">/airflow/www</span></code> (#30316)</p></li>
<li><p>DagBag: Use <code class="docutils literal notranslate"><span class="pre">dag.fileloc</span></code> instead of <code class="docutils literal notranslate"><span class="pre">dag.full_filepath</span></code> in exception message (#30610)</p></li>
<li><p>Change log level of serialization information (#30239)</p></li>
<li><p>Minor DagRun helper method cleanup (#30092)</p></li>
<li><p>Improve type hinting in stats.py (#30024)</p></li>
<li><p>Limit <code class="docutils literal notranslate"><span class="pre">importlib-metadata</span></code> backport to &lt; 5.0.0 (#29924)</p></li>
<li><p>Align cncf provider file names with AIP-21 (#29905)</p></li>
<li><p>Upgrade FAB to 4.3.0 (#29766)</p></li>
<li><p>Clear ExecutorLoader cache in tests (#29849)</p></li>
<li><p>Lazy load Task Instance logs in UI (#29827)</p></li>
<li><p>added warning log for max page limit exceeding api calls (#29788)</p></li>
<li><p>Aggressively cache entry points in process (#29625)</p></li>
<li><p>Don’t use <code class="docutils literal notranslate"><span class="pre">importlib.metadata</span></code> to get Version for speed (#29723)</p></li>
<li><p>Upgrade Mypy to 1.0 (#29468)</p></li>
<li><p>Rename <code class="docutils literal notranslate"><span class="pre">db</span> <span class="pre">export-cleaned</span></code> to <code class="docutils literal notranslate"><span class="pre">db</span> <span class="pre">export-archived</span></code> (#29450)</p></li>
<li><p>listener: simplify API by replacing SQLAlchemy event-listening by direct calls (#29289)</p></li>
<li><p>No multi-line log entry for bash env vars (#28881)</p></li>
<li><p>Switch to ruff for faster static checks (#28893)</p></li>
<li><p>Remove horizontal lines in TI logs (#28876)</p></li>
<li><p>Make allowed_deserialization_classes more intuitive (#28829)</p></li>
<li><p>Propagate logs to stdout when in k8s executor pod (#28440, #30860)</p></li>
<li><p>Fix code readability, add docstrings to json_client (#28619)</p></li>
<li><p>AIP-51 - Misc. Compatibility Checks (#28375)</p></li>
<li><p>Fix is_local for LocalKubernetesExecutor (#28288)</p></li>
<li><p>Move Hive macros to the provider (#28538)</p></li>
<li><p>Rerun flaky PinotDB integration test (#28562)</p></li>
<li><p>Add pre-commit hook to check session default value (#28007)</p></li>
<li><p>Refactor get_mapped_group_summaries for web UI (#28374)</p></li>
<li><p>Add support for k8s 1.26 (#28320)</p></li>
<li><p>Replace <code class="docutils literal notranslate"><span class="pre">freezegun</span></code> with time-machine (#28193)</p></li>
<li><p>Completed D400 for <code class="docutils literal notranslate"><span class="pre">airflow/kubernetes/*</span></code> (#28212)</p></li>
<li><p>Completed D400 for multiple folders (#27969)</p></li>
<li><p>Drop k8s 1.21 and 1.22 support (#28168)</p></li>
<li><p>Remove unused task_queue attr from k8s scheduler class (#28049)</p></li>
<li><p>Completed D400 for multiple folders (#27767, #27768)</p></li>
</ul>
</section>
<section id="id95">
<h4>Doc only changes<a class="headerlink" href="#id95" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Add instructions on how to avoid accidental airflow upgrade/downgrade (#30813)</p></li>
<li><p>Add explicit information about how to write task logs (#30732)</p></li>
<li><p>Better explanation on how to log from tasks (#30746)</p></li>
<li><p>Use correct import path for Dataset (#30617)</p></li>
<li><p>Create <code class="docutils literal notranslate"><span class="pre">audit_logs.rst</span></code> (#30405)</p></li>
<li><p>Adding taskflow API example for sensors (#30344)</p></li>
<li><p>Add clarification about timezone aware dags (#30467)</p></li>
<li><p>Clarity params documentation (#30345)</p></li>
<li><p>Fix unit for task duration metric (#30273)</p></li>
<li><p>Update dag-run.rst for dead links of cli commands (#30254)</p></li>
<li><p>Add Write efficient Python code section to Reducing DAG complexity (#30158)</p></li>
<li><p>Allow to specify which connection, variable or config are being looked up in the backend using <code class="docutils literal notranslate"><span class="pre">*_lookup_pattern</span></code> parameters (#29580)</p></li>
<li><p>Add Documentation for notification feature extension (#29191)</p></li>
<li><p>Clarify that executor interface is public but instances are not (#29200)</p></li>
<li><p>Add Public Interface description to Airflow documentation (#28300)</p></li>
<li><p>Add documentation for task group mapping (#28001)</p></li>
<li><p>Some fixes to metrics doc (#30290)</p></li>
</ul>
</section>
</section>
</section>
<section id="airflow-2-5-3-2023-04-01">
<h2><a class="toc-backref" href="#id239" role="doc-backlink">Airflow 2.5.3 (2023-04-01)</a><a class="headerlink" href="#airflow-2-5-3-2023-04-01" title="Link to this heading">¶</a></h2>
<section id="id96">
<h3>Significant Changes<a class="headerlink" href="#id96" title="Link to this heading">¶</a></h3>
<p>No significant changes.</p>
</section>
<section id="id97">
<h3>Bug Fixes<a class="headerlink" href="#id97" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix DagProcessorJob integration for standalone dag-processor (#30278)</p></li>
<li><p>Fix proper termination of gunicorn when it hangs (#30188)</p></li>
<li><p>Fix XCom.get_one exactly one exception text (#30183)</p></li>
<li><p>Correct the VARCHAR size to 250. (#30178)</p></li>
<li><p>Revert fix for on_failure_callback when task receives a SIGTERM (#30165)</p></li>
<li><p>Move read only property to DagState to fix generated docs (#30149)</p></li>
<li><p>Ensure that <code class="docutils literal notranslate"><span class="pre">dag.partial_subset</span></code> doesn’t mutate task group properties (#30129)</p></li>
<li><p>Fix inconsistent returned value of <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">dags</span> <span class="pre">next-execution</span></code> cli command (#30117)</p></li>
<li><p>Fix www/utils.dag_run_link redirection (#30098)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">TriggerRuleDep</span></code> when the mapped tasks count is 0 (#30084)</p></li>
<li><p>Dag processor manager, add retry_db_transaction to _fetch_callbacks (#30079)</p></li>
<li><p>Fix db clean command for mysql db (#29999)</p></li>
<li><p>Avoid considering EmptyOperator in mini scheduler (#29979)</p></li>
<li><p>Fix some long known Graph View UI problems (#29971, #30355, #30360)</p></li>
<li><p>Fix dag docs toggle icon initial angle (#29970)</p></li>
<li><p>Fix tags selection in DAGs UI (#29944)</p></li>
<li><p>Including airflow/example_dags/sql/sample.sql in MANIFEST.in (#29883)</p></li>
<li><p>Fixing broken filter in /taskinstance/list view (#29850)</p></li>
<li><p>Allow generic param dicts (#29782)</p></li>
<li><p>Fix update_mask in patch variable route (#29711)</p></li>
<li><p>Strip markup from app_name if instance_name_has_markup = True (#28894)</p></li>
</ul>
</section>
<section id="id98">
<h3>Misc/Internal<a class="headerlink" href="#id98" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Revert “Also limit importlib on Python 3.9 (#30069)” (#30209)</p></li>
<li><p>Add custom_operator_name to &#64;task.sensor tasks (#30131)</p></li>
<li><p>Bump webpack from 5.73.0 to 5.76.0 in /airflow/www (#30112)</p></li>
<li><p>Formatted config (#30103)</p></li>
<li><p>Remove upper bound limit of astroid (#30033)</p></li>
<li><p>Remove accidentally merged vendor daemon patch code (#29895)</p></li>
<li><p>Fix warning in airflow tasks test command regarding absence of data_interval (#27106)</p></li>
</ul>
</section>
<section id="id99">
<h3>Doc only changes<a class="headerlink" href="#id99" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Adding more information regarding top level code (#30040)</p></li>
<li><p>Update workday example (#30026)</p></li>
<li><p>Fix some typos in the DAGs docs (#30015)</p></li>
<li><p>Update set-up-database.rst (#29991)</p></li>
<li><p>Fix some typos on the kubernetes documentation (#29936)</p></li>
<li><p>Fix some punctuation and grammar (#29342)</p></li>
</ul>
</section>
</section>
<section id="airflow-2-5-2-2023-03-15">
<h2><a class="toc-backref" href="#id240" role="doc-backlink">Airflow 2.5.2 (2023-03-15)</a><a class="headerlink" href="#airflow-2-5-2-2023-03-15" title="Link to this heading">¶</a></h2>
<section id="id100">
<h3>Significant Changes<a class="headerlink" href="#id100" title="Link to this heading">¶</a></h3>
<section id="the-date-time-fields-passed-as-api-parameters-or-params-should-be-rfc3339-compliant-29395">
<h4>The date-time fields passed as API parameters or Params should be RFC3339-compliant (#29395)<a class="headerlink" href="#the-date-time-fields-passed-as-api-parameters-or-params-should-be-rfc3339-compliant-29395" title="Link to this heading">¶</a></h4>
<p>In case of API calls, it was possible that “+” passed as part of the date-time fields were not URL-encoded, and
such date-time fields could pass validation. Such date-time parameters should now be URL-encoded (as <code class="docutils literal notranslate"><span class="pre">%2B</span></code>).</p>
<p>In case of parameters, we still allow IS8601-compliant date-time (so for example it is possible that
‘ ‘ was used instead of <code class="docutils literal notranslate"><span class="pre">T</span></code> separating date from time and no timezone was specified) but we raise
deprecation warning.</p>
</section>
<section id="default-for-webserver-expose-hostname-changed-to-false-29547">
<h4>Default for <code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">expose_hostname</span></code> changed to <code class="docutils literal notranslate"><span class="pre">False</span></code> (#29547)<a class="headerlink" href="#default-for-webserver-expose-hostname-changed-to-false-29547" title="Link to this heading">¶</a></h4>
<p>The default for <code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">expose_hostname</span></code> has been set to <code class="docutils literal notranslate"><span class="pre">False</span></code>, instead of <code class="docutils literal notranslate"><span class="pre">True</span></code>. This means administrators must opt-in to expose webserver hostnames to end users.</p>
</section>
</section>
<section id="id101">
<h3>Bug Fixes<a class="headerlink" href="#id101" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix validation of date-time field in API and Parameter schemas (#29395)</p></li>
<li><p>Fix grid logs for large logs (#29390)</p></li>
<li><p>Fix on_failure_callback when task receives a SIGTERM (#29743)</p></li>
<li><p>Update min version of python-daemon to fix containerd file limits (#29916)</p></li>
<li><p>POST <code class="docutils literal notranslate"><span class="pre">/dagRuns</span></code> API should 404 if dag not active (#29860)</p></li>
<li><p>DAG list sorting lost when switching page (#29756)</p></li>
<li><p>Fix Scheduler crash when clear a previous run of a normal task that is now a mapped task (#29645)</p></li>
<li><p>Convert moment with timezone to UTC instead of raising an exception (#29606)</p></li>
<li><p>Fix clear dag run <code class="docutils literal notranslate"><span class="pre">openapi</span></code> spec responses by adding additional return type (#29600)</p></li>
<li><p>Don’t display empty rendered attrs in Task Instance Details page (#29545)</p></li>
<li><p>Remove section check from get-value command (#29541)</p></li>
<li><p>Do not show version/node in UI traceback for unauthenticated user (#29501)</p></li>
<li><p>Make <code class="docutils literal notranslate"><span class="pre">prev_logical_date</span></code> variable offset-aware (#29454)</p></li>
<li><p>Fix nested fields rendering in mapped operators (#29451)</p></li>
<li><p>Datasets, next_run_datasets, remove unnecessary timestamp filter (#29441)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Edgemodifier</span></code> refactoring w/ labels in TaskGroup edge case (#29410)</p></li>
<li><p>Fix Rest API update user output (#29409)</p></li>
<li><p>Ensure Serialized DAG is deleted (#29407)</p></li>
<li><p>Persist DAG and task doc values in TaskFlow API if explicitly set (#29399)</p></li>
<li><p>Redirect to the origin page with all the params (#29212)</p></li>
<li><p>Fixing Task Duration view in case of manual DAG runs only (#22015) (#29195)</p></li>
<li><p>Remove poke method to fall back to parent implementation (#29146)</p></li>
<li><p>PR: Introduced fix to run tasks on Windows systems (#29107)</p></li>
<li><p>Fix warning in migrations about old config. (#29092)</p></li>
<li><p>Emit dagrun failed duration when timeout (#29076)</p></li>
<li><p>Handling error on cluster policy itself (#29056)</p></li>
<li><p>Fix kerberos authentication for the REST API. (#29054)</p></li>
<li><p>Fix leak sensitive field via V1EnvVar on exception (#29016)</p></li>
<li><p>Sanitize url_for arguments before they are passed (#29039)</p></li>
<li><p>Fix dag run trigger with a note. (#29228)</p></li>
<li><p>Write action log to DB when DAG run is triggered via API (#28998)</p></li>
<li><p>Resolve all variables in pickled XCom iterator (#28982)</p></li>
<li><p>Allow URI without authority and host blocks in <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">connections</span> <span class="pre">add</span></code> (#28922)</p></li>
<li><p>Be more selective when adopting pods with KubernetesExecutor (#28899)</p></li>
<li><p>KubenetesExecutor sends state even when successful (#28871)</p></li>
<li><p>Annotate KubernetesExecutor pods that we don’t delete (#28844)</p></li>
<li><p>Throttle streaming log reads (#28818)</p></li>
<li><p>Introduce dag processor job (#28799)</p></li>
<li><p>Fix #28391 manual task trigger from UI fails for k8s executor (#28394)</p></li>
<li><p>Logging poke info when external dag is not none and task_id and task_ids are none (#28097)</p></li>
<li><p>Fix inconsistencies in checking edit permissions for a DAG (#20346)</p></li>
</ul>
</section>
<section id="id102">
<h3>Misc/Internal<a class="headerlink" href="#id102" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add a check for not templateable fields (#29821)</p></li>
<li><p>Removed continue for not in (#29791)</p></li>
<li><p>Move extra links position in grid view (#29703)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">undici</span></code> from <code class="docutils literal notranslate"><span class="pre">5.9.1</span></code> to <code class="docutils literal notranslate"><span class="pre">5.19.1</span></code> (#29583)</p></li>
<li><p>Change expose_hostname default to false (#29547)</p></li>
<li><p>Change permissions of config/password files created by airflow (#29495)</p></li>
<li><p>Use newer setuptools <code class="docutils literal notranslate"><span class="pre">v67.2.0</span></code> (#29465)</p></li>
<li><p>Increase max height for grid view elements (#29367)</p></li>
<li><p>Clarify description of worker control config (#29247)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">ua-parser-js</span></code> from <code class="docutils literal notranslate"><span class="pre">0.7.31</span></code> to <code class="docutils literal notranslate"><span class="pre">0.7.33</span></code> in <code class="docutils literal notranslate"><span class="pre">/airflow/www</span></code> (#29172)</p></li>
<li><p>Remove upper bound limitation for <code class="docutils literal notranslate"><span class="pre">pytest</span></code> (#29086)</p></li>
<li><p>Check for <code class="docutils literal notranslate"><span class="pre">run_id</span></code> url param when linking to <code class="docutils literal notranslate"><span class="pre">graph/gantt</span></code> views (#29066)</p></li>
<li><p>Clarify graph view dynamic task labels (#29042)</p></li>
<li><p>Fixing import error for dataset (#29007)</p></li>
<li><p>Update how PythonSensor returns values from <code class="docutils literal notranslate"><span class="pre">python_callable</span></code> (#28932)</p></li>
<li><p>Add dep context description for better log message (#28875)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">swagger-ui-dist</span></code> from <code class="docutils literal notranslate"><span class="pre">3.52.0</span></code> to <code class="docutils literal notranslate"><span class="pre">4.1.3</span></code> in <code class="docutils literal notranslate"><span class="pre">/airflow/www</span></code> (#28824)</p></li>
<li><p>Limit <code class="docutils literal notranslate"><span class="pre">importlib-metadata</span></code> backport to <code class="docutils literal notranslate"><span class="pre">&lt;</span> <span class="pre">5.0.0</span></code> (#29924, #30069)</p></li>
</ul>
</section>
<section id="id103">
<h3>Doc only changes<a class="headerlink" href="#id103" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Update pipeline.rst - Fix query in <code class="docutils literal notranslate"><span class="pre">merge_data()</span></code> task (#29158)</p></li>
<li><p>Correct argument name of Workday timetable in timetable.rst (#29896)</p></li>
<li><p>Update ref anchor for env var link in Connection how-to doc (#29816)</p></li>
<li><p>Better description for limit in api (#29773)</p></li>
<li><p>Description of dag_processing.last_duration (#29740)</p></li>
<li><p>Update docs re: template_fields typing and subclasses (#29725)</p></li>
<li><p>Fix formatting of Dataset inlet/outlet note in TaskFlow concepts (#29678)</p></li>
<li><p>Specific use-case: adding packages via requirements.txt in compose (#29598)</p></li>
<li><p>Detect is ‘docker-compose’ existing (#29544)</p></li>
<li><p>Add Landing Times entry to UI docs (#29511)</p></li>
<li><p>Improve health checks in example docker-compose and clarify usage (#29408)</p></li>
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">notes</span></code> param from TriggerDagRunOperator docstring (#29298)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">schedule</span></code> param rather than <code class="docutils literal notranslate"><span class="pre">timetable</span></code> in Timetables docs (#29255)</p></li>
<li><p>Add trigger process to Airflow Docker docs (#29203)</p></li>
<li><p>Update set-up-database.rst (#29104)</p></li>
<li><p>Several improvements to the Params doc (#29062)</p></li>
<li><p>Email Config docs more explicit env var examples (#28845)</p></li>
<li><p>Listener plugin example added (#27905)</p></li>
</ul>
</section>
</section>
<section id="airflow-2-5-1-2023-01-20">
<h2><a class="toc-backref" href="#id241" role="doc-backlink">Airflow 2.5.1 (2023-01-20)</a><a class="headerlink" href="#airflow-2-5-1-2023-01-20" title="Link to this heading">¶</a></h2>
<section id="id104">
<h3>Significant Changes<a class="headerlink" href="#id104" title="Link to this heading">¶</a></h3>
<section id="trigger-gevent-monkeypatching-via-environment-variable-28283">
<h4>Trigger gevent <code class="docutils literal notranslate"><span class="pre">monkeypatching</span></code> via environment variable (#28283)<a class="headerlink" href="#trigger-gevent-monkeypatching-via-environment-variable-28283" title="Link to this heading">¶</a></h4>
<p>If you are using gevent for your webserver deployment and used local settings to <code class="docutils literal notranslate"><span class="pre">monkeypatch</span></code> gevent,
you might want to replace local settings patching with an <code class="docutils literal notranslate"><span class="pre">_AIRFLOW_PATCH_GEVENT</span></code> environment variable
set to 1 in your webserver. This ensures gevent patching is done as early as possible.</p>
</section>
</section>
<section id="id105">
<h3>Bug Fixes<a class="headerlink" href="#id105" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix masking of non-sensitive environment variables (#28802)</p></li>
<li><p>Remove swagger-ui extra from connexion and install <code class="docutils literal notranslate"><span class="pre">swagger-ui-dist</span></code> via npm package (#28788)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">UIAlert</span></code> should_show when <code class="docutils literal notranslate"><span class="pre">AUTH_ROLE_PUBLIC</span></code> set (#28781)</p></li>
<li><p>Only patch single label when adopting pod (#28776)</p></li>
<li><p>Update CSRF token to expire with session (#28730)</p></li>
<li><p>Fix “airflow tasks render” cli command for mapped task instances (#28698)</p></li>
<li><p>Allow XComArgs for <code class="docutils literal notranslate"><span class="pre">external_task_ids</span></code> of ExternalTaskSensor (#28692)</p></li>
<li><p>Row-lock TIs to be removed during mapped task expansion (#28689)</p></li>
<li><p>Handle ConnectionReset exception in Executor cleanup (#28685)</p></li>
<li><p>Fix description of output redirection for access_log for gunicorn (#28672)</p></li>
<li><p>Add back join to zombie query that was dropped in #28198 (#28544)</p></li>
<li><p>Fix calendar view for CronTriggerTimeTable dags (#28411)</p></li>
<li><p>After running the DAG the employees table is empty. (#28353)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">DetachedInstanceError</span></code> when finding zombies in Dag Parsing process (#28198)</p></li>
<li><p>Nest header blocks in <code class="docutils literal notranslate"><span class="pre">divs</span></code> to fix <code class="docutils literal notranslate"><span class="pre">dagid</span></code> copy nit on dag.html (#28643)</p></li>
<li><p>Fix UI caret direction (#28624)</p></li>
<li><p>Guard not-yet-expanded ti in trigger rule dep (#28592)</p></li>
<li><p>Move TI <code class="docutils literal notranslate"><span class="pre">setNote</span></code> endpoints under TaskInstance in OpenAPI (#28566)</p></li>
<li><p>Consider previous run in <code class="docutils literal notranslate"><span class="pre">CronTriggerTimetable</span></code> (#28532)</p></li>
<li><p>Ensure correct log dir in file task handler (#28477)</p></li>
<li><p>Fix bad pods pickled in executor_config (#28454)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">ensure_ascii=False</span></code> in trigger dag run API (#28451)</p></li>
<li><p>Add setters to MappedOperator on_*_callbacks (#28313)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">ti._try_number</span></code> for deferred and up_for_reschedule tasks (#26993)</p></li>
<li><p>separate <code class="docutils literal notranslate"><span class="pre">callModal</span></code> from dag.js (#28410)</p></li>
<li><p>A manual run can’t look like a scheduled one (#28397)</p></li>
<li><p>Dont show task/run durations when there is no start_date (#28395)</p></li>
<li><p>Maintain manual scroll position in task logs (#28386)</p></li>
<li><p>Correctly select a mapped task’s “previous” task (#28379)</p></li>
<li><p>Trigger gevent <code class="docutils literal notranslate"><span class="pre">monkeypatching</span></code> via environment variable (#28283)</p></li>
<li><p>Fix db clean warnings (#28243)</p></li>
<li><p>Make arguments ‘offset’ and ‘length’ not required (#28234)</p></li>
<li><p>Make live logs reading work for “other” k8s executors (#28213)</p></li>
<li><p>Add custom pickling hooks to <code class="docutils literal notranslate"><span class="pre">LazyXComAccess</span></code> (#28191)</p></li>
<li><p>fix next run datasets error (#28165)</p></li>
<li><p>Ensure that warnings from <code class="docutils literal notranslate"><span class="pre">&#64;dag</span></code> decorator are reported in dag file (#28153)</p></li>
<li><p>Do not warn when airflow dags tests command is used (#28138)</p></li>
<li><p>Ensure the <code class="docutils literal notranslate"><span class="pre">dagbag_size</span></code> metric decreases when files are deleted (#28135)</p></li>
<li><p>Improve run/task grid view actions (#28130)</p></li>
<li><p>Make BaseJob.most_recent_job favor “running” jobs (#28119)</p></li>
<li><p>Don’t emit FutureWarning when code not calling old key (#28109)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">airflow.api.auth.backend.session</span></code> to backend sessions in compose (#28094)</p></li>
<li><p>Resolve false warning about calling conf.get on moved item (#28075)</p></li>
<li><p>Return list of tasks that will be changed (#28066)</p></li>
<li><p>Handle bad zip files nicely when parsing DAGs. (#28011)</p></li>
<li><p>Prevent double loading of providers from local paths (#27988)</p></li>
<li><p>Fix deadlock when chaining multiple empty mapped tasks (#27964)</p></li>
<li><p>fix: current_state method on TaskInstance doesn’t filter by map_index (#27898)</p></li>
<li><p>Don’t log CLI actions if db not initialized (#27851)</p></li>
<li><p>Make sure we can get out of a faulty scheduler state (#27834)</p></li>
<li><p>dagrun, <code class="docutils literal notranslate"><span class="pre">next_dagruns_to_examine</span></code>, add MySQL index hint (#27821)</p></li>
<li><p>Handle DAG disappearing mid-flight when dag verification happens (#27720)</p></li>
<li><p>fix: continue checking sla (#26968)</p></li>
<li><p>Allow generation of connection URI to work when no conn type (#26765)</p></li>
</ul>
</section>
<section id="id106">
<h3>Misc/Internal<a class="headerlink" href="#id106" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Remove limit for <code class="docutils literal notranslate"><span class="pre">dnspython</span></code> after eventlet got fixed (#29004)</p></li>
<li><p>Limit <code class="docutils literal notranslate"><span class="pre">dnspython</span></code> to &lt; <code class="docutils literal notranslate"><span class="pre">2.3.0</span></code> until eventlet incompatibility is solved (#28962)</p></li>
<li><p>Add automated version replacement in example dag indexes (#28090)</p></li>
<li><p>Cleanup and do housekeeping with plugin examples (#28537)</p></li>
<li><p>Limit <code class="docutils literal notranslate"><span class="pre">SQLAlchemy</span></code> to below <code class="docutils literal notranslate"><span class="pre">2.0</span></code> (#28725)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">json5</span></code> from <code class="docutils literal notranslate"><span class="pre">1.0.1</span></code> to <code class="docutils literal notranslate"><span class="pre">1.0.2</span></code> in <code class="docutils literal notranslate"><span class="pre">/airflow/www</span></code> (#28715)</p></li>
<li><p>Fix some docs on using sensors with taskflow (#28708)</p></li>
<li><p>Change Architecture and OperatingSystem classes into <code class="docutils literal notranslate"><span class="pre">Enums</span></code> (#28627)</p></li>
<li><p>Add doc-strings and small improvement to email util (#28634)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">Connection.get_extra</span></code> type (#28594)</p></li>
<li><p>navbar, cap dropdown size, and add scroll bar (#28561)</p></li>
<li><p>Emit warnings for <code class="docutils literal notranslate"><span class="pre">conf.get*</span></code> from the right source location (#28543)</p></li>
<li><p>Move MyPY plugins of ours to dev folder (#28498)</p></li>
<li><p>Add retry to <code class="docutils literal notranslate"><span class="pre">purge_inactive_dag_warnings</span></code> (#28481)</p></li>
<li><p>Re-enable Plyvel on ARM as it now builds cleanly (#28443)</p></li>
<li><p>Add SIGUSR2 handler for LocalTaskJob and workers to aid debugging (#28309)</p></li>
<li><p>Convert <code class="docutils literal notranslate"><span class="pre">test_task_command</span></code> to Pytest and <code class="docutils literal notranslate"><span class="pre">unquarantine</span></code> tests in it (#28247)</p></li>
<li><p>Make invalid characters exception more readable (#28181)</p></li>
<li><p>Bump decode-uri-component from <code class="docutils literal notranslate"><span class="pre">0.2.0</span></code> to <code class="docutils literal notranslate"><span class="pre">0.2.2</span></code> in <code class="docutils literal notranslate"><span class="pre">/airflow/www</span></code> (#28080)</p></li>
<li><p>Use asserts instead of exceptions for executor not started (#28019)</p></li>
<li><p>Simplify dataset <code class="docutils literal notranslate"><span class="pre">subgraph</span></code> logic (#27987)</p></li>
<li><p>Order TIs by <code class="docutils literal notranslate"><span class="pre">map_index</span></code> (#27904)</p></li>
<li><p>Additional info about Segmentation Fault in <code class="docutils literal notranslate"><span class="pre">LocalTaskJob</span></code> (#27381)</p></li>
</ul>
</section>
<section id="id107">
<h3>Doc only changes<a class="headerlink" href="#id107" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Mention mapped operator in cluster policy doc (#28885)</p></li>
<li><p>Slightly improve description of Dynamic DAG generation preamble (#28650)</p></li>
<li><p>Restructure Docs  (#27235)</p></li>
<li><p>Update scheduler docs about low priority tasks (#28831)</p></li>
<li><p>Clarify that versioned constraints are fixed at release time (#28762)</p></li>
<li><p>Clarify about docker compose (#28729)</p></li>
<li><p>Adding an example dag for dynamic task mapping (#28325)</p></li>
<li><p>Use docker compose v2 command (#28605)</p></li>
<li><p>Add AIRFLOW_PROJ_DIR to docker-compose example (#28517)</p></li>
<li><p>Remove outdated Optional Provider Feature outdated documentation (#28506)</p></li>
<li><p>Add documentation for [core] mp_start_method config (#27993)</p></li>
<li><p>Documentation for the LocalTaskJob return code counter (#27972)</p></li>
<li><p>Note which versions of Python are supported (#27798)</p></li>
</ul>
</section>
</section>
<section id="airflow-2-5-0-2022-12-02">
<h2><a class="toc-backref" href="#id242" role="doc-backlink">Airflow 2.5.0 (2022-12-02)</a><a class="headerlink" href="#airflow-2-5-0-2022-12-02" title="Link to this heading">¶</a></h2>
<section id="id108">
<h3>Significant Changes<a class="headerlink" href="#id108" title="Link to this heading">¶</a></h3>
<section id="airflow-dags-test-no-longer-performs-a-backfill-job-26400">
<h4><code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">dags</span> <span class="pre">test</span></code> no longer performs a backfill job (#26400)<a class="headerlink" href="#airflow-dags-test-no-longer-performs-a-backfill-job-26400" title="Link to this heading">¶</a></h4>
<p>In order to make <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">dags</span> <span class="pre">test</span></code> more useful as a testing and debugging tool, we no
longer run a backfill job and instead run a “local task runner”. Users can still backfill
their DAGs using the <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">dags</span> <span class="pre">backfill</span></code> command.</p>
</section>
<section id="airflow-config-section-kubernetes-renamed-to-kubernetes-executor-26873">
<h4>Airflow config section <code class="docutils literal notranslate"><span class="pre">kubernetes</span></code> renamed to <code class="docutils literal notranslate"><span class="pre">kubernetes_executor</span></code> (#26873)<a class="headerlink" href="#airflow-config-section-kubernetes-renamed-to-kubernetes-executor-26873" title="Link to this heading">¶</a></h4>
<p>KubernetesPodOperator no longer considers any core kubernetes config params, so this section now only applies to kubernetes executor. Renaming it reduces potential for confusion.</p>
</section>
<section id="airflowexception-is-now-thrown-as-soon-as-any-dependent-tasks-of-externaltasksensor-fails-27190">
<h4><code class="docutils literal notranslate"><span class="pre">AirflowException</span></code> is now thrown as soon as any dependent tasks of ExternalTaskSensor fails (#27190)<a class="headerlink" href="#airflowexception-is-now-thrown-as-soon-as-any-dependent-tasks-of-externaltasksensor-fails-27190" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">ExternalTaskSensor</span></code> no longer hangs indefinitely when <code class="docutils literal notranslate"><span class="pre">failed_states</span></code> is set, an <code class="docutils literal notranslate"><span class="pre">execute_date_fn</span></code> is used, and some but not all of the dependent tasks fail.
Instead, an <code class="docutils literal notranslate"><span class="pre">AirflowException</span></code> is thrown as soon as any of the dependent tasks fail.
Any code handling this failure in addition to timeouts should move to caching the <code class="docutils literal notranslate"><span class="pre">AirflowException</span></code> <code class="docutils literal notranslate"><span class="pre">BaseClass</span></code> and not only the <code class="docutils literal notranslate"><span class="pre">AirflowSensorTimeout</span></code> subclass.</p>
</section>
<section id="the-airflow-config-option-scheduler-deactivate-stale-dags-interval-has-been-renamed-to-scheduler-parsing-cleanup-interval-27828">
<h4>The Airflow config option <code class="docutils literal notranslate"><span class="pre">scheduler.deactivate_stale_dags_interval</span></code> has been renamed to <code class="docutils literal notranslate"><span class="pre">scheduler.parsing_cleanup_interval</span></code> (#27828).<a class="headerlink" href="#the-airflow-config-option-scheduler-deactivate-stale-dags-interval-has-been-renamed-to-scheduler-parsing-cleanup-interval-27828" title="Link to this heading">¶</a></h4>
<p>The old option will continue to work but will issue deprecation warnings, and will be removed entirely in Airflow 3.</p>
</section>
</section>
<section id="id109">
<h3>New Features<a class="headerlink" href="#id109" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TaskRunner</span></code>: notify of component start and finish (#27855)</p></li>
<li><p>Add DagRun state change to the Listener plugin system(#27113)</p></li>
<li><p>Metric for raw task return codes (#27155)</p></li>
<li><p>Add logic for XComArg to pull specific map indexes (#27771)</p></li>
<li><p>Clear TaskGroup (#26658, #28003)</p></li>
<li><p>Add critical section query duration metric (#27700)</p></li>
<li><p>Add: #23880 :: Audit log for <code class="docutils literal notranslate"><span class="pre">AirflowModelViews(Variables/Connection)</span></code> (#24079, #27994, #27923)</p></li>
<li><p>Add postgres 15 support (#27444)</p></li>
<li><p>Expand tasks in mapped group at run time (#27491)</p></li>
<li><p>reset commits, clean submodules (#27560)</p></li>
<li><p>scheduler_job, add metric for scheduler loop timer (#27605)</p></li>
<li><p>Allow datasets to be used in taskflow (#27540)</p></li>
<li><p>Add expanded_ti_count to ti context (#27680)</p></li>
<li><p>Add user comment to task instance and dag run (#26457, #27849, #27867)</p></li>
<li><p>Enable copying DagRun JSON to clipboard (#27639)</p></li>
<li><p>Implement extra controls for SLAs (#27557)</p></li>
<li><p>add dag parsed time in DAG view (#27573)</p></li>
<li><p>Add max_wait for exponential_backoff in BaseSensor (#27597)</p></li>
<li><p>Expand tasks in mapped group at parse time (#27158)</p></li>
<li><p>Add disable retry flag on backfill (#23829)</p></li>
<li><p>Adding sensor decorator (#22562)</p></li>
<li><p>Api endpoint update ti (#26165)</p></li>
<li><p>Filtering datasets by recent update events (#26942)</p></li>
<li><p>Support <code class="docutils literal notranslate"><span class="pre">Is</span> <span class="pre">/not</span></code> Null filter for value is None on <code class="docutils literal notranslate"><span class="pre">webui</span></code> (#26584)</p></li>
<li><p>Add search to datasets list (#26893)</p></li>
<li><p>Split out and handle ‘params’ in mapped operator (#26100)</p></li>
<li><p>Add authoring API for TaskGroup mapping (#26844)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">one_done</span></code> trigger rule (#26146)</p></li>
<li><p>Create a more efficient  airflow dag test command that also has better local logging (#26400)</p></li>
<li><p>Support add/remove permissions to roles commands (#26338)</p></li>
<li><p>Auto tail file logs in Web UI (#26169)</p></li>
<li><p>Add triggerer info to task instance in API (#26249)</p></li>
<li><p>Flag to deserialize value on custom XCom backend (#26343)</p></li>
</ul>
</section>
<section id="id110">
<h3>Improvements<a class="headerlink" href="#id110" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Allow depth-first execution (#27827)</p></li>
<li><p>UI: Update offset height if data changes (#27865)</p></li>
<li><p>Improve TriggerRuleDep typing and readability (#27810)</p></li>
<li><p>Make views requiring session, keyword only args (#27790)</p></li>
<li><p>Optimize <code class="docutils literal notranslate"><span class="pre">TI.xcom_pull()</span></code> with explicit task_ids and map_indexes (#27699)</p></li>
<li><p>Allow hyphens in pod id used by k8s executor (#27737)</p></li>
<li><p>optimise task instances filtering (#27102)</p></li>
<li><p>Use context managers to simplify log serve management (#27756)</p></li>
<li><p>Fix formatting leftovers (#27750)</p></li>
<li><p>Improve task deadlock messaging (#27734)</p></li>
<li><p>Improve “sensor timeout” messaging (#27733)</p></li>
<li><p>Replace urlparse with <code class="docutils literal notranslate"><span class="pre">urlsplit</span></code> (#27389)</p></li>
<li><p>Align TaskGroup semantics to AbstractOperator (#27723)</p></li>
<li><p>Add new files to parsing queue on every loop of dag processing (#27060)</p></li>
<li><p>Make Kubernetes Executor &amp; Scheduler resilient to error during PMH execution (#27611)</p></li>
<li><p>Separate dataset deps into individual graphs (#27356)</p></li>
<li><p>Use log.exception where more economical than log.error (#27517)</p></li>
<li><p>Move validation <code class="docutils literal notranslate"><span class="pre">branch_task_ids</span></code> into <code class="docutils literal notranslate"><span class="pre">SkipMixin</span></code> (#27434)</p></li>
<li><p>Coerce LazyXComAccess to list when pushed to XCom (#27251)</p></li>
<li><p>Update cluster-policies.rst docs (#27362)</p></li>
<li><p>Add warning if connection type already registered within the provider (#27520)</p></li>
<li><p>Activate debug logging in commands with –verbose option (#27447)</p></li>
<li><p>Add classic examples for Python Operators (#27403)</p></li>
<li><p>change <code class="docutils literal notranslate"><span class="pre">.first()</span></code> to <code class="docutils literal notranslate"><span class="pre">.scalar()</span></code> (#27323)</p></li>
<li><p>Improve reset_dag_run description (#26755)</p></li>
<li><p>Add examples and <code class="docutils literal notranslate"><span class="pre">howtos</span></code> about sensors (#27333)</p></li>
<li><p>Make grid view widths adjustable (#27273)</p></li>
<li><p>Sorting plugins custom menu links by category before name (#27152)</p></li>
<li><p>Simplify DagRun.verify_integrity (#26894)</p></li>
<li><p>Add mapped task group info to serialization (#27027)</p></li>
<li><p>Correct the JSON style used for Run config in Grid View (#27119)</p></li>
<li><p>No <code class="docutils literal notranslate"><span class="pre">extra__conn_type__</span></code> prefix required for UI behaviors (#26995)</p></li>
<li><p>Improve dataset update blurb (#26878)</p></li>
<li><p>Rename kubernetes config section to kubernetes_executor (#26873)</p></li>
<li><p>decode params for dataset searches (#26941)</p></li>
<li><p>Get rid of the DAGRun details page &amp; rely completely on Grid (#26837)</p></li>
<li><p>Fix scheduler <code class="docutils literal notranslate"><span class="pre">crashloopbackoff</span></code> when using <code class="docutils literal notranslate"><span class="pre">hostname_callable</span></code> (#24999)</p></li>
<li><p>Reduce log verbosity in KubernetesExecutor. (#26582)</p></li>
<li><p>Don’t iterate tis list twice for no reason (#26740)</p></li>
<li><p>Clearer code for PodGenerator.deserialize_model_file (#26641)</p></li>
<li><p>Don’t import kubernetes unless you have a V1Pod (#26496)</p></li>
<li><p>Add updated_at column to DagRun and Ti tables (#26252)</p></li>
<li><p>Move the deserialization of custom XCom Backend to 2.4.0 (#26392)</p></li>
<li><p>Avoid calculating all elements when one item is needed (#26377)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">__future__</span></code>.annotations automatically by isort (#26383)</p></li>
<li><p>Handle list when serializing expand_kwargs (#26369)</p></li>
<li><p>Apply PEP-563 (Postponed Evaluation of Annotations) to core airflow (#26290)</p></li>
<li><p>Add more weekday operator and sensor examples #26071 (#26098)</p></li>
<li><p>Align TaskGroup semantics to AbstractOperator (#27723)</p></li>
</ul>
</section>
<section id="id111">
<h3>Bug Fixes<a class="headerlink" href="#id111" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Gracefully handle whole config sections being renamed (#28008)</p></li>
<li><p>Add allow list for imports during deserialization (#27887)</p></li>
<li><p>Soft delete datasets that are no longer referenced in DAG schedules or task outlets (#27828)</p></li>
<li><p>Redirect to home view when there are no valid tags in the URL (#25715)</p></li>
<li><p>Refresh next run datasets info in dags view (#27839)</p></li>
<li><p>Make MappedTaskGroup depend on its expand inputs (#27876)</p></li>
<li><p>Make DagRun state updates for paused DAGs faster (#27725)</p></li>
<li><p>Don’t explicitly set include_examples to False on task run command (#27813)</p></li>
<li><p>Fix menu border color (#27789)</p></li>
<li><p>Fix  backfill  queued  task getting reset to scheduled state.  (#23720)</p></li>
<li><p>Fix clearing child dag mapped tasks from parent dag (#27501)</p></li>
<li><p>Handle json encoding of <code class="docutils literal notranslate"><span class="pre">V1Pod</span></code> in task callback (#27609)</p></li>
<li><p>Fix ExternalTaskSensor can’t check zipped dag (#27056)</p></li>
<li><p>Avoid re-fetching DAG run in TriggerDagRunOperator (#27635)</p></li>
<li><p>Continue on exception when retrieving metadata (#27665)</p></li>
<li><p>External task sensor fail fix (#27190)</p></li>
<li><p>Add the default None when pop actions (#27537)</p></li>
<li><p>Display parameter values from serialized dag in trigger dag view. (#27482, #27944)</p></li>
<li><p>Move TriggerDagRun conf check to execute (#27035)</p></li>
<li><p>Resolve trigger assignment race condition (#27072)</p></li>
<li><p>Update google_analytics.html (#27226)</p></li>
<li><p>Fix some bug in web ui dags list page (auto-refresh &amp; jump search null state) (#27141)</p></li>
<li><p>Fixed broken URL for docker-compose.yaml (#26721)</p></li>
<li><p>Fix xcom arg.py .zip bug (#26636)</p></li>
<li><p>Fix 404 <code class="docutils literal notranslate"><span class="pre">taskInstance</span></code> errors and split into two tables (#26575)</p></li>
<li><p>Fix browser warning of improper thread usage (#26551)</p></li>
<li><p>template rendering issue fix (#26390)</p></li>
<li><p>Clear <code class="docutils literal notranslate"><span class="pre">autoregistered</span></code> DAGs if there are any import errors (#26398)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">airflow</span> <span class="pre">import</span> <span class="pre">version</span></code> lazy import (#26239)</p></li>
<li><p>allow scroll in triggered dag runs modal (#27965)</p></li>
</ul>
</section>
<section id="id112">
<h3>Misc/Internal<a class="headerlink" href="#id112" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">is_mapped</span></code> attribute (#27881)</p></li>
<li><p>Simplify FAB table resetting (#27869)</p></li>
<li><p>Fix old-style typing in Base Sensor (#27871)</p></li>
<li><p>Switch (back) to late imports (#27730)</p></li>
<li><p>Completed D400 for multiple folders (#27748)</p></li>
<li><p>simplify notes accordion test (#27757)</p></li>
<li><p>completed D400 for <code class="docutils literal notranslate"><span class="pre">airflow/callbacks/*</span> <span class="pre">airflow/cli/*</span></code> (#27721)</p></li>
<li><p>Completed D400 for <code class="docutils literal notranslate"><span class="pre">airflow/api_connexion/*</span> <span class="pre">directory</span></code> (#27718)</p></li>
<li><p>Completed D400 for <code class="docutils literal notranslate"><span class="pre">airflow/listener/*</span> <span class="pre">directory</span></code> (#27731)</p></li>
<li><p>Completed D400 for <code class="docutils literal notranslate"><span class="pre">airflow/lineage/*</span> <span class="pre">directory</span></code> (#27732)</p></li>
<li><p>Update API &amp; Python Client versions (#27642)</p></li>
<li><p>Completed D400 &amp; D401 for <code class="docutils literal notranslate"><span class="pre">airflow/api/*</span></code> directory (#27716)</p></li>
<li><p>Completed D400 for multiple folders (#27722)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">minimatch</span></code> from <code class="docutils literal notranslate"><span class="pre">3.0.4</span> <span class="pre">to</span> <span class="pre">3.0.8</span></code> in <code class="docutils literal notranslate"><span class="pre">/airflow/www</span></code> (#27688)</p></li>
<li><p>Bump loader-utils from <code class="docutils literal notranslate"><span class="pre">1.4.1</span> <span class="pre">to</span> <span class="pre">1.4.2</span> <span class="pre">``in</span> <span class="pre">``/airflow/www</span></code> (#27697)</p></li>
<li><p>Disable nested task mapping for now (#27681)</p></li>
<li><p>bump alembic minimum version (#27629)</p></li>
<li><p>remove unused code.html (#27585)</p></li>
<li><p>Enable python string normalization everywhere (#27588)</p></li>
<li><p>Upgrade dependencies in order to avoid backtracking (#27531)</p></li>
<li><p>Strengthen a bit and clarify importance of triaging issues (#27262)</p></li>
<li><p>Deduplicate type hints (#27508)</p></li>
<li><p>Add stub ‘yield’ to <code class="docutils literal notranslate"><span class="pre">BaseTrigger.run</span></code> (#27416)</p></li>
<li><p>Remove upper-bound limit to dask (#27415)</p></li>
<li><p>Limit Dask to under <code class="docutils literal notranslate"><span class="pre">2022.10.1</span></code> (#27383)</p></li>
<li><p>Update old style typing (#26872)</p></li>
<li><p>Enable string normalization for docs (#27269)</p></li>
<li><p>Slightly faster up/downgrade tests (#26939)</p></li>
<li><p>Deprecate use of core get_kube_client in PodManager (#26848)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">memray</span></code> files to <code class="docutils literal notranslate"><span class="pre">gitignore</span> <span class="pre">/</span> <span class="pre">dockerignore</span></code> (#27001)</p></li>
<li><p>Bump sphinx and <code class="docutils literal notranslate"><span class="pre">sphinx-autoapi</span></code> (#26743)</p></li>
<li><p>Simplify <code class="docutils literal notranslate"><span class="pre">RTIF.delete_old_records()</span></code> (#26667)</p></li>
<li><p>migrate last react files to typescript (#26112)</p></li>
<li><p>Work around <code class="docutils literal notranslate"><span class="pre">pyupgrade</span></code> edge cases (#26384)</p></li>
</ul>
</section>
<section id="id113">
<h3>Doc only changes<a class="headerlink" href="#id113" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Document dag_file_processor_timeouts metric as deprecated (#27067)</p></li>
<li><p>Drop support for PostgreSQL 10 (#27594)</p></li>
<li><p>Update index.rst (#27529)</p></li>
<li><p>Add note about pushing the lazy XCom proxy to XCom (#27250)</p></li>
<li><p>Fix BaseOperator link (#27441)</p></li>
<li><p>[docs] best-practices add use variable with template example. (#27316)</p></li>
<li><p>docs for custom view using plugin (#27244)</p></li>
<li><p>Update graph view and grid view on overview page (#26909)</p></li>
<li><p>Documentation fixes (#26819)</p></li>
<li><p>make consistency on markup title string level (#26696)</p></li>
<li><p>Add documentation to dag test function (#26713)</p></li>
<li><p>Fix broken URL for <code class="docutils literal notranslate"><span class="pre">docker-compose.yaml</span></code> (#26726)</p></li>
<li><p>Add a note against use of top level code in timetable (#26649)</p></li>
<li><p>Fix example_datasets dag names (#26495)</p></li>
<li><p>Update docs: zip-like effect is now possible in task mapping (#26435)</p></li>
<li><p>changing to task decorator in docs from classic operator use (#25711)</p></li>
</ul>
</section>
</section>
<section id="airflow-2-4-3-2022-11-14">
<h2><a class="toc-backref" href="#id243" role="doc-backlink">Airflow 2.4.3 (2022-11-14)</a><a class="headerlink" href="#airflow-2-4-3-2022-11-14" title="Link to this heading">¶</a></h2>
<section id="id114">
<h3>Significant Changes<a class="headerlink" href="#id114" title="Link to this heading">¶</a></h3>
<section id="make-rotatingfilehandler-used-in-dagprocessor-non-caching-27223">
<h4>Make <code class="docutils literal notranslate"><span class="pre">RotatingFilehandler</span></code> used in <code class="docutils literal notranslate"><span class="pre">DagProcessor</span></code> non-caching (#27223)<a class="headerlink" href="#make-rotatingfilehandler-used-in-dagprocessor-non-caching-27223" title="Link to this heading">¶</a></h4>
<p>In case you want to decrease cache memory when <code class="docutils literal notranslate"><span class="pre">CONFIG_PROCESSOR_MANAGER_LOGGER=True</span></code>, and you have your local settings created before,
you can update <code class="docutils literal notranslate"><span class="pre">processor_manager_handler</span></code> to use <code class="docutils literal notranslate"><span class="pre">airflow.utils.log.non_caching_file_handler.NonCachingRotatingFileHandler</span></code> handler instead of <code class="docutils literal notranslate"><span class="pre">logging.RotatingFileHandler</span></code>.</p>
</section>
</section>
<section id="id115">
<h3>Bug Fixes<a class="headerlink" href="#id115" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix double logging with some task logging handler (#27591)</p></li>
<li><p>Replace FAB url filtering function with Airflow’s (#27576)</p></li>
<li><p>Fix mini scheduler expansion of mapped task  (#27506)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SLAMiss</span></code> is nullable and not always given back when pulling task instances (#27423)</p></li>
<li><p>Fix behavior of <code class="docutils literal notranslate"><span class="pre">_</span></code> when searching for DAGs (#27448)</p></li>
<li><p>Fix getting the <code class="docutils literal notranslate"><span class="pre">dag/task</span></code> ids from BaseExecutor (#27550)</p></li>
<li><p>Fix SQLAlchemy primary key black-out error on DDRQ (#27538)</p></li>
<li><p>Fix IntegrityError during webserver startup (#27297)</p></li>
<li><p>Add case insensitive constraint to username (#27266)</p></li>
<li><p>Fix python external template keys (#27256)</p></li>
<li><p>Reduce extraneous task log requests (#27233)</p></li>
<li><p>Make <code class="docutils literal notranslate"><span class="pre">RotatingFilehandler</span></code> used in <code class="docutils literal notranslate"><span class="pre">DagProcessor</span></code> non-caching (#27223)</p></li>
<li><p>Listener: Set task on SQLAlchemy TaskInstance object (#27167)</p></li>
<li><p>Fix dags list page auto-refresh &amp; jump search null state (#27141)</p></li>
<li><p>Set <code class="docutils literal notranslate"><span class="pre">executor.job_id</span></code> to <code class="docutils literal notranslate"><span class="pre">BackfillJob.id</span></code> for backfills (#27020)</p></li>
</ul>
</section>
<section id="id116">
<h3>Misc/Internal<a class="headerlink" href="#id116" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Bump loader-utils from <code class="docutils literal notranslate"><span class="pre">1.4.0</span></code> to <code class="docutils literal notranslate"><span class="pre">1.4.1</span></code> in <code class="docutils literal notranslate"><span class="pre">/airflow/www</span></code> (#27552)</p></li>
<li><p>Reduce log level for k8s <code class="docutils literal notranslate"><span class="pre">TCP_KEEPALIVE</span></code> etc warnings (#26981)</p></li>
</ul>
</section>
<section id="id117">
<h3>Doc only changes<a class="headerlink" href="#id117" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Use correct executable in docker compose docs (#27529)</p></li>
<li><p>Fix wording in DAG Runs description (#27470)</p></li>
<li><p>Document that <code class="docutils literal notranslate"><span class="pre">KubernetesExecutor</span></code> overwrites container args (#27450)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">BaseOperator</span></code> links (#27441)</p></li>
<li><p>Correct timer units to seconds from milliseconds. (#27360)</p></li>
<li><p>Add missed import in the Trigger Rules example (#27309)</p></li>
<li><p>Update SLA wording to reflect it is relative to <code class="docutils literal notranslate"><span class="pre">Dag</span> <span class="pre">Run</span></code> start. (#27111)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">kerberos</span></code> environment variables to the docs (#27028)</p></li>
</ul>
</section>
</section>
<section id="airflow-2-4-2-2022-10-23">
<h2><a class="toc-backref" href="#id244" role="doc-backlink">Airflow 2.4.2 (2022-10-23)</a><a class="headerlink" href="#airflow-2-4-2-2022-10-23" title="Link to this heading">¶</a></h2>
<section id="id118">
<h3>Significant Changes<a class="headerlink" href="#id118" title="Link to this heading">¶</a></h3>
<section id="default-for-webserver-expose-stacktrace-changed-to-false-27059">
<h4>Default for <code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">expose_stacktrace</span></code> changed to <code class="docutils literal notranslate"><span class="pre">False</span></code> (#27059)<a class="headerlink" href="#default-for-webserver-expose-stacktrace-changed-to-false-27059" title="Link to this heading">¶</a></h4>
<p>The default for <code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">expose_stacktrace</span></code> has been set to <code class="docutils literal notranslate"><span class="pre">False</span></code>, instead of <code class="docutils literal notranslate"><span class="pre">True</span></code>. This means administrators must opt-in to expose tracebacks to end users.</p>
</section>
</section>
<section id="id119">
<h3>Bug Fixes<a class="headerlink" href="#id119" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Make tracebacks opt-in (#27059)</p></li>
<li><p>Add missing AUTOINC/SERIAL for FAB tables (#26885)</p></li>
<li><p>Add separate error handler for 405(Method not allowed) errors (#26880)</p></li>
<li><p>Don’t re-patch pods that are already controlled by current worker (#26778)</p></li>
<li><p>Handle mapped tasks in task duration chart (#26722)</p></li>
<li><p>Fix task duration cumulative chart (#26717)</p></li>
<li><p>Avoid 500 on dag redirect (#27064)</p></li>
<li><p>Filter dataset dependency data on webserver (#27046)</p></li>
<li><p>Remove double collection of dags in <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">dags</span> <span class="pre">reserialize</span></code>  (#27030)</p></li>
<li><p>Fix auto refresh for graph view (#26926)</p></li>
<li><p>Don’t overwrite connection extra with invalid json (#27142)</p></li>
<li><p>Fix next run dataset modal links (#26897)</p></li>
<li><p>Change dag audit log sort by date from asc to desc (#26895)</p></li>
<li><p>Bump min version of jinja2 (#26866)</p></li>
<li><p>Add missing colors to <code class="docutils literal notranslate"><span class="pre">state_color_mapping</span></code> jinja global (#26822)</p></li>
<li><p>Fix running debuggers inside <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">tasks</span> <span class="pre">test</span></code> (#26806)</p></li>
<li><p>Fix warning when using xcomarg dependencies (#26801)</p></li>
<li><p>demote Removed state in priority for displaying task summaries (#26789)</p></li>
<li><p>Ensure the log messages from operators during parsing go somewhere (#26779)</p></li>
<li><p>Add restarting state to TaskState Enum in REST API (#26776)</p></li>
<li><p>Allow retrieving error message from data.detail (#26762)</p></li>
<li><p>Simplify origin string cleaning (#27143)</p></li>
<li><p>Remove DAG parsing from StandardTaskRunner (#26750)</p></li>
<li><p>Fix non-hidden cumulative chart on duration view (#26716)</p></li>
<li><p>Remove TaskFail duplicates check (#26714)</p></li>
<li><p>Fix airflow tasks run –local when dags_folder differs from that of processor (#26509)</p></li>
<li><p>Fix yarn warning from d3-color (#27139)</p></li>
<li><p>Fix version for a couple configurations (#26491)</p></li>
<li><p>Revert “No grid auto-refresh for backfill dag runs (#25042)” (#26463)</p></li>
<li><p>Retry on Airflow Schedule DAG Run DB Deadlock (#26347)</p></li>
</ul>
</section>
<section id="id120">
<h3>Misc/Internal<a class="headerlink" href="#id120" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Clean-ups around task-mapping code (#26879)</p></li>
<li><p>Move user-facing string to template (#26815)</p></li>
<li><p>add icon legend to datasets graph (#26781)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">sphinx</span></code> and <code class="docutils literal notranslate"><span class="pre">sphinx-autoapi</span></code> (#26743)</p></li>
<li><p>Simplify <code class="docutils literal notranslate"><span class="pre">RTIF.delete_old_records()</span></code> (#26667)</p></li>
<li><p>Bump FAB to <code class="docutils literal notranslate"><span class="pre">4.1.4</span></code> (#26393)</p></li>
</ul>
</section>
<section id="id121">
<h3>Doc only changes<a class="headerlink" href="#id121" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fixed triple quotes in task group example (#26829)</p></li>
<li><p>Documentation fixes (#26819)</p></li>
<li><p>make consistency on markup title string level (#26696)</p></li>
<li><p>Add a note against use of top level code in timetable (#26649)</p></li>
<li><p>Fix broken URL for <code class="docutils literal notranslate"><span class="pre">docker-compose.yaml</span></code> (#26726)</p></li>
</ul>
</section>
</section>
<section id="airflow-2-4-1-2022-09-30">
<h2><a class="toc-backref" href="#id245" role="doc-backlink">Airflow 2.4.1 (2022-09-30)</a><a class="headerlink" href="#airflow-2-4-1-2022-09-30" title="Link to this heading">¶</a></h2>
<section id="id122">
<h3>Significant Changes<a class="headerlink" href="#id122" title="Link to this heading">¶</a></h3>
<p>No significant changes.</p>
</section>
<section id="id123">
<h3>Bug Fixes<a class="headerlink" href="#id123" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>When rendering template, unmap task in context (#26702)</p></li>
<li><p>Fix scroll overflow for ConfirmDialog (#26681)</p></li>
<li><p>Resolve deprecation warning re <code class="docutils literal notranslate"><span class="pre">Table.exists()</span></code> (#26616)</p></li>
<li><p>Fix XComArg zip bug (#26636)</p></li>
<li><p>Use COALESCE when ordering runs to handle NULL (#26626)</p></li>
<li><p>Check user is active (#26635)</p></li>
<li><p>No missing user warning for public admin (#26611)</p></li>
<li><p>Allow MapXComArg to resolve after serialization  (#26591)</p></li>
<li><p>Resolve warning about DISTINCT ON query on dags view (#26608)</p></li>
<li><p>Log warning when secret backend kwargs is invalid (#26580)</p></li>
<li><p>Fix grid view log try numbers (#26556)</p></li>
<li><p>Template rendering issue in passing <code class="docutils literal notranslate"><span class="pre">templates_dict</span></code> to task decorator (#26390)</p></li>
<li><p>Fix Deferrable stuck as <code class="docutils literal notranslate"><span class="pre">scheduled</span></code> during backfill (#26205)</p></li>
<li><p>Suppress SQLALCHEMY_TRACK_MODIFICATIONS warning in db init (#26617)</p></li>
<li><p>Correctly set <code class="docutils literal notranslate"><span class="pre">json_provider_class</span></code> on Flask app so it uses our encoder (#26554)</p></li>
<li><p>Fix WSGI root app (#26549)</p></li>
<li><p>Fix deadlock when mapped task with removed upstream is rerun (#26518)</p></li>
<li><p>ExecutorConfigType should be <code class="docutils literal notranslate"><span class="pre">cacheable</span></code> (#26498)</p></li>
<li><p>Fix proper joining of the path for logs retrieved from celery workers (#26493)</p></li>
<li><p>DAG Deps extends <code class="docutils literal notranslate"><span class="pre">base_template</span></code> (#26439)</p></li>
<li><p>Don’t update backfill run from the scheduler (#26342)</p></li>
</ul>
</section>
<section id="id124">
<h3>Doc only changes<a class="headerlink" href="#id124" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Clarify owner links document (#26515)</p></li>
<li><p>Fix invalid RST in dataset concepts doc (#26434)</p></li>
<li><p>Document the <code class="docutils literal notranslate"><span class="pre">non-sensitive-only</span></code> option for <code class="docutils literal notranslate"><span class="pre">expose_config</span></code> (#26507)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">example_datasets</span></code> dag names (#26495)</p></li>
<li><p>Zip-like effect is now possible in task mapping (#26435)</p></li>
<li><p>Use task decorator in docs instead of classic operators (#25711)</p></li>
</ul>
</section>
</section>
<section id="airflow-2-4-0-2022-09-19">
<h2><a class="toc-backref" href="#id246" role="doc-backlink">Airflow 2.4.0 (2022-09-19)</a><a class="headerlink" href="#airflow-2-4-0-2022-09-19" title="Link to this heading">¶</a></h2>
<section id="id125">
<h3>Significant Changes<a class="headerlink" href="#id125" title="Link to this heading">¶</a></h3>
<section id="data-aware-scheduling-and-dataset-concept-added-to-airflow">
<h4>Data-aware Scheduling and <code class="docutils literal notranslate"><span class="pre">Dataset</span></code> concept added to Airflow<a class="headerlink" href="#data-aware-scheduling-and-dataset-concept-added-to-airflow" title="Link to this heading">¶</a></h4>
<p>New to this release of Airflow is the concept of Datasets to Airflow, and with it a new way of scheduling dags:
data-aware scheduling.</p>
<p>This allows DAG runs to be automatically created as a result of a task “producing” a dataset. In some ways
this can be thought of as the inverse of <code class="docutils literal notranslate"><span class="pre">TriggerDagRunOperator</span></code>, where instead of the producing DAG
controlling which DAGs get created, the consuming DAGs can “listen” for changes.</p>
<p>A dataset is identified by a URI:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">airflow</span><span class="w"> </span><span class="kn">import</span> <span class="n">Dataset</span>

<span class="c1"># The URI doesn&#39;t have to be absolute</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="n">uri</span><span class="o">=</span><span class="s2">&quot;my-dataset&quot;</span><span class="p">)</span>
<span class="c1"># Or you can use a scheme to show where it lives.</span>
<span class="n">dataset2</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="n">uri</span><span class="o">=</span><span class="s2">&quot;s3://bucket/prefix&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>To create a DAG that runs whenever a Dataset is updated use the new <code class="docutils literal notranslate"><span class="pre">schedule</span></code> parameter (see below) and
pass a list of 1 or more Datasets:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">DAG</span><span class="p">(</span><span class="n">dag_id</span><span class="o">=</span><span class="s1">&#39;dataset-consumer&#39;</span><span class="p">,</span> <span class="n">schedule</span><span class="o">=</span><span class="p">[</span><span class="n">dataset</span><span class="p">]):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>And to mark a task as producing a dataset pass the dataset(s) to the <code class="docutils literal notranslate"><span class="pre">outlets</span></code> attribute:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@task</span><span class="p">(</span><span class="n">outlets</span><span class="o">=</span><span class="p">[</span><span class="n">dataset</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">my_task</span><span class="p">():</span> <span class="o">...</span>


<span class="c1"># Or for classic operators</span>
<span class="n">BashOperator</span><span class="p">(</span><span class="n">task_id</span><span class="o">=</span><span class="s2">&quot;update-ds&quot;</span><span class="p">,</span> <span class="n">bash_command</span><span class="o">=...</span><span class="p">,</span> <span class="n">outlets</span><span class="o">=</span><span class="p">[</span><span class="n">dataset</span><span class="p">])</span>
</pre></div>
</div>
<p>If you have the producer and consumer in different files you do not need to use the same Dataset object, two
<code class="docutils literal notranslate"><span class="pre">Dataset()</span></code>s created with the same URI are equal.</p>
<p>Datasets represent the abstract concept of a dataset, and (for now) do not have any direct read or write
capability - in this release we are adding the foundational feature that we will build upon.</p>
<p>For more info on Datasets please see <a class="reference external" href="https://airflow.apache.org/docs/apache-airflow/2.4.0/authoring-and-scheduling/datasets.html">Datasets documentation</a>.</p>
</section>
<section id="expanded-dynamic-task-mapping-support">
<h4>Expanded dynamic task mapping support<a class="headerlink" href="#expanded-dynamic-task-mapping-support" title="Link to this heading">¶</a></h4>
<p>Dynamic task mapping now includes support for <code class="docutils literal notranslate"><span class="pre">expand_kwargs</span></code>, <code class="docutils literal notranslate"><span class="pre">zip</span></code> and <code class="docutils literal notranslate"><span class="pre">map</span></code>.</p>
<p>For more info on dynamic task mapping please see <a class="reference internal" href="authoring-and-scheduling/dynamic-task-mapping.html"><span class="doc">Dynamic Task Mapping</span></a>.</p>
</section>
<section id="dags-used-in-a-context-manager-no-longer-need-to-be-assigned-to-a-module-variable-23592">
<h4>DAGS used in a context manager no longer need to be assigned to a module variable (#23592)<a class="headerlink" href="#dags-used-in-a-context-manager-no-longer-need-to-be-assigned-to-a-module-variable-23592" title="Link to this heading">¶</a></h4>
<p>Previously you had to assign a DAG to a module-level variable in order for Airflow to pick it up. For example this</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">DAG</span><span class="p">(</span><span class="n">dag_id</span><span class="o">=</span><span class="s2">&quot;example&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">dag</span><span class="p">:</span>
    <span class="o">...</span>


<span class="nd">@dag</span>
<span class="k">def</span><span class="w"> </span><span class="nf">dag_maker</span><span class="p">():</span> <span class="o">...</span>


<span class="n">dag2</span> <span class="o">=</span> <span class="n">dag_maker</span><span class="p">()</span>
</pre></div>
</div>
<p>can become</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">DAG</span><span class="p">(</span><span class="n">dag_id</span><span class="o">=</span><span class="s2">&quot;example&quot;</span><span class="p">):</span>
    <span class="o">...</span>


<span class="nd">@dag</span>
<span class="k">def</span><span class="w"> </span><span class="nf">dag_maker</span><span class="p">():</span> <span class="o">...</span>


<span class="n">dag_maker</span><span class="p">()</span>
</pre></div>
</div>
<p>If you want to disable the behaviour for any reason then set <code class="docutils literal notranslate"><span class="pre">auto_register=False</span></code> on the dag:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># This dag will not be picked up by Airflow as it&#39;s not assigned to a variable</span>
<span class="k">with</span> <span class="n">DAG</span><span class="p">(</span><span class="n">dag_id</span><span class="o">=</span><span class="s2">&quot;example&quot;</span><span class="p">,</span> <span class="n">auto_register</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
</section>
<section id="deprecation-of-schedule-interval-and-timetable-arguments-25410">
<h4>Deprecation of <code class="docutils literal notranslate"><span class="pre">schedule_interval</span></code> and <code class="docutils literal notranslate"><span class="pre">timetable</span></code> arguments (#25410)<a class="headerlink" href="#deprecation-of-schedule-interval-and-timetable-arguments-25410" title="Link to this heading">¶</a></h4>
<p>We added new DAG argument <code class="docutils literal notranslate"><span class="pre">schedule</span></code> that can accept a cron expression, timedelta object, <em>timetable</em> object, or list of dataset objects. Arguments <code class="docutils literal notranslate"><span class="pre">schedule_interval</span></code> and <code class="docutils literal notranslate"><span class="pre">timetable</span></code> are deprecated.</p>
<p>If you previously used the <code class="docutils literal notranslate"><span class="pre">&#64;daily</span></code> cron preset, your DAG may have looked like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">DAG</span><span class="p">(</span>
    <span class="n">dag_id</span><span class="o">=</span><span class="s2">&quot;my_example&quot;</span><span class="p">,</span>
    <span class="n">start_date</span><span class="o">=</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">schedule_interval</span><span class="o">=</span><span class="s2">&quot;@daily&quot;</span><span class="p">,</span>
<span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Going forward, you should use the <code class="docutils literal notranslate"><span class="pre">schedule</span></code> argument instead:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">DAG</span><span class="p">(</span>
    <span class="n">dag_id</span><span class="o">=</span><span class="s2">&quot;my_example&quot;</span><span class="p">,</span>
    <span class="n">start_date</span><span class="o">=</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">schedule</span><span class="o">=</span><span class="s2">&quot;@daily&quot;</span><span class="p">,</span>
<span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>The same is true if you used a custom timetable.  Previously you would have used the <code class="docutils literal notranslate"><span class="pre">timetable</span></code> argument:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">DAG</span><span class="p">(</span>
    <span class="n">dag_id</span><span class="o">=</span><span class="s2">&quot;my_example&quot;</span><span class="p">,</span>
    <span class="n">start_date</span><span class="o">=</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">timetable</span><span class="o">=</span><span class="n">EventsTimetable</span><span class="p">(</span><span class="n">event_dates</span><span class="o">=</span><span class="p">[</span><span class="n">pendulum</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2022</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)]),</span>
<span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Now you should use the <code class="docutils literal notranslate"><span class="pre">schedule</span></code> argument:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">DAG</span><span class="p">(</span>
    <span class="n">dag_id</span><span class="o">=</span><span class="s2">&quot;my_example&quot;</span><span class="p">,</span>
    <span class="n">start_date</span><span class="o">=</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">schedule</span><span class="o">=</span><span class="n">EventsTimetable</span><span class="p">(</span><span class="n">event_dates</span><span class="o">=</span><span class="p">[</span><span class="n">pendulum</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2022</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)]),</span>
<span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
</section>
<section id="removal-of-experimental-smart-sensors-25507">
<h4>Removal of experimental Smart Sensors (#25507)<a class="headerlink" href="#removal-of-experimental-smart-sensors-25507" title="Link to this heading">¶</a></h4>
<p>Smart Sensors were added in 2.0 and deprecated in favor of Deferrable operators in 2.2, and have now been removed.</p>
</section>
<section id="airflow-contrib-packages-and-deprecated-modules-are-dynamically-generated-26153-26179-26167">
<h4><code class="docutils literal notranslate"><span class="pre">airflow.contrib</span></code> packages and deprecated modules are dynamically generated (#26153, #26179, #26167)<a class="headerlink" href="#airflow-contrib-packages-and-deprecated-modules-are-dynamically-generated-26153-26179-26167" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">airflow.contrib</span></code> packages and deprecated modules from Airflow 1.10 in <code class="docutils literal notranslate"><span class="pre">airflow.hooks</span></code>, <code class="docutils literal notranslate"><span class="pre">airflow.operators</span></code>, <code class="docutils literal notranslate"><span class="pre">airflow.sensors</span></code> packages are now dynamically generated modules and while users can continue using the deprecated contrib classes, they are no longer visible for static code check tools and will be reported as missing. It is recommended for the users to move to the non-deprecated classes.</p>
</section>
<section id="dbapihook-and-sqlsensor-have-moved-24836">
<h4><code class="docutils literal notranslate"><span class="pre">DBApiHook</span></code> and <code class="docutils literal notranslate"><span class="pre">SQLSensor</span></code> have moved (#24836)<a class="headerlink" href="#dbapihook-and-sqlsensor-have-moved-24836" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">DBApiHook</span></code> and <code class="docutils literal notranslate"><span class="pre">SQLSensor</span></code> have been moved to the <code class="docutils literal notranslate"><span class="pre">apache-airflow-providers-common-sql</span></code> provider.</p>
</section>
<section id="dag-runs-sorting-logic-changed-in-grid-view-25090">
<h4>DAG runs sorting logic changed in grid view (#25090)<a class="headerlink" href="#dag-runs-sorting-logic-changed-in-grid-view-25090" title="Link to this heading">¶</a></h4>
<p>The ordering of DAG runs in the grid view has been changed to be more “natural”.
The new logic generally orders by data interval, but a custom ordering can be
applied by setting the DAG to use a custom timetable.</p>
</section>
</section>
<section id="id126">
<h3>New Features<a class="headerlink" href="#id126" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add Data-aware Scheduling (<a class="reference external" href="https://github.com/apache/airflow/pulls?q=is%3Apr+is%3Amerged+label%3AAIP-48+milestone%3A%22Airflow+2.4.0%22">AIP-48</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">&#64;task.short_circuit</span></code> TaskFlow decorator (#25752)</p></li>
<li><p>Make <code class="docutils literal notranslate"><span class="pre">execution_date_or_run_id</span></code> optional in <code class="docutils literal notranslate"><span class="pre">tasks</span> <span class="pre">test</span></code> command (#26114)</p></li>
<li><p>Automatically register DAGs that are used in a context manager (#23592, #26398)</p></li>
<li><p>Add option of sending DAG parser logs to stdout. (#25754)</p></li>
<li><p>Support multiple <code class="docutils literal notranslate"><span class="pre">DagProcessors</span></code> parsing files from different locations. (#25935)</p></li>
<li><p>Implement <code class="docutils literal notranslate"><span class="pre">ExternalPythonOperator</span></code> (#25780)</p></li>
<li><p>Make execution_date optional for command <code class="docutils literal notranslate"><span class="pre">dags</span> <span class="pre">test</span></code> (#26111)</p></li>
<li><p>Implement <code class="docutils literal notranslate"><span class="pre">expand_kwargs()</span></code> against a literal list (#25925)</p></li>
<li><p>Add trigger rule tooltip (#26043)</p></li>
<li><p>Add conf parameter to CLI for airflow dags test (#25900)</p></li>
<li><p>Include scheduled slots in pools view (#26006)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">output</span></code> property to <code class="docutils literal notranslate"><span class="pre">MappedOperator</span></code> (#25604)</p></li>
<li><p>Add roles delete command to cli (#25854)</p></li>
<li><p>Add Airflow specific warning classes (#25799)</p></li>
<li><p>Add support for <code class="docutils literal notranslate"><span class="pre">TaskGroup</span></code> in <code class="docutils literal notranslate"><span class="pre">ExternalTaskSensor</span></code> (#24902)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">&#64;task.kubernetes</span></code> taskflow decorator (#25663)</p></li>
<li><p>Add a way to import Airflow without side-effects (#25832)</p></li>
<li><p>Let timetables control generated run_ids. (#25795)</p></li>
<li><p>Allow per-timetable ordering override in grid view (#25633)</p></li>
<li><p>Grid logs for mapped instances (#25610, #25621, #25611)</p></li>
<li><p>Consolidate to one <code class="docutils literal notranslate"><span class="pre">schedule</span></code> param (#25410)</p></li>
<li><p>DAG regex flag in backfill command (#23870)</p></li>
<li><p>Adding support for owner links in the Dags view UI (#25280)</p></li>
<li><p>Ability to clear a specific DAG Run’s task instances via REST API (#23516)</p></li>
<li><p>Possibility to document DAG with a separate markdown file (#25509)</p></li>
<li><p>Add parsing context to DAG Parsing (#25161)</p></li>
<li><p>Implement <code class="docutils literal notranslate"><span class="pre">CronTriggerTimetable</span></code> (#23662)</p></li>
<li><p>Add option to mask sensitive data in UI configuration page (#25346)</p></li>
<li><p>Create new databases from the ORM (#24156)</p></li>
<li><p>Implement <code class="docutils literal notranslate"><span class="pre">XComArg.zip(*xcom_args)</span></code> (#25176)</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">sla_miss</span></code> metric (#23402)</p></li>
<li><p>Implement <code class="docutils literal notranslate"><span class="pre">map()</span></code> semantic (#25085)</p></li>
<li><p>Add override method to TaskGroupDecorator (#25160)</p></li>
<li><p>Implement <code class="docutils literal notranslate"><span class="pre">expand_kwargs()</span></code> (#24989)</p></li>
<li><p>Add parameter to turn off SQL query logging (#24570)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">DagWarning</span></code> model, and a check for missing pools (#23317)</p></li>
<li><p>Add Task Logs to Grid details panel (#24249)</p></li>
<li><p>Added small health check server and endpoint in scheduler(#23905)</p></li>
<li><p>Add built-in External Link for <code class="docutils literal notranslate"><span class="pre">ExternalTaskMarker</span></code> operator (#23964)</p></li>
<li><p>Add default task retry delay config (#23861)</p></li>
<li><p>Add clear DagRun endpoint. (#23451)</p></li>
<li><p>Add support for timezone as string in cron interval timetable (#23279)</p></li>
<li><p>Add auto-refresh to dags home page (#22900, #24770)</p></li>
</ul>
</section>
<section id="id127">
<h3>Improvements<a class="headerlink" href="#id127" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add more weekday operator and sensor examples #26071 (#26098)</p></li>
<li><p>Add subdir parameter to dags reserialize command (#26170)</p></li>
<li><p>Update zombie message to be more descriptive (#26141)</p></li>
<li><p>Only send an <code class="docutils literal notranslate"><span class="pre">SlaCallbackRequest</span></code> if the DAG is scheduled (#26089)</p></li>
<li><p>Promote <code class="docutils literal notranslate"><span class="pre">Operator.output</span></code> more (#25617)</p></li>
<li><p>Upgrade API files to typescript (#25098)</p></li>
<li><p>Less <code class="docutils literal notranslate"><span class="pre">hacky</span></code> double-rendering prevention in mapped task (#25924)</p></li>
<li><p>Improve Audit log (#25856)</p></li>
<li><p>Remove mapped operator validation code (#25870)</p></li>
<li><p>More <code class="docutils literal notranslate"><span class="pre">DAG(schedule=...)</span></code> improvements (#25648)</p></li>
<li><p>Reduce <code class="docutils literal notranslate"><span class="pre">operator_name</span></code> dupe in serialized JSON (#25819)</p></li>
<li><p>Make grid view group/mapped summary UI more consistent (#25723)</p></li>
<li><p>Remove useless statement in <code class="docutils literal notranslate"><span class="pre">task_group_to_grid</span></code> (#25654)</p></li>
<li><p>Add optional data interval to <code class="docutils literal notranslate"><span class="pre">CronTriggerTimetable</span></code> (#25503)</p></li>
<li><p>Remove unused code in <code class="docutils literal notranslate"><span class="pre">/grid</span></code> endpoint (#25481)</p></li>
<li><p>Add and document description fields (#25370)</p></li>
<li><p>Improve Airflow logging for operator Jinja template processing (#25452)</p></li>
<li><p>Update core example DAGs to use <code class="docutils literal notranslate"><span class="pre">&#64;task.branch</span></code> decorator (#25242)</p></li>
<li><p>Update DAG <code class="docutils literal notranslate"><span class="pre">audit_log</span></code> route (#25415)</p></li>
<li><p>Change stdout and stderr access mode to append in commands (#25253)</p></li>
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">getTasks</span></code> from Grid view (#25359)</p></li>
<li><p>Improve taskflow type hints with ParamSpec (#25173)</p></li>
<li><p>Use tables in grid details panes (#25258)</p></li>
<li><p>Explicitly list <code class="docutils literal notranslate"><span class="pre">&#64;dag</span></code> arguments (#25044)</p></li>
<li><p>More typing in <code class="docutils literal notranslate"><span class="pre">SchedulerJob</span></code> and <code class="docutils literal notranslate"><span class="pre">TaskInstance</span></code> (#24912)</p></li>
<li><p>Patch <code class="docutils literal notranslate"><span class="pre">getfqdn</span></code> with more resilient version (#24981)</p></li>
<li><p>Replace all <code class="docutils literal notranslate"><span class="pre">NBSP</span></code> characters by <code class="docutils literal notranslate"><span class="pre">whitespaces</span></code> (#24797)</p></li>
<li><p>Re-serialize all DAGs on <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">db</span> <span class="pre">upgrade</span></code> (#24518)</p></li>
<li><p>Rework contract of try_adopt_task_instances method (#23188)</p></li>
<li><p>Make <code class="docutils literal notranslate"><span class="pre">expand()</span></code> error vague so it’s not misleading (#24018)</p></li>
<li><p>Add enum validation for <code class="docutils literal notranslate"><span class="pre">[webserver]analytics_tool</span></code> (#24032)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">dttm</span></code> searchable field in audit log (#23794)</p></li>
<li><p>Allow more parameters to be piped through via <code class="docutils literal notranslate"><span class="pre">execute_in_subprocess</span></code> (#23286)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">func.count</span></code> to count rows (#23657)</p></li>
<li><p>Remove stale serialized dags (#22917)</p></li>
<li><p>AIP45 Remove dag parsing in airflow run local (#21877)</p></li>
<li><p>Add support for queued state in DagRun update endpoint. (#23481)</p></li>
<li><p>Add fields to dagrun endpoint (#23440)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">sql_alchemy_conn</span></code> for celery result backend when <code class="docutils literal notranslate"><span class="pre">result_backend</span></code> is not set (#24496)</p></li>
</ul>
</section>
<section id="id128">
<h3>Bug Fixes<a class="headerlink" href="#id128" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Have consistent types between the ORM and the migration files (#24044, #25869)</p></li>
<li><p>Disallow any dag tags longer than 100 char (#25196)</p></li>
<li><p>Add the dag_id to <code class="docutils literal notranslate"><span class="pre">AirflowDagCycleException</span></code> message (#26204)</p></li>
<li><p>Properly build URL to retrieve logs independently from system (#26337)</p></li>
<li><p>For worker log servers only bind to IPV6 when dual stack is available (#26222)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">TaskInstance.task</span></code> not defined before <code class="docutils literal notranslate"><span class="pre">handle_failure</span></code> (#26040)</p></li>
<li><p>Undo secrets backend config caching (#26223)</p></li>
<li><p>Fix faulty executor config serialization logic (#26191)</p></li>
<li><p>Show <code class="docutils literal notranslate"><span class="pre">DAGs</span></code> and <code class="docutils literal notranslate"><span class="pre">Datasets</span></code> menu links based on role permission (#26183)</p></li>
<li><p>Allow setting <code class="docutils literal notranslate"><span class="pre">TaskGroup</span></code> tooltip via function docstring (#26028)</p></li>
<li><p>Fix RecursionError on graph view of a DAG with many tasks (#26175)</p></li>
<li><p>Fix backfill occasional deadlocking (#26161)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">DagRun.start_date</span></code> not set during backfill with <code class="docutils literal notranslate"><span class="pre">--reset-dagruns</span></code> True (#26135)</p></li>
<li><p>Use label instead of id for dynamic task labels in graph (#26108)</p></li>
<li><p>Don’t fail DagRun when leaf <code class="docutils literal notranslate"><span class="pre">mapped_task</span></code> is SKIPPED (#25995)</p></li>
<li><p>Add group prefix to decorated mapped task (#26081)</p></li>
<li><p>Fix UI flash when triggering with dup logical date (#26094)</p></li>
<li><p>Fix Make items nullable for <code class="docutils literal notranslate"><span class="pre">TaskInstance</span></code> related endpoints to avoid API errors (#26076)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">BranchDateTimeOperator</span></code> to be <code class="docutils literal notranslate"><span class="pre">timezone-awreness-insensitive</span></code> (#25944)</p></li>
<li><p>Fix legacy timetable schedule interval params (#25999)</p></li>
<li><p>Fix response schema for <code class="docutils literal notranslate"><span class="pre">list-mapped-task-instance</span></code> (#25965)</p></li>
<li><p>Properly check the existence of missing mapped TIs (#25788)</p></li>
<li><p>Fix broken auto-refresh on grid view (#25950)</p></li>
<li><p>Use per-timetable ordering in grid UI (#25880)</p></li>
<li><p>Rewrite recursion when parsing DAG into iteration (#25898)</p></li>
<li><p>Find cross-group tasks in <code class="docutils literal notranslate"><span class="pre">iter_mapped_dependants</span></code> (#25793)</p></li>
<li><p>Fail task if mapping upstream fails (#25757)</p></li>
<li><p>Support <code class="docutils literal notranslate"><span class="pre">/</span></code> in variable get endpoint (#25774)</p></li>
<li><p>Use cfg default_wrap value for grid logs (#25731)</p></li>
<li><p>Add origin request args when triggering a run (#25729)</p></li>
<li><p>Operator name separate from class (#22834)</p></li>
<li><p>Fix incorrect data interval alignment due to assumption on input time alignment (#22658)</p></li>
<li><p>Return None if an <code class="docutils literal notranslate"><span class="pre">XComArg</span></code> fails to resolve (#25661)</p></li>
<li><p>Correct <code class="docutils literal notranslate"><span class="pre">json</span></code> arg help in <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">variables</span> <span class="pre">set</span></code> command (#25726)</p></li>
<li><p>Added MySQL index hint to use <code class="docutils literal notranslate"><span class="pre">ti_state</span></code> on <code class="docutils literal notranslate"><span class="pre">find_zombies</span></code> query (#25725)</p></li>
<li><p>Only excluded actually expanded fields from render (#25599)</p></li>
<li><p>Grid, fix toast for <code class="docutils literal notranslate"><span class="pre">axios</span></code> errors (#25703)</p></li>
<li><p>Fix UI redirect (#26409)</p></li>
<li><p>Require dag_id arg for dags list-runs (#26357)</p></li>
<li><p>Check for queued states for dags auto-refresh (#25695)</p></li>
<li><p>Fix upgrade code for the <code class="docutils literal notranslate"><span class="pre">dag_owner_attributes</span></code> table (#25579)</p></li>
<li><p>Add map index to task logs api (#25568)</p></li>
<li><p>Ensure that zombie tasks for dags with errors get cleaned up (#25550)</p></li>
<li><p>Make extra link work in UI (#25500)</p></li>
<li><p>Sync up plugin API schema and definition (#25524)</p></li>
<li><p>First/last names can be empty (#25476)</p></li>
<li><p>Refactor DAG pages to be consistent (#25402)</p></li>
<li><p>Check <code class="docutils literal notranslate"><span class="pre">expand_kwargs()</span></code> input type before unmapping (#25355)</p></li>
<li><p>Filter XCOM by key when calculating map lengths (#24530)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">ExternalTaskSensor</span></code> not working with dynamic task (#25215)</p></li>
<li><p>Added exception catching to send default email if template file raises any exception (#24943)</p></li>
<li><p>Bring <code class="docutils literal notranslate"><span class="pre">MappedOperator</span></code> members in sync with <code class="docutils literal notranslate"><span class="pre">BaseOperator</span></code> (#24034)</p></li>
</ul>
</section>
<section id="id129">
<h3>Misc/Internal<a class="headerlink" href="#id129" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add automatically generated <code class="docutils literal notranslate"><span class="pre">ERD</span></code> schema for the <code class="docutils literal notranslate"><span class="pre">MetaData</span></code> DB (#26217)</p></li>
<li><p>Mark serialization functions as internal (#26193)</p></li>
<li><p>Remove remaining deprecated classes and replace them with <code class="docutils literal notranslate"><span class="pre">PEP562</span></code> (#26167)</p></li>
<li><p>Move <code class="docutils literal notranslate"><span class="pre">dag_edges</span></code> and <code class="docutils literal notranslate"><span class="pre">task_group_to_dict</span></code> to corresponding util modules (#26212)</p></li>
<li><p>Lazily import many modules to improve import speed (#24486, #26239)</p></li>
<li><p>FIX Incorrect typing information (#26077)</p></li>
<li><p>Add missing contrib classes to deprecated dictionaries (#26179)</p></li>
<li><p>Re-configure/connect the <code class="docutils literal notranslate"><span class="pre">ORM</span></code> after forking to run a DAG processor (#26216)</p></li>
<li><p>Remove cattrs from lineage processing. (#26134)</p></li>
<li><p>Removed deprecated contrib files and replace them with <code class="docutils literal notranslate"><span class="pre">PEP-562</span></code> getattr (#26153)</p></li>
<li><p>Make <code class="docutils literal notranslate"><span class="pre">BaseSerialization.serialize</span></code> “public” to other classes. (#26142)</p></li>
<li><p>Change the template to use human readable task_instance description (#25960)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">moment-timezone</span></code> from <code class="docutils literal notranslate"><span class="pre">0.5.34</span></code> to <code class="docutils literal notranslate"><span class="pre">0.5.35</span></code> in <code class="docutils literal notranslate"><span class="pre">/airflow/www</span></code> (#26080)</p></li>
<li><p>Fix Flask deprecation warning (#25753)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">CamelCase</span></code> to generated operations types (#25887)</p></li>
<li><p>Fix migration issues and tighten the CI upgrade/downgrade test (#25869)</p></li>
<li><p>Fix type annotations in <code class="docutils literal notranslate"><span class="pre">SkipMixin</span></code> (#25864)</p></li>
<li><p>Workaround setuptools editable packages path issue (#25848)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">undici</span></code> from <code class="docutils literal notranslate"><span class="pre">5.8.0</span> <span class="pre">to</span> <span class="pre">5.9.1</span></code> in /airflow/www (#25801)</p></li>
<li><p>Add custom_operator_name attr to <code class="docutils literal notranslate"><span class="pre">_BranchPythonDecoratedOperator</span></code> (#25783)</p></li>
<li><p>Clarify <code class="docutils literal notranslate"><span class="pre">filename_template</span></code> deprecation message (#25749)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">ParamSpec</span></code> to replace <code class="docutils literal notranslate"><span class="pre">...</span></code> in Callable (#25658)</p></li>
<li><p>Remove deprecated modules (#25543)</p></li>
<li><p>Documentation on task mapping additions (#24489)</p></li>
<li><p>Remove Smart Sensors (#25507)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">elasticsearch</span></code> test config to avoid warning on deprecated template (#25520)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">terser</span></code> from <code class="docutils literal notranslate"><span class="pre">4.8.0</span> <span class="pre">to</span> <span class="pre">4.8.1</span></code> in /airflow/ui (#25178)</p></li>
<li><p>Generate <code class="docutils literal notranslate"><span class="pre">typescript</span></code> types from rest <code class="docutils literal notranslate"><span class="pre">API</span></code> docs (#25123)</p></li>
<li><p>Upgrade utils files to <code class="docutils literal notranslate"><span class="pre">typescript</span></code> (#25089)</p></li>
<li><p>Upgrade remaining context file to <code class="docutils literal notranslate"><span class="pre">typescript</span></code>. (#25096)</p></li>
<li><p>Migrate files to <code class="docutils literal notranslate"><span class="pre">ts</span></code> (#25267)</p></li>
<li><p>Upgrade grid Table component to <code class="docutils literal notranslate"><span class="pre">ts.</span></code> (#25074)</p></li>
<li><p>Skip mapping against mapped <code class="docutils literal notranslate"><span class="pre">ti</span></code> if it returns None (#25047)</p></li>
<li><p>Refactor <code class="docutils literal notranslate"><span class="pre">js</span></code> file structure (#25003)</p></li>
<li><p>Move mapped kwargs introspection to separate type (#24971)</p></li>
<li><p>Only assert stuff for mypy when type checking (#24937)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">moment</span></code> from <code class="docutils literal notranslate"><span class="pre">2.29.3</span> <span class="pre">to</span> <span class="pre">2.29.4</span></code> in <code class="docutils literal notranslate"><span class="pre">/airflow/www</span></code> (#24885)</p></li>
<li><p>Remove “bad characters” from our codebase (#24841)</p></li>
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">xcom_push</span></code> flag from <code class="docutils literal notranslate"><span class="pre">BashOperator</span></code> (#24824)</p></li>
<li><p>Move Flask hook registration to end of file (#24776)</p></li>
<li><p>Upgrade more javascript files to <code class="docutils literal notranslate"><span class="pre">typescript</span></code> (#24715)</p></li>
<li><p>Clean up task decorator type hints and docstrings (#24667)</p></li>
<li><p>Preserve original order of providers’ connection extra fields in UI (#24425)</p></li>
<li><p>Rename <code class="docutils literal notranslate"><span class="pre">charts.css</span></code> to <code class="docutils literal notranslate"><span class="pre">chart.css</span></code> (#24531)</p></li>
<li><p>Rename <code class="docutils literal notranslate"><span class="pre">grid.css</span></code> to <code class="docutils literal notranslate"><span class="pre">chart.css</span></code> (#24529)</p></li>
<li><p>Misc: create new process group by <code class="docutils literal notranslate"><span class="pre">set_new_process_group</span></code> utility (#24371)</p></li>
<li><p>Airflow UI fix Prototype Pollution (#24201)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">moto</span></code> version (#24222)</p></li>
<li><p>Remove unused <code class="docutils literal notranslate"><span class="pre">[github_enterprise]</span></code> from ref docs (#24033)</p></li>
<li><p>Clean up <code class="docutils literal notranslate"><span class="pre">f-strings</span></code> in logging calls (#23597)</p></li>
<li><p>Add limit for <code class="docutils literal notranslate"><span class="pre">JPype1</span></code> (#23847)</p></li>
<li><p>Simply json responses (#25518)</p></li>
<li><p>Add min attrs version (#26408)</p></li>
</ul>
</section>
<section id="id130">
<h3>Doc only changes<a class="headerlink" href="#id130" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add url prefix setting for <code class="docutils literal notranslate"><span class="pre">Celery</span></code> Flower (#25986)</p></li>
<li><p>Updating deprecated configuration in examples (#26037)</p></li>
<li><p>Fix wrong link for taskflow tutorial (#26007)</p></li>
<li><p>Reorganize tutorials into a section (#25890)</p></li>
<li><p>Fix concept doc for dynamic task map (#26002)</p></li>
<li><p>Update code examples from “classic” operators to taskflow (#25845, #25657)</p></li>
<li><p>Add instructions on manually fixing <code class="docutils literal notranslate"><span class="pre">MySQL</span></code> Charset problems (#25938)</p></li>
<li><p>Prefer the local Quick Start in docs (#25888)</p></li>
<li><p>Fix broken link to <code class="docutils literal notranslate"><span class="pre">Trigger</span> <span class="pre">Rules</span></code> (#25840)</p></li>
<li><p>Improve docker documentation (#25735)</p></li>
<li><p>Correctly link to Dag parsing context in docs (#25722)</p></li>
<li><p>Add note on <code class="docutils literal notranslate"><span class="pre">task_instance_mutation_hook</span></code> usage (#25607)</p></li>
<li><p>Note that TaskFlow API automatically passes data between tasks (#25577)</p></li>
<li><p>Update DAG run to clarify when a DAG actually runs (#25290)</p></li>
<li><p>Update tutorial docs to include a definition of operators (#25012)</p></li>
<li><p>Rewrite the Airflow documentation home page (#24795)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">task-generated</span> <span class="pre">mapping</span></code> example (#23424)</p></li>
<li><p>Add note on subtle logical date change in <code class="docutils literal notranslate"><span class="pre">2.2.0</span></code> (#24413)</p></li>
<li><p>Add missing import in best-practices code example (#25391)</p></li>
</ul>
</section>
</section>
<section id="airflow-2-3-4-2022-08-23">
<h2><a class="toc-backref" href="#id247" role="doc-backlink">Airflow 2.3.4 (2022-08-23)</a><a class="headerlink" href="#airflow-2-3-4-2022-08-23" title="Link to this heading">¶</a></h2>
<section id="id131">
<h3>Significant Changes<a class="headerlink" href="#id131" title="Link to this heading">¶</a></h3>
<section id="added-new-config-logging-log-formatter-class-to-fix-timezone-display-for-logs-on-ui-24811">
<h4>Added new config <code class="docutils literal notranslate"><span class="pre">[logging]log_formatter_class</span></code> to fix timezone display for logs on UI (#24811)<a class="headerlink" href="#added-new-config-logging-log-formatter-class-to-fix-timezone-display-for-logs-on-ui-24811" title="Link to this heading">¶</a></h4>
<p>If you are using a custom Formatter subclass in your <code class="docutils literal notranslate"><span class="pre">[logging]logging_config_class</span></code>, please inherit from <code class="docutils literal notranslate"><span class="pre">airflow.utils.log.timezone_aware.TimezoneAware</span></code> instead of <code class="docutils literal notranslate"><span class="pre">logging.Formatter</span></code>.
For example, in your <code class="docutils literal notranslate"><span class="pre">custom_config.py</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">airflow.utils.log.timezone_aware</span><span class="w"> </span><span class="kn">import</span> <span class="n">TimezoneAware</span>


<span class="c1"># before</span>
<span class="k">class</span><span class="w"> </span><span class="nc">YourCustomFormatter</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">):</span> <span class="o">...</span>


<span class="c1"># after</span>
<span class="k">class</span><span class="w"> </span><span class="nc">YourCustomFormatter</span><span class="p">(</span><span class="n">TimezoneAware</span><span class="p">):</span> <span class="o">...</span>


<span class="n">AIRFLOW_FORMATTER</span> <span class="o">=</span> <span class="n">LOGGING_CONFIG</span><span class="p">[</span><span class="s2">&quot;formatters&quot;</span><span class="p">][</span><span class="s2">&quot;airflow&quot;</span><span class="p">]</span>
<span class="n">AIRFLOW_FORMATTER</span><span class="p">[</span><span class="s2">&quot;class&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;somewhere.your.custom_config.YourCustomFormatter&quot;</span>
<span class="c1"># or use TimezoneAware class directly. If you don&#39;t have custom Formatter.</span>
<span class="n">AIRFLOW_FORMATTER</span><span class="p">[</span><span class="s2">&quot;class&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;airflow.utils.log.timezone_aware.TimezoneAware&quot;</span>
</pre></div>
</div>
</section>
</section>
<section id="id132">
<h3>Bug Fixes<a class="headerlink" href="#id132" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Disable <code class="docutils literal notranslate"><span class="pre">attrs</span></code> state management on <code class="docutils literal notranslate"><span class="pre">MappedOperator</span></code> (#24772)</p></li>
<li><p>Serialize <code class="docutils literal notranslate"><span class="pre">pod_override</span></code> to JSON before pickling <code class="docutils literal notranslate"><span class="pre">executor_config</span></code> (#24356)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">pid</span></code> check (#24636)</p></li>
<li><p>Rotate session id during login (#25771)</p></li>
<li><p>Fix mapped sensor with reschedule mode (#25594)</p></li>
<li><p>Cache the custom secrets backend so the same instance gets reused (#25556)</p></li>
<li><p>Add right padding (#25554)</p></li>
<li><p>Fix reducing mapped length of a mapped task at runtime after a clear (#25531)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">db</span> <span class="pre">reset</span></code> when dangling tables exist (#25441)</p></li>
<li><p>Change <code class="docutils literal notranslate"><span class="pre">disable_verify_ssl</span></code> behaviour (#25023)</p></li>
<li><p>Set default task group in dag.add_task method (#25000)</p></li>
<li><p>Removed interfering force of index. (#25404)</p></li>
<li><p>Remove useless logging line (#25347)</p></li>
<li><p>Adding mysql index hint to use index on <code class="docutils literal notranslate"><span class="pre">task_instance.state</span></code> in critical section query (#25673)</p></li>
<li><p>Configurable umask to all daemonized processes. (#25664)</p></li>
<li><p>Fix the errors raised when None is passed to template filters (#25593)</p></li>
<li><p>Allow wildcarded CORS origins (#25553)</p></li>
<li><p>Fix “This Session’s transaction has been rolled back” (#25532)</p></li>
<li><p>Fix Serialization error in <code class="docutils literal notranslate"><span class="pre">TaskCallbackRequest</span></code> (#25471)</p></li>
<li><p>fix - resolve bash by absolute path (#25331)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">__repr__</span></code> to ParamsDict class (#25305)</p></li>
<li><p>Only load distribution of a name once (#25296)</p></li>
<li><p>convert <code class="docutils literal notranslate"><span class="pre">TimeSensorAsync</span></code> <code class="docutils literal notranslate"><span class="pre">target_time</span></code> to utc on call time (#25221)</p></li>
<li><p>call <code class="docutils literal notranslate"><span class="pre">updateNodeLabels</span></code> after <code class="docutils literal notranslate"><span class="pre">expandGroup</span></code> (#25217)</p></li>
<li><p>Stop SLA callbacks gazumping other callbacks and DOS’ing the <code class="docutils literal notranslate"><span class="pre">DagProcessorManager</span></code> queue (#25147)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">invalidateQueries</span></code> call (#25097)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow/www/package.json</span></code>: Add name, version fields. (#25065)</p></li>
<li><p>No grid auto-refresh for backfill dag runs (#25042)</p></li>
<li><p>Fix tag link on dag detail page (#24918)</p></li>
<li><p>Fix zombie task handling with multiple schedulers (#24906)</p></li>
<li><p>Bind log server on worker to <code class="docutils literal notranslate"><span class="pre">IPv6</span></code> address (#24755) (#24846)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">%z</span></code> for <code class="docutils literal notranslate"><span class="pre">%(asctime)s</span></code> to fix timezone for logs on UI (#24811)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TriggerDagRunOperator.operator_extra_links</span></code> is attr (#24676)</p></li>
<li><p>Send DAG timeout callbacks to processor outside of <code class="docutils literal notranslate"><span class="pre">prohibit_commit</span></code> (#24366)</p></li>
<li><p>Don’t rely on current ORM structure for db clean command (#23574)</p></li>
<li><p>Clear next method when clearing TIs (#23929)</p></li>
<li><p>Two typing fixes (#25690)</p></li>
</ul>
</section>
<section id="id133">
<h3>Doc only changes<a class="headerlink" href="#id133" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Update set-up-database.rst (#24983)</p></li>
<li><p>Fix syntax in mysql setup documentation (#24893 (#24939)</p></li>
<li><p>Note how DAG policy works with default_args (#24804)</p></li>
<li><p>Update PythonVirtualenvOperator Howto (#24782)</p></li>
<li><p>Doc: Add hyperlinks to Github PRs for Release Notes (#24532)</p></li>
</ul>
</section>
<section id="id134">
<h3>Misc/Internal<a class="headerlink" href="#id134" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Remove depreciation warning when use default remote tasks logging handlers (#25764)</p></li>
<li><p>clearer method name in scheduler_job.py (#23702)</p></li>
<li><p>Bump cattrs version (#25689)</p></li>
<li><p>Include missing mention of <code class="docutils literal notranslate"><span class="pre">external_executor_id</span></code> in <code class="docutils literal notranslate"><span class="pre">sql_engine_collation_for_ids</span></code> docs (#25197)</p></li>
<li><p>Refactor <code class="docutils literal notranslate"><span class="pre">DR.task_instance_scheduling_decisions</span></code> (#24774)</p></li>
<li><p>Sort operator extra links (#24992)</p></li>
<li><p>Extends <code class="docutils literal notranslate"><span class="pre">resolve_xcom_backend</span></code> function level documentation (#24965)</p></li>
<li><p>Upgrade FAB to 4.1.3 (#24884)</p></li>
<li><p>Limit Flask to &lt;2.3 in the wake of 2.2 breaking our tests (#25511)</p></li>
<li><p>Limit astroid version to &lt; 2.12 (#24982)</p></li>
<li><p>Move javascript compilation to host (#25169)</p></li>
<li><p>Bump typing-extensions and mypy for ParamSpec (#25088)</p></li>
</ul>
</section>
</section>
<section id="airflow-2-3-3-2022-07-09">
<h2><a class="toc-backref" href="#id248" role="doc-backlink">Airflow 2.3.3 (2022-07-09)</a><a class="headerlink" href="#airflow-2-3-3-2022-07-09" title="Link to this heading">¶</a></h2>
<section id="id135">
<h3>Significant Changes<a class="headerlink" href="#id135" title="Link to this heading">¶</a></h3>
<section id="we-ve-upgraded-flask-app-builder-to-a-major-version-4-24399">
<h4>We’ve upgraded Flask App Builder to a major version 4.* (#24399)<a class="headerlink" href="#we-ve-upgraded-flask-app-builder-to-a-major-version-4-24399" title="Link to this heading">¶</a></h4>
<p>Flask App Builder is one of the important components of Airflow Webserver, as
it uses a lot of dependencies that are essential to run the webserver and integrate it
in enterprise environments - especially authentication.</p>
<p>The FAB 4.* upgrades a number of dependencies to major releases, which upgrades them to versions
that have a number of security issues fixed. A lot of tests were performed to bring the dependencies
in a backwards-compatible way, however the dependencies themselves implement breaking changes in their
internals so it might be that some of those changes might impact the users in case they are using the
libraries for their own purposes.</p>
<p>One important change that you likely will need to apply to Oauth configuration is to add
<code class="docutils literal notranslate"><span class="pre">server_metadata_url</span></code> or <code class="docutils literal notranslate"><span class="pre">jwks_uri</span></code> and you can read about it more
in <a class="reference external" href="https://github.com/dpgaspar/Flask-AppBuilder/issues/1861">this issue</a>.</p>
<p>Here is the list of breaking changes in dependencies that comes together with FAB 4:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Flask</span></code> from 1.X to 2.X <a class="reference external" href="https://flask.palletsprojects.com/en/2.0.x/changes/#version-2-0-0">breaking changes</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">flask-jwt-extended</span></code> 3.X to 4.X <a class="reference external" href="https://flask-jwt-extended.readthedocs.io/en/stable/v4_upgrade_guide/">breaking changes:</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Jinja2</span></code> 2.X to 3.X <a class="reference external" href="https://jinja.palletsprojects.com/en/3.0.x/changes/#version-3-0-0">breaking changes:</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Werkzeug</span></code> 1.X to 2.X <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.0.x/changes/#version-2-0-0">breaking changes</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pyJWT</span></code> 1.X to 2.X <a class="reference external" href="https://pyjwt.readthedocs.io/en/stable/changelog.html#v2-0-0">breaking changes:</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Click</span></code> 7.X to 8.X <a class="reference external" href="https://click.palletsprojects.com/en/8.0.x/changes/#version-8-0-0">breaking changes:</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">itsdangerous</span></code> 1.X to 2.X <a class="reference external" href="https://github.com/pallets/itsdangerous/blob/main/CHANGES.rst#version-200">breaking changes</a></p></li>
</ul>
</div></blockquote>
</section>
</section>
<section id="id136">
<h3>Bug Fixes<a class="headerlink" href="#id136" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix exception in mini task scheduler (#24865)</p></li>
<li><p>Fix cycle bug with attaching label to task group (#24847)</p></li>
<li><p>Fix timestamp defaults for <code class="docutils literal notranslate"><span class="pre">sensorinstance</span></code> (#24638)</p></li>
<li><p>Move fallible <code class="docutils literal notranslate"><span class="pre">ti.task.dag</span></code> assignment back inside <code class="docutils literal notranslate"><span class="pre">try/except</span></code> block (#24533) (#24592)</p></li>
<li><p>Add missing types to <code class="docutils literal notranslate"><span class="pre">FSHook</span></code> (#24470)</p></li>
<li><p>Mask secrets in <code class="docutils literal notranslate"><span class="pre">stdout</span></code> for <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">tasks</span> <span class="pre">test</span></code> (#24362)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DebugExecutor</span></code> use <code class="docutils literal notranslate"><span class="pre">ti.run()</span></code> instead of <code class="docutils literal notranslate"><span class="pre">ti._run_raw_task</span></code> (#24357)</p></li>
<li><p>Fix bugs in <code class="docutils literal notranslate"><span class="pre">URI</span></code> constructor for <code class="docutils literal notranslate"><span class="pre">MySQL</span></code> connection (#24320)</p></li>
<li><p>Missing <code class="docutils literal notranslate"><span class="pre">scheduleinterval</span></code> nullable true added in <code class="docutils literal notranslate"><span class="pre">openapi</span></code> (#24253)</p></li>
<li><p>Unify <code class="docutils literal notranslate"><span class="pre">return_code</span></code> interface for task runner (#24093)</p></li>
<li><p>Handle occasional deadlocks in trigger with retries (#24071)</p></li>
<li><p>Remove special serde logic for mapped <code class="docutils literal notranslate"><span class="pre">op_kwargs</span></code> (#23860)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ExternalTaskSensor</span></code> respects <code class="docutils literal notranslate"><span class="pre">soft_fail</span></code> if the external task enters a <code class="docutils literal notranslate"><span class="pre">failed_state</span></code> (#23647)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">StatD</span></code> timing metric units (#21106)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">cache_ok</span></code> flag to sqlalchemy TypeDecorators. (#24499)</p></li>
<li><p>Allow for <code class="docutils literal notranslate"><span class="pre">LOGGING_LEVEL=DEBUG</span></code> (#23360)</p></li>
<li><p>Fix grid date ticks (#24738)</p></li>
<li><p>Debounce status highlighting in Grid view (#24710)</p></li>
<li><p>Fix Grid vertical scrolling (#24684)</p></li>
<li><p>don’t try to render child rows for closed groups (#24637)</p></li>
<li><p>Do not calculate grid root instances (#24528)</p></li>
<li><p>Maintain grid view selection on filtering upstream (#23779)</p></li>
<li><p>Speed up <code class="docutils literal notranslate"><span class="pre">grid_data</span></code> endpoint by 10x (#24284)</p></li>
<li><p>Apply per-run log templates to log handlers (#24153)</p></li>
<li><p>Don’t crash scheduler if exec config has old k8s objects (#24117)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TI.log_url</span></code> fix for <code class="docutils literal notranslate"><span class="pre">map_index</span></code> (#24335)</p></li>
<li><p>Fix migration <code class="docutils literal notranslate"><span class="pre">0080_2_0_2</span></code> - Replace null values before setting column not null (#24585)</p></li>
<li><p>Patch <code class="docutils literal notranslate"><span class="pre">sql_alchemy_conn</span></code> if old Postgres schemes used (#24569)</p></li>
<li><p>Seed <code class="docutils literal notranslate"><span class="pre">log_template</span></code> table (#24511)</p></li>
<li><p>Fix deprecated <code class="docutils literal notranslate"><span class="pre">log_id_template</span></code> value (#24506)</p></li>
<li><p>Fix toast messages (#24505)</p></li>
<li><p>Add indexes for CASCADE deletes for <code class="docutils literal notranslate"><span class="pre">task_instance</span></code> (#24488)</p></li>
<li><p>Return empty dict if Pod JSON encoding fails (#24478)</p></li>
<li><p>Improve grid rendering performance with a custom tooltip (#24417, #24449)</p></li>
<li><p>Check for <code class="docutils literal notranslate"><span class="pre">run_id</span></code> for grid group summaries (#24327)</p></li>
<li><p>Optimize calendar view for cron scheduled DAGs (#24262)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">get_hostname</span></code> instead of <code class="docutils literal notranslate"><span class="pre">socket.getfqdn</span></code> (#24260)</p></li>
<li><p>Check that edge nodes actually exist (#24166)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">useTasks</span></code> crash on error (#24152)</p></li>
<li><p>Do not fail re-queued TIs (#23846)</p></li>
<li><p>Reduce grid view API calls (#24083)</p></li>
<li><p>Rename Permissions to Permission Pairs. (#24065)</p></li>
<li><p>Replace <code class="docutils literal notranslate"><span class="pre">use_task_execution_date</span></code> with <code class="docutils literal notranslate"><span class="pre">use_task_logical_date</span></code> (#23983)</p></li>
<li><p>Grid fix details button truncated and small UI tweaks (#23934)</p></li>
<li><p>Add TaskInstance State <code class="docutils literal notranslate"><span class="pre">REMOVED</span></code> to finished states and success states (#23797)</p></li>
<li><p>Fix mapped task immutability after clear (#23667)</p></li>
<li><p>Fix permission issue for dag that has dot in name (#23510)</p></li>
<li><p>Fix closing connection <code class="docutils literal notranslate"><span class="pre">dbapi.get_pandas_df</span></code> (#23452)</p></li>
<li><p>Check bag DAG <code class="docutils literal notranslate"><span class="pre">schedule_interval</span></code> match timetable (#23113)</p></li>
<li><p>Parse error for task added to multiple groups (#23071)</p></li>
<li><p>Fix flaky order of returned dag runs (#24405)</p></li>
<li><p>Migrate <code class="docutils literal notranslate"><span class="pre">jsx</span></code> files that affect run/task selection to <code class="docutils literal notranslate"><span class="pre">tsx</span></code> (#24509)</p></li>
<li><p>Fix links to sources for examples (#24386)</p></li>
<li><p>Set proper <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> and <code class="docutils literal notranslate"><span class="pre">chartset</span></code> on <code class="docutils literal notranslate"><span class="pre">grid_data</span></code> endpoint (#24375)</p></li>
</ul>
</section>
<section id="id137">
<h3>Doc only changes<a class="headerlink" href="#id137" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Update templates doc to mention <code class="docutils literal notranslate"><span class="pre">extras</span></code> and format Airflow <code class="docutils literal notranslate"><span class="pre">Vars</span></code> / <code class="docutils literal notranslate"><span class="pre">Conns</span></code> (#24735)</p></li>
<li><p>Document built in Timetables (#23099)</p></li>
<li><p>Alphabetizes two tables (#23923)</p></li>
<li><p>Clarify that users should not use Maria DB (#24556)</p></li>
<li><p>Add imports to deferring code samples (#24544)</p></li>
<li><p>Add note about image regeneration in June 2022 (#24524)</p></li>
<li><p>Small cleanup of <code class="docutils literal notranslate"><span class="pre">get_current_context()</span></code> chapter (#24482)</p></li>
<li><p>Fix default 2.2.5 <code class="docutils literal notranslate"><span class="pre">log_id_template</span></code> (#24455)</p></li>
<li><p>Update description of installing providers separately from core (#24454)</p></li>
<li><p>Mention context variables and logging (#24304)</p></li>
</ul>
</section>
<section id="id138">
<h3>Misc/Internal<a class="headerlink" href="#id138" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Remove internet explorer support (#24495)</p></li>
<li><p>Removing magic status code numbers from <code class="docutils literal notranslate"><span class="pre">api_connexion</span></code> (#24050)</p></li>
<li><p>Upgrade FAB to <code class="docutils literal notranslate"><span class="pre">4.1.2</span></code> (#24619)</p></li>
<li><p>Switch Markdown engine to <code class="docutils literal notranslate"><span class="pre">markdown-it-py</span></code> (#19702)</p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">rich</span></code> to latest version across the board. (#24186)</p></li>
<li><p>Get rid of <code class="docutils literal notranslate"><span class="pre">TimedJSONWebSignatureSerializer</span></code> (#24519)</p></li>
<li><p>Update flask-appbuilder <code class="docutils literal notranslate"><span class="pre">authlib</span></code>/ <code class="docutils literal notranslate"><span class="pre">oauth</span></code> dependency (#24516)</p></li>
<li><p>Upgrade to <code class="docutils literal notranslate"><span class="pre">webpack</span></code> 5 (#24485)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">typescript</span></code> (#24337)</p></li>
<li><p>The JWT claims in the request to retrieve logs have been standardized: we use <code class="docutils literal notranslate"><span class="pre">nbf</span></code> and <code class="docutils literal notranslate"><span class="pre">aud</span></code> claims for
maturity and audience of the requests. Also “filename” payload field is used to keep log name. (#24519)</p></li>
<li><p>Address all <code class="docutils literal notranslate"><span class="pre">yarn</span></code> test warnings (#24722)</p></li>
<li><p>Upgrade to react 18 and chakra 2 (#24430)</p></li>
<li><p>Refactor <code class="docutils literal notranslate"><span class="pre">DagRun.verify_integrity</span></code> (#24114)</p></li>
<li><p>Upgrade FAB to <code class="docutils literal notranslate"><span class="pre">4.1.1</span></code> (#24399)</p></li>
<li><p>We now need at least <code class="docutils literal notranslate"><span class="pre">Flask-WTF</span> <span class="pre">0.15</span></code> (#24621)</p></li>
</ul>
</section>
</section>
<section id="airflow-2-3-2-2022-06-04">
<h2><a class="toc-backref" href="#id249" role="doc-backlink">Airflow 2.3.2 (2022-06-04)</a><a class="headerlink" href="#airflow-2-3-2-2022-06-04" title="Link to this heading">¶</a></h2>
<p>No significant changes.</p>
<section id="id139">
<h3>Bug Fixes<a class="headerlink" href="#id139" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Run the <code class="docutils literal notranslate"><span class="pre">check_migration</span></code> loop at least once</p></li>
<li><p>Fix grid view for mapped tasks (#24059)</p></li>
<li><p>Icons in grid view for different DAG run types (#23970)</p></li>
<li><p>Faster grid view (#23951)</p></li>
<li><p>Disallow calling expand with no arguments (#23463)</p></li>
<li><p>Add missing <code class="docutils literal notranslate"><span class="pre">is_mapped</span></code> field to Task response. (#23319)</p></li>
<li><p>DagFileProcessorManager: Start a new process group only if current process not a session leader (#23872)</p></li>
<li><p>Mask sensitive values for not-yet-running TIs (#23807)</p></li>
<li><p>Add cascade to <code class="docutils literal notranslate"><span class="pre">dag_tag</span></code> to <code class="docutils literal notranslate"><span class="pre">dag</span></code> foreign key (#23444)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">--subdir</span></code> argument value for standalone dag processor. (#23864)</p></li>
<li><p>Highlight task states by hovering on legend row (#23678)</p></li>
<li><p>Fix and speed up grid view (#23947)</p></li>
<li><p>Prevent UI from crashing if grid task instances are null (#23939)</p></li>
<li><p>Remove redundant register exit signals in <code class="docutils literal notranslate"><span class="pre">dag-processor</span></code> command (#23886)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">__wrapped__</span></code> property to <code class="docutils literal notranslate"><span class="pre">_TaskDecorator</span></code> (#23830)</p></li>
<li><p>Fix UnboundLocalError when <code class="docutils literal notranslate"><span class="pre">sql</span></code> is empty list in DbApiHook (#23816)</p></li>
<li><p>Enable clicking on DAG owner in autocomplete dropdown (#23804)</p></li>
<li><p>Simplify flash message for <code class="docutils literal notranslate"><span class="pre">_airflow_moved</span></code> tables (#23635)</p></li>
<li><p>Exclude missing tasks from the gantt view (#23627)</p></li>
</ul>
</section>
<section id="id140">
<h3>Doc only changes<a class="headerlink" href="#id140" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add column names for DB Migration Reference (#23853)</p></li>
</ul>
</section>
<section id="id141">
<h3>Misc/Internal<a class="headerlink" href="#id141" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Remove pinning for xmltodict (#23992)</p></li>
</ul>
</section>
</section>
<section id="airflow-2-3-1-2022-05-25">
<h2><a class="toc-backref" href="#id250" role="doc-backlink">Airflow 2.3.1 (2022-05-25)</a><a class="headerlink" href="#airflow-2-3-1-2022-05-25" title="Link to this heading">¶</a></h2>
<section id="id142">
<h3>Significant Changes<a class="headerlink" href="#id142" title="Link to this heading">¶</a></h3>
<p>No significant changes.</p>
</section>
<section id="id143">
<h3>Bug Fixes<a class="headerlink" href="#id143" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Automatically reschedule stalled queued tasks in <code class="docutils literal notranslate"><span class="pre">CeleryExecutor</span></code> (#23690)</p></li>
<li><p>Fix expand/collapse all buttons (#23590)</p></li>
<li><p>Grid view status filters (#23392)</p></li>
<li><p>Expand/collapse all groups (#23487)</p></li>
<li><p>Fix retrieval of deprecated non-config values (#23723)</p></li>
<li><p>Fix secrets rendered in UI when task is not executed. (#22754)</p></li>
<li><p>Fix provider import error matching (#23825)</p></li>
<li><p>Fix regression in ignoring symlinks (#23535)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">dag-processor</span></code> fetch metadata database config (#23575)</p></li>
<li><p>Fix auto upstream dep when expanding non-templated field (#23771)</p></li>
<li><p>Fix task log is not captured (#23684)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">reschedule</span></code> to the serialized fields for the <code class="docutils literal notranslate"><span class="pre">BaseSensorOperator</span></code> (#23674)</p></li>
<li><p>Modify db clean to also catch the ProgrammingError exception (#23699)</p></li>
<li><p>Remove titles from link buttons (#23736)</p></li>
<li><p>Fix grid details header text overlap (#23728)</p></li>
<li><p>Ensure <code class="docutils literal notranslate"><span class="pre">execution_timeout</span></code> as timedelta (#23655)</p></li>
<li><p>Don’t run pre-migration checks for downgrade (#23634)</p></li>
<li><p>Add index for event column in log table (#23625)</p></li>
<li><p>Implement <code class="docutils literal notranslate"><span class="pre">send_callback</span></code> method for <code class="docutils literal notranslate"><span class="pre">CeleryKubernetesExecutor</span></code> and <code class="docutils literal notranslate"><span class="pre">LocalKubernetesExecutor</span></code> (#23617)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">PythonVirtualenvOperator</span></code> templated_fields (#23559)</p></li>
<li><p>Apply specific ID collation to <code class="docutils literal notranslate"><span class="pre">root_dag_id</span></code> too (#23536)</p></li>
<li><p>Prevent <code class="docutils literal notranslate"><span class="pre">KubernetesJobWatcher</span></code> getting stuck on resource too old (#23521)</p></li>
<li><p>Fix scheduler crash when expanding with mapped task that returned none (#23486)</p></li>
<li><p>Fix broken dagrun links when many runs start at the same time (#23462)</p></li>
<li><p>Fix: Exception when parsing log #20966 (#23301)</p></li>
<li><p>Handle invalid date parsing in webserver views. (#23161)</p></li>
<li><p>Pools with negative open slots should not block other pools (#23143)</p></li>
<li><p>Move around overflow, position and padding (#23044)</p></li>
<li><p>Change approach to finding bad rows to LEFT OUTER JOIN. (#23528)</p></li>
<li><p>Only count bad refs when <code class="docutils literal notranslate"><span class="pre">moved</span></code> table exists (#23491)</p></li>
<li><p>Visually distinguish task group summary (#23488)</p></li>
<li><p>Remove color change for highly nested groups (#23482)</p></li>
<li><p>Optimize 2.3.0 pre-upgrade check queries (#23458)</p></li>
<li><p>Add backward compatibility for <code class="docutils literal notranslate"><span class="pre">core__sql_alchemy_conn__cmd</span></code> (#23441)</p></li>
<li><p>Fix literal cross product expansion (#23434)</p></li>
<li><p>Fix broken task instance link in xcom list (#23367)</p></li>
<li><p>Fix connection test button (#23345)</p></li>
<li><p>fix cli <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">dags</span> <span class="pre">show</span></code> for mapped operator (#23339)</p></li>
<li><p>Hide some task instance attributes (#23338)</p></li>
<li><p>Don’t show grid actions if server would reject with permission denied (#23332)</p></li>
<li><p>Use run_id for <code class="docutils literal notranslate"><span class="pre">ti.mark_success_url</span></code> (#23330)</p></li>
<li><p>Fix update user auth stats (#23314)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">&lt;Time</span> <span class="pre">/&gt;</span></code> in Mapped Instance table (#23313)</p></li>
<li><p>Fix duplicated Kubernetes DeprecationWarnings (#23302)</p></li>
<li><p>Store grid view selection in url params (#23290)</p></li>
<li><p>Remove custom signal handling in Triggerer (#23274)</p></li>
<li><p>Override pool for TaskInstance when pool is passed from cli. (#23258)</p></li>
<li><p>Show warning if ‘/’ is used in a DAG run ID (#23106)</p></li>
<li><p>Use kubernetes queue in kubernetes hybrid executors (#23048)</p></li>
<li><p>Add tags inside try block. (#21784)</p></li>
</ul>
</section>
<section id="id144">
<h3>Doc only changes<a class="headerlink" href="#id144" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Move <code class="docutils literal notranslate"><span class="pre">dag_processing.processor_timeouts</span></code> to counters section (#23393)</p></li>
<li><p>Clarify that bundle extras should not be used for PyPi installs (#23697)</p></li>
<li><p>Synchronize support for Postgres and K8S in docs (#23673)</p></li>
<li><p>Replace DummyOperator references in docs (#23502)</p></li>
<li><p>Add doc notes for keyword-only args for <code class="docutils literal notranslate"><span class="pre">expand()</span></code> and <code class="docutils literal notranslate"><span class="pre">partial()</span></code> (#23373)</p></li>
<li><p>Document fix for broken elasticsearch logs with 2.3.0+ upgrade (#23821)</p></li>
</ul>
</section>
<section id="id145">
<h3>Misc/Internal<a class="headerlink" href="#id145" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add typing for airflow/configuration.py (#23716)</p></li>
<li><p>Disable Flower by default from docker-compose (#23685)</p></li>
<li><p>Added postgres 14 to support versions(including breeze) (#23506)</p></li>
<li><p>add K8S 1.24 support (#23637)</p></li>
<li><p>Refactor code references from tree to grid (#23254)</p></li>
</ul>
</section>
</section>
<section id="airflow-2-3-0-2022-04-30">
<h2><a class="toc-backref" href="#id251" role="doc-backlink">Airflow 2.3.0 (2022-04-30)</a><a class="headerlink" href="#airflow-2-3-0-2022-04-30" title="Link to this heading">¶</a></h2>
<p>For production docker image related changes, see the <a class="reference external" href="https://airflow.apache.org/docs/docker-stack/changelog.html">Docker Image Changelog</a>.</p>
<section id="id146">
<h3>Significant Changes<a class="headerlink" href="#id146" title="Link to this heading">¶</a></h3>
<section id="passing-execution-date-to-xcom-set-xcom-clear-xcom-get-one-and-xcom-get-many-is-deprecated-19825">
<h4>Passing <code class="docutils literal notranslate"><span class="pre">execution_date</span></code> to <code class="docutils literal notranslate"><span class="pre">XCom.set()</span></code>, <code class="docutils literal notranslate"><span class="pre">XCom.clear()</span></code> , <code class="docutils literal notranslate"><span class="pre">XCom.get_one()</span></code> , and <code class="docutils literal notranslate"><span class="pre">XCom.get_many()</span></code> is deprecated (#19825)<a class="headerlink" href="#passing-execution-date-to-xcom-set-xcom-clear-xcom-get-one-and-xcom-get-many-is-deprecated-19825" title="Link to this heading">¶</a></h4>
<p>Continuing the effort to bind TaskInstance to a DagRun, XCom entries are now also tied to a DagRun. Use the <code class="docutils literal notranslate"><span class="pre">run_id</span></code> argument to specify the DagRun instead.</p>
</section>
<section id="task-log-templates-are-now-read-from-the-metadata-database-instead-of-airflow-cfg-20165">
<h4>Task log templates are now read from the metadata database instead of <code class="docutils literal notranslate"><span class="pre">airflow.cfg</span></code> (#20165)<a class="headerlink" href="#task-log-templates-are-now-read-from-the-metadata-database-instead-of-airflow-cfg-20165" title="Link to this heading">¶</a></h4>
<p>Previously, a task’s log is dynamically rendered from the <code class="docutils literal notranslate"><span class="pre">[core]</span> <span class="pre">log_filename_template</span></code> and <code class="docutils literal notranslate"><span class="pre">[elasticsearch]</span> <span class="pre">log_id_template</span></code> config values at runtime. This resulted in unfortunate characteristics, e.g. it is impractical to modify the config value after an Airflow instance is running for a while, since all existing task logs have be saved under the previous format and cannot be found with the new config value.</p>
<p>A new <code class="docutils literal notranslate"><span class="pre">log_template</span></code> table is introduced to solve this problem. This table is synchronized with the aforementioned config values every time Airflow starts, and a new field <code class="docutils literal notranslate"><span class="pre">log_template_id</span></code> is added to every DAG run to point to the format used by tasks (<code class="docutils literal notranslate"><span class="pre">NULL</span></code> indicates the first ever entry for compatibility).</p>
</section>
<section id="minimum-kubernetes-library-version-bumped-from-3-0-0-to-21-7-0-20759">
<h4>Minimum kubernetes library version bumped from <code class="docutils literal notranslate"><span class="pre">3.0.0</span></code> to <code class="docutils literal notranslate"><span class="pre">21.7.0</span></code> (#20759)<a class="headerlink" href="#minimum-kubernetes-library-version-bumped-from-3-0-0-to-21-7-0-20759" title="Link to this heading">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is only about changing the <code class="docutils literal notranslate"><span class="pre">kubernetes</span></code> library, not the Kubernetes cluster. Airflow support for
Kubernetes version is described in <a class="reference external" href="https://airflow.apache.org/docs/apache-airflow/stable/installation/prerequisites.html">Installation prerequisites</a>.</p>
</div>
<p>No change in behavior is expected.  This was necessary in order to take advantage of a <a class="reference external" href="https://github.com/kubernetes-client/python-base/commit/70b78cd8488068c014b6d762a0c8d358273865b4">bugfix</a> concerning refreshing of Kubernetes API tokens with EKS, which enabled the removal of some <a class="reference external" href="https://github.com/apache/airflow/pull/20759">workaround code</a>.</p>
</section>
<section id="xcom-now-defined-by-run-id-instead-of-execution-date-20975">
<h4>XCom now defined by <code class="docutils literal notranslate"><span class="pre">run_id</span></code> instead of <code class="docutils literal notranslate"><span class="pre">execution_date</span></code> (#20975)<a class="headerlink" href="#xcom-now-defined-by-run-id-instead-of-execution-date-20975" title="Link to this heading">¶</a></h4>
<p>As a continuation to the TaskInstance-DagRun relation change started in Airflow 2.2, the <code class="docutils literal notranslate"><span class="pre">execution_date</span></code> columns on XCom has been removed from the database, and replaced by an <a class="reference external" href="https://docs.sqlalchemy.org/en/13/orm/extensions/associationproxy.html">association proxy</a> field at the ORM level. If you access Airflow’s metadata database directly, you should rewrite the implementation to use the <code class="docutils literal notranslate"><span class="pre">run_id</span></code> column instead.</p>
<p>Note that Airflow’s metadatabase definition on both the database and ORM levels are considered implementation detail without strict backward compatibility guarantees.</p>
</section>
<section id="non-json-serializable-params-deprecated-21135">
<h4>Non-JSON-serializable params deprecated (#21135).<a class="headerlink" href="#non-json-serializable-params-deprecated-21135" title="Link to this heading">¶</a></h4>
<p>It was previously possible to use dag or task param defaults that were not JSON-serializable.</p>
<p>For example this worked previously:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@dag</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">},</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="n">pendulum</span><span class="o">.</span><span class="n">now</span><span class="p">()})</span>
<span class="k">def</span><span class="w"> </span><span class="nf">datetime_param</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>


<span class="n">datetime_param</span><span class="p">(</span><span class="s2">&quot;{{ params.a }} | {{ params.b }}&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Note the use of <code class="docutils literal notranslate"><span class="pre">set</span></code> and <code class="docutils literal notranslate"><span class="pre">datetime</span></code> types, which are not JSON-serializable.  This behavior is problematic because to override these values in a dag run conf, you must use JSON, which could make these params non-overridable.  Another problem is that the support for param validation assumes JSON.  Use of non-JSON-serializable params will be removed in Airflow 3.0 and until then, use of them will produce a warning at parse time.</p>
</section>
<section id="you-must-use-postgresql-instead-of-postgres-in-sql-alchemy-conn-for-sqlalchemy-1-4-0-21205">
<h4>You must use <code class="docutils literal notranslate"><span class="pre">postgresql://</span></code> instead of <code class="docutils literal notranslate"><span class="pre">postgres://</span></code> in <code class="docutils literal notranslate"><span class="pre">sql_alchemy_conn</span></code> for SQLAlchemy 1.4.0+ (#21205)<a class="headerlink" href="#you-must-use-postgresql-instead-of-postgres-in-sql-alchemy-conn-for-sqlalchemy-1-4-0-21205" title="Link to this heading">¶</a></h4>
<p>When you use SQLAlchemy 1.4.0+, you need to use <code class="docutils literal notranslate"><span class="pre">postgresql://</span></code> as the scheme in the <code class="docutils literal notranslate"><span class="pre">sql_alchemy_conn</span></code>.
In the previous versions of SQLAlchemy it was possible to use <code class="docutils literal notranslate"><span class="pre">postgres://</span></code> , but using it in
SQLAlchemy 1.4.0+ results in:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span>       <span class="k">raise</span> <span class="n">exc</span><span class="o">.</span><span class="n">NoSuchModuleError</span><span class="p">(</span>
            <span class="s2">&quot;Can&#39;t load plugin: </span><span class="si">%s</span><span class="s2">:</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">group</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="p">)</span>
<span class="n">E</span>       <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">exc</span><span class="o">.</span><span class="n">NoSuchModuleError</span><span class="p">:</span> <span class="n">Can</span><span class="s1">&#39;t load plugin: sqlalchemy.dialects:postgres</span>
</pre></div>
</div>
<p>If you cannot change the scheme of your URL immediately, Airflow continues to work with SQLAlchemy
1.3 and you can downgrade SQLAlchemy, but we recommend updating the scheme.
Details in the <a class="reference external" href="https://docs.sqlalchemy.org/en/14/changelog/changelog_14.html#change-3687655465c25a39b968b4f5f6e9170b">SQLAlchemy Changelog</a>.</p>
</section>
<section id="auth-backends-replaces-auth-backend-configuration-setting-21472">
<h4><code class="docutils literal notranslate"><span class="pre">auth_backends</span></code> replaces <code class="docutils literal notranslate"><span class="pre">auth_backend</span></code> configuration setting (#21472)<a class="headerlink" href="#auth-backends-replaces-auth-backend-configuration-setting-21472" title="Link to this heading">¶</a></h4>
<p>Previously, only one backend was used to authorize use of the REST API. In 2.3 this was changed to support multiple backends, separated by comma. Each will be tried in turn until a successful response is returned.</p>
</section>
<section id="airflow-models-base-operator-is-removed-21505">
<h4><code class="docutils literal notranslate"><span class="pre">airflow.models.base.Operator</span></code> is removed (#21505)<a class="headerlink" href="#airflow-models-base-operator-is-removed-21505" title="Link to this heading">¶</a></h4>
<p>Previously, there was an empty class <code class="docutils literal notranslate"><span class="pre">airflow.models.base.Operator</span></code> for “type hinting”. This class was never really useful for anything (everything it did could be done better with <code class="docutils literal notranslate"><span class="pre">airflow.models.baseoperator.BaseOperator</span></code>), and has been removed. If you are relying on the class’s existence, use <code class="docutils literal notranslate"><span class="pre">BaseOperator</span></code> (for concrete operators), <code class="docutils literal notranslate"><span class="pre">airflow.models.abstractoperator.AbstractOperator</span></code> (the base class of both <code class="docutils literal notranslate"><span class="pre">BaseOperator</span></code> and the AIP-42 <code class="docutils literal notranslate"><span class="pre">MappedOperator</span></code>), or <code class="docutils literal notranslate"><span class="pre">airflow.models.operator.Operator</span></code> (a union type <code class="docutils literal notranslate"><span class="pre">BaseOperator</span> <span class="pre">|</span> <span class="pre">MappedOperator</span></code> for type annotation).</p>
</section>
<section id="zip-files-in-the-dags-folder-can-no-longer-have-a-py-extension-21538">
<h4>Zip files in the DAGs folder can no longer have a <code class="docutils literal notranslate"><span class="pre">.py</span></code> extension (#21538)<a class="headerlink" href="#zip-files-in-the-dags-folder-can-no-longer-have-a-py-extension-21538" title="Link to this heading">¶</a></h4>
<p>It was previously possible to have any extension for zip files in the DAGs folder. Now <code class="docutils literal notranslate"><span class="pre">.py</span></code> files are going to be loaded as modules without checking whether it is a zip file, as it leads to less IO. If a <code class="docutils literal notranslate"><span class="pre">.py</span></code> file in the DAGs folder is a zip compressed file, parsing it will fail with an exception.</p>
</section>
<section id="auth-backends-includes-session-21640">
<h4><code class="docutils literal notranslate"><span class="pre">auth_backends</span></code> includes session (#21640)<a class="headerlink" href="#auth-backends-includes-session-21640" title="Link to this heading">¶</a></h4>
<p>To allow the Airflow UI to use the API, the previous default authorization backend <code class="docutils literal notranslate"><span class="pre">airflow.api.auth.backend.deny_all</span></code> is changed to <code class="docutils literal notranslate"><span class="pre">airflow.api.auth.backend.session</span></code>, and this is automatically added to the list of API authorization backends if a non-default value is set.</p>
</section>
<section id="default-templates-for-log-filenames-and-elasticsearch-log-id-changed-21734">
<h4>Default templates for log filenames and elasticsearch log_id changed (#21734)<a class="headerlink" href="#default-templates-for-log-filenames-and-elasticsearch-log-id-changed-21734" title="Link to this heading">¶</a></h4>
<p>In order to support Dynamic Task Mapping the default templates for per-task instance logging has changed. If your config contains the old default values they will be upgraded-in-place.</p>
<p>If you are happy with the new config values you should <em>remove</em> the setting in <code class="docutils literal notranslate"><span class="pre">airflow.cfg</span></code> and let the default value be used. Old default values were:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[core]</span> <span class="pre">log_filename_template</span></code>: <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">ti.dag_id</span> <span class="pre">}}/{{</span> <span class="pre">ti.task_id</span> <span class="pre">}}/{{</span> <span class="pre">ts</span> <span class="pre">}}/{{</span> <span class="pre">try_number</span> <span class="pre">}}.log</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[elasticsearch]</span> <span class="pre">log_id_template</span></code>: <code class="docutils literal notranslate"><span class="pre">{dag_id}-{task_id}-{execution_date}-{try_number}</span></code></p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">[core]</span> <span class="pre">log_filename_template</span></code> now uses “hive partition style” of <code class="docutils literal notranslate"><span class="pre">dag_id=&lt;id&gt;/run_id=&lt;id&gt;</span></code> by default, which may cause problems on some older FAT filesystems. If this affects you then you will have to change the log template.</p>
<p>If you have customized the templates you should ensure that they contain <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">ti.map_index</span> <span class="pre">}}</span></code> if you want to use dynamically mapped tasks.</p>
<p>If after upgrading you find your task logs are no longer accessible, try adding a row in the <code class="docutils literal notranslate"><span class="pre">log_template</span></code> table with <code class="docutils literal notranslate"><span class="pre">id=0</span></code>
containing your previous <code class="docutils literal notranslate"><span class="pre">log_id_template</span></code> and <code class="docutils literal notranslate"><span class="pre">log_filename_template</span></code>. For example, if you used the defaults in 2.2.5:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">log_template</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="n">elasticsearch_id</span><span class="p">,</span><span class="w"> </span><span class="n">created_at</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{{ ti.dag_id }}/{{ ti.task_id }}/{{ ts }}/{{ try_number }}.log&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{dag_id}-{task_id}-{execution_date}-{try_number}&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">NOW</span><span class="p">());</span>
</pre></div>
</div>
</section>
<section id="baseoperatorlink-s-get-link-method-changed-to-take-a-ti-key-keyword-argument-21798">
<h4>BaseOperatorLink’s <code class="docutils literal notranslate"><span class="pre">get_link</span></code> method changed to take a <code class="docutils literal notranslate"><span class="pre">ti_key</span></code> keyword argument (#21798)<a class="headerlink" href="#baseoperatorlink-s-get-link-method-changed-to-take-a-ti-key-keyword-argument-21798" title="Link to this heading">¶</a></h4>
<p>In v2.2 we “deprecated” passing an execution date to XCom.get methods, but there was no other option for operator links as they were only passed an execution_date.</p>
<p>Now in 2.3 as part of Dynamic Task Mapping (AIP-42) we will need to add map_index to the XCom row to support the “reduce” part of the API.</p>
<p>In order to support that cleanly we have changed the interface for BaseOperatorLink to take an TaskInstanceKey as the <code class="docutils literal notranslate"><span class="pre">ti_key</span></code> keyword argument (as execution_date + task is no longer unique for mapped operators).</p>
<p>The existing signature will be detected (by the absence of the <code class="docutils literal notranslate"><span class="pre">ti_key</span></code> argument) and continue to work.</p>
</section>
<section id="readytorescheduledep-now-only-runs-when-reschedule-is-true-21815">
<h4><code class="docutils literal notranslate"><span class="pre">ReadyToRescheduleDep</span></code> now only runs when <code class="docutils literal notranslate"><span class="pre">reschedule</span></code> is <em>True</em> (#21815)<a class="headerlink" href="#readytorescheduledep-now-only-runs-when-reschedule-is-true-21815" title="Link to this heading">¶</a></h4>
<p>When a <code class="docutils literal notranslate"><span class="pre">ReadyToRescheduleDep</span></code> is run, it now checks whether the <code class="docutils literal notranslate"><span class="pre">reschedule</span></code> attribute on the operator, and always reports itself as <em>passed</em> unless it is set to <em>True</em>. If you use this dep class on your custom operator, you will need to add this attribute to the operator class. Built-in operator classes that use this dep class (including sensors and all subclasses) already have this attribute and are not affected.</p>
</section>
<section id="the-deps-attribute-on-an-operator-class-should-be-a-class-level-attribute-21815">
<h4>The <code class="docutils literal notranslate"><span class="pre">deps</span></code> attribute on an operator class should be a class level attribute (#21815)<a class="headerlink" href="#the-deps-attribute-on-an-operator-class-should-be-a-class-level-attribute-21815" title="Link to this heading">¶</a></h4>
<p>To support operator-mapping (AIP 42), the <code class="docutils literal notranslate"><span class="pre">deps</span></code> attribute on operator class must be a set at the class level. This means that if a custom operator implements this as an instance-level variable, it will not be able to be used for operator-mapping. This does not affect existing code, but we highly recommend you to restructure the operator’s dep logic in order to support the new feature.</p>
</section>
<section id="deprecation-connection-extra-must-be-json-encoded-dict-21816">
<h4>Deprecation: <code class="docutils literal notranslate"><span class="pre">Connection.extra</span></code> must be JSON-encoded dict (#21816)<a class="headerlink" href="#deprecation-connection-extra-must-be-json-encoded-dict-21816" title="Link to this heading">¶</a></h4>
<section id="tldr">
<h5>TLDR<a class="headerlink" href="#tldr" title="Link to this heading">¶</a></h5>
<p>From Airflow 3.0, the <code class="docutils literal notranslate"><span class="pre">extra</span></code> field in airflow connections must be a JSON-encoded Python dict.</p>
</section>
<section id="what-why-and-when">
<h5>What, why, and when?<a class="headerlink" href="#what-why-and-when" title="Link to this heading">¶</a></h5>
<p>Airflow’s Connection is used for storing credentials.  For storage of information that does not
fit into user / password / host / schema / port, we have the <code class="docutils literal notranslate"><span class="pre">extra</span></code> string field.  Its intention
was always to provide for storage of arbitrary key-value pairs, like <code class="docutils literal notranslate"><span class="pre">no_host_key_check</span></code> in the SSH
hook, or <code class="docutils literal notranslate"><span class="pre">keyfile_dict</span></code> in GCP.</p>
<p>But since the field is string, it’s technically been permissible to store any string value.  For example
one could have stored the string value <code class="docutils literal notranslate"><span class="pre">'my-website.com'</span></code> and used this in the hook.  But this is a very
bad practice. One reason is intelligibility: when you look at the value for <code class="docutils literal notranslate"><span class="pre">extra</span></code> , you don’t have any idea
what its purpose is.  Better would be to store <code class="docutils literal notranslate"><span class="pre">{&quot;api_host&quot;:</span> <span class="pre">&quot;my-website.com&quot;}</span></code> which at least tells you
<em>something</em> about the value.  Another reason is extensibility: if you store the API host as a simple string
value, what happens if you need to add more information, such as the API endpoint, or credentials?  Then
you would need to convert the string to a dict, and this would be a breaking change.</p>
<p>For these reason, starting in Airflow 3.0 we will require that the <code class="docutils literal notranslate"><span class="pre">Connection.extra</span></code> field store
a JSON-encoded Python dict.</p>
</section>
<section id="how-will-i-be-affected">
<h5>How will I be affected?<a class="headerlink" href="#how-will-i-be-affected" title="Link to this heading">¶</a></h5>
<p>For users of providers that are included in the Airflow codebase, you should not have to make any changes
because in the Airflow codebase we should not allow hooks to misuse the <code class="docutils literal notranslate"><span class="pre">Connection.extra</span></code> field in this way.</p>
<p>However, if you have any custom hooks that store something other than JSON dict, you will have to update it.
If you do, you should see a warning any time that this connection is retrieved or instantiated (e.g. it should show up in
task logs).</p>
<p>To see if you have any connections that will need to be updated, you can run this command:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>airflow<span class="w"> </span>connections<span class="w"> </span><span class="nb">export</span><span class="w"> </span>-<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="w"> </span>&gt;/dev/null<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s1">&#39;non-JSON&#39;</span>
</pre></div>
</div>
<p>This will catch any warnings about connections that are storing something other than JSON-encoded Python dict in the <code class="docutils literal notranslate"><span class="pre">extra</span></code> field.</p>
</section>
</section>
<section id="the-tree-default-view-setting-has-been-renamed-to-grid-22167">
<h4>The <code class="docutils literal notranslate"><span class="pre">tree</span></code> default view setting has been renamed to <code class="docutils literal notranslate"><span class="pre">grid</span></code> (#22167)<a class="headerlink" href="#the-tree-default-view-setting-has-been-renamed-to-grid-22167" title="Link to this heading">¶</a></h4>
<p>If you set the <code class="docutils literal notranslate"><span class="pre">dag_default_view</span></code> config option or the <code class="docutils literal notranslate"><span class="pre">default_view</span></code> argument to <code class="docutils literal notranslate"><span class="pre">DAG()</span></code> to <code class="docutils literal notranslate"><span class="pre">tree</span></code> you will need to update your deployment. The old name will continue to work but will issue warnings.</p>
</section>
<section id="database-configuration-moved-to-new-section-22284">
<h4>Database configuration moved to new section (#22284)<a class="headerlink" href="#database-configuration-moved-to-new-section-22284" title="Link to this heading">¶</a></h4>
<p>The following configurations have been moved from <code class="docutils literal notranslate"><span class="pre">[core]</span></code> to the new <code class="docutils literal notranslate"><span class="pre">[database]</span></code> section. However when reading the new option, the old option will be checked to see if it exists. If it does a DeprecationWarning will be issued and the old option will be used instead.</p>
<ul class="simple">
<li><p>sql_alchemy_conn</p></li>
<li><p>sql_engine_encoding</p></li>
<li><p>sql_engine_collation_for_ids</p></li>
<li><p>sql_alchemy_pool_enabled</p></li>
<li><p>sql_alchemy_pool_size</p></li>
<li><p>sql_alchemy_max_overflow</p></li>
<li><p>sql_alchemy_pool_recycle</p></li>
<li><p>sql_alchemy_pool_pre_ping</p></li>
<li><p>sql_alchemy_schema</p></li>
<li><p>sql_alchemy_connect_args</p></li>
<li><p>load_default_connections</p></li>
<li><p>max_db_retries</p></li>
</ul>
</section>
<section id="remove-requirement-that-custom-connection-ui-fields-be-prefixed-22607">
<h4>Remove requirement that custom connection UI fields be prefixed (#22607)<a class="headerlink" href="#remove-requirement-that-custom-connection-ui-fields-be-prefixed-22607" title="Link to this heading">¶</a></h4>
<p>Hooks can define custom connection fields for their connection type by implementing method <code class="docutils literal notranslate"><span class="pre">get_connection_form_widgets</span></code>.  These custom fields appear in the web UI as additional connection attributes, but internally they are stored in the connection <code class="docutils literal notranslate"><span class="pre">extra</span></code> dict field.  For technical reasons, previously, when stored in the <code class="docutils literal notranslate"><span class="pre">extra</span></code> dict, the custom field’s dict key had to take the form <code class="docutils literal notranslate"><span class="pre">extra__&lt;conn</span> <span class="pre">type&gt;__&lt;field</span> <span class="pre">name&gt;</span></code>.  This had the consequence of making it more cumbersome to define connections outside of the UI, since the prefix <code class="docutils literal notranslate"><span class="pre">extra__&lt;conn</span> <span class="pre">type&gt;__</span></code> makes it tougher to read and work with. With #22607, we make it so that you can now define custom fields such that they can be read from and stored in <code class="docutils literal notranslate"><span class="pre">extra</span></code> without the prefix.</p>
<p>To enable this, update the dict returned by the <code class="docutils literal notranslate"><span class="pre">get_connection_form_widgets</span></code> method to remove the prefix from the keys.  Internally, the providers manager will still use a prefix to ensure each custom field is globally unique, but the absence of a prefix in the returned widget dict will signal to the Web UI to read and store custom fields without the prefix.  Note that this is only a change to the Web UI behavior; when updating your hook in this way, you must make sure that when your <em>hook</em> reads the <code class="docutils literal notranslate"><span class="pre">extra</span></code> field, it will also check for the prefixed value for backward compatibility.</p>
</section>
<section id="the-webserver-x-frame-enabled-configuration-works-according-to-description-now-23222">
<h4>The webserver.X_FRAME_ENABLED configuration works according to description now (#23222).<a class="headerlink" href="#the-webserver-x-frame-enabled-configuration-works-according-to-description-now-23222" title="Link to this heading">¶</a></h4>
<p>In Airflow 2.0.0 - 2.2.4 the webserver.X_FRAME_ENABLED parameter worked the opposite of its description,
setting the value to “true” caused “X-Frame-Options” header to “DENY” (not allowing Airflow to be used
in an iframe). When you set it to “false”, the header was not added, so Airflow could be embedded in an
iframe. By default Airflow could not be embedded in an iframe.</p>
<p>In Airflow 2.2.5 there was a bug introduced that made it impossible to disable Airflow to
work in iframe. No matter what the configuration was set, it was possible to embed Airflow in an iframe.</p>
<p>Airflow 2.3.0 restores the original meaning to the parameter. If you set it to “true” (default) Airflow
can be embedded in an iframe (no header is added), but when you set it to “false” the header is added
and Airflow cannot be embedded in an iframe.</p>
</section>
</section>
<section id="id147">
<h3>New Features<a class="headerlink" href="#id147" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add dynamic task mapping (<a class="reference external" href="https://github.com/apache/airflow/pulls?q=is%3Apr+is%3Amerged+label%3Aarea%3Adynamic-task-mapping+milestone%3A%22Airflow+2.3.0%22">AIP-42</a>)</p></li>
<li><p>New Grid View replaces Tree View (#18675)</p></li>
<li><p>Templated <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> in Python Operators (#17349)</p></li>
<li><p>Allow reuse of decorated tasks (#22941)</p></li>
<li><p>Move the database configuration to a new section (#22284)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">SmoothOperator</span></code> (#22813)</p></li>
<li><p>Make operator’s <code class="docutils literal notranslate"><span class="pre">execution_timeout</span></code> configurable (#22389)</p></li>
<li><p>Events Timetable (#22332)</p></li>
<li><p>Support dag serialization with custom <code class="docutils literal notranslate"><span class="pre">ti_deps</span></code> rules (#22698)</p></li>
<li><p>Support log download in task log view (#22804)</p></li>
<li><p>support for continue backfill on failures (#22697)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">dag-processor</span></code> cli command (#22305)</p></li>
<li><p>Add possibility to create users in LDAP mode (#22619)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">ignore_first_depends_on_past</span></code> for scheduled jobs (#22491)</p></li>
<li><p>Update base sensor operator to support XCOM return value (#20656)</p></li>
<li><p>Add an option for run id in the ui trigger screen (#21851)</p></li>
<li><p>Enable JSON serialization for connections (#19857)</p></li>
<li><p>Add REST API endpoint for bulk update of DAGs (#19758)</p></li>
<li><p>Add queue button to click-on-DagRun interface. (#21555)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">list-import-errors</span></code> to <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">dags</span></code> command (#22084)</p></li>
<li><p>Store callbacks in database if <code class="docutils literal notranslate"><span class="pre">standalone_dag_processor</span></code> config is True. (#21731)</p></li>
<li><p>Add LocalKubernetesExecutor (#19729)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">celery.task_timeout_error</span></code> metric (#21602)</p></li>
<li><p>Airflow <code class="docutils literal notranslate"><span class="pre">db</span> <span class="pre">downgrade</span></code> cli command (#21596)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">ALL_SKIPPED</span></code> trigger rule (#21662)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">db</span> <span class="pre">clean</span></code> CLI command for purging old data (#20838)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">celery_logging_level</span></code> (#21506)</p></li>
<li><p>Support different timeout value for dag file parsing (#21501)</p></li>
<li><p>Support generating SQL script for upgrades (#20962)</p></li>
<li><p>Add option to compress Serialized dag data (#21332)</p></li>
<li><p>Branch python operator decorator (#20860)</p></li>
<li><p>Add Audit Log View to Dag View (#20733)</p></li>
<li><p>Add missing StatsD metric for failing SLA Callback notification (#20924)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">ShortCircuitOperator</span></code> configurability for respecting downstream trigger rules (#20044)</p></li>
<li><p>Allow using Markup in page title in Webserver (#20888)</p></li>
<li><p>Add Listener Plugin API that tracks TaskInstance state changes (#20443)</p></li>
<li><p>Add context var hook to inject more env vars (#20361)</p></li>
<li><p>Add a button to set all tasks to skipped (#20455)</p></li>
<li><p>Cleanup pending pods (#20438)</p></li>
<li><p>Add config to warn public deployment exposure in UI (#18557)</p></li>
<li><p>Log filename template records (#20165)</p></li>
<li><p>Added windows extensions (#16110)</p></li>
<li><p>Showing approximate time until next dag_run in Airflow  (#20273)</p></li>
<li><p>Extend config window on UI (#20052)</p></li>
<li><p>Add show dag dependencies feature to CLI (#19985)</p></li>
<li><p>Add cli command for ‘airflow dags reserialize` (#19471)</p></li>
<li><p>Add missing description field to Pool schema(REST API) (#19841)</p></li>
<li><p>Introduce DagRun action to change state to queued. (#19353)</p></li>
<li><p>Add DAG run details page (#19705)</p></li>
<li><p>Add role export/import to cli tools (#18916)</p></li>
<li><p>Adding <code class="docutils literal notranslate"><span class="pre">dag_id_pattern</span></code> parameter to the <code class="docutils literal notranslate"><span class="pre">/dags</span></code> endpoint (#18924)</p></li>
</ul>
</section>
<section id="id148">
<h3>Improvements<a class="headerlink" href="#id148" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Show schedule_interval/timetable description in UI (#16931)</p></li>
<li><p>Added column duration to DAG runs view (#19482)</p></li>
<li><p>Enable use of custom conn extra fields without prefix (#22607)</p></li>
<li><p>Initialize finished counter at zero (#23080)</p></li>
<li><p>Improve logging of optional provider features messages (#23037)</p></li>
<li><p>Meaningful error message in resolve_template_files (#23027)</p></li>
<li><p>Update ImportError items instead of deleting and recreating them (#22928)</p></li>
<li><p>Add option <code class="docutils literal notranslate"><span class="pre">--skip-init</span></code> to db reset command (#22989)</p></li>
<li><p>Support importing connections from files with “.yml” extension (#22872)</p></li>
<li><p>Support glob syntax in <code class="docutils literal notranslate"><span class="pre">.airflowignore</span></code> files (#21392) (#22051)</p></li>
<li><p>Hide pagination when data is a single page (#22963)</p></li>
<li><p>Support for sorting DAGs in the web UI (#22671)</p></li>
<li><p>Speed up <code class="docutils literal notranslate"><span class="pre">has_access</span></code> decorator by ~200ms (#22858)</p></li>
<li><p>Add XComArg to lazy-imported list of Airflow module (#22862)</p></li>
<li><p>Add more fields to REST API dags/dag_id/details endpoint (#22756)</p></li>
<li><p>Don’t show irrelevant/duplicated/”internal” Task attrs in UI (#22812)</p></li>
<li><p>No need to load whole ti in current_state (#22764)</p></li>
<li><p>Pickle dag exception string fix (#22760)</p></li>
<li><p>Better verification of Localexecutor’s parallelism option (#22711)</p></li>
<li><p>log backfill exceptions to sentry (#22704)</p></li>
<li><p>retry commit on MySQL deadlocks during backfill (#22696)</p></li>
<li><p>Add more fields to REST API get DAG(dags/dag_id) endpoint (#22637)</p></li>
<li><p>Use timetable to generate planned days for current year (#22055)</p></li>
<li><p>Disable connection pool for celery worker (#22493)</p></li>
<li><p>Make date picker label visible in trigger dag view (#22379)</p></li>
<li><p>Expose <code class="docutils literal notranslate"><span class="pre">try_number</span></code> in airflow vars (#22297)</p></li>
<li><p>Add generic connection type (#22310)</p></li>
<li><p>Add a few more fields to the taskinstance finished log message (#22262)</p></li>
<li><p>Pause auto-refresh if scheduler isn’t running (#22151)</p></li>
<li><p>Show DagModel details. (#21868)</p></li>
<li><p>Add pip_install_options to PythonVirtualenvOperator (#22158)</p></li>
<li><p>Show import error for <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">dags</span> <span class="pre">list</span></code> CLI command (#21991)</p></li>
<li><p>Pause auto-refresh when page is hidden (#21904)</p></li>
<li><p>Default args type check (#21809)</p></li>
<li><p>Enhance magic methods on XComArg for UX (#21882)</p></li>
<li><p>py files don’t have to be checked <code class="docutils literal notranslate"><span class="pre">is_zipfiles</span></code> in refresh_dag (#21926)</p></li>
<li><p>Fix TaskDecorator type hints (#21881)</p></li>
<li><p>Add ‘Show record’ option for variables (#21342)</p></li>
<li><p>Use DB where possible for quicker <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">dag</span></code> subcommands (#21793)</p></li>
<li><p>REST API: add rendered fields in task instance. (#21741)</p></li>
<li><p>Change the default auth backend to session (#21640)</p></li>
<li><p>Don’t check if <code class="docutils literal notranslate"><span class="pre">py</span></code> DAG files are zipped during parsing (#21538)</p></li>
<li><p>Switch XCom implementation to use <code class="docutils literal notranslate"><span class="pre">run_id</span></code> (#20975)</p></li>
<li><p>Action log on Browse Views (#21569)</p></li>
<li><p>Implement multiple API auth backends (#21472)</p></li>
<li><p>Change logging level details of connection info in <code class="docutils literal notranslate"><span class="pre">get_connection()</span></code> (#21162)</p></li>
<li><p>Support mssql in airflow db shell (#21511)</p></li>
<li><p>Support config <code class="docutils literal notranslate"><span class="pre">worker_enable_remote_control</span></code> for celery (#21507)</p></li>
<li><p>Log memory usage in <code class="docutils literal notranslate"><span class="pre">CgroupTaskRunner</span></code> (#21481)</p></li>
<li><p>Modernize DAG-related URL routes and rename “tree” to “grid” (#20730)</p></li>
<li><p>Move Zombie detection to <code class="docutils literal notranslate"><span class="pre">SchedulerJob</span></code> (#21181)</p></li>
<li><p>Improve speed to run <code class="docutils literal notranslate"><span class="pre">airflow</span></code> by 6x (#21438)</p></li>
<li><p>Add more SQL template fields renderers (#21237)</p></li>
<li><p>Simplify fab has access lookup (#19294)</p></li>
<li><p>Log context only for default method (#21244)</p></li>
<li><p>Log trigger status only if at least one is running (#21191)</p></li>
<li><p>Add optional features in providers. (#21074)</p></li>
<li><p>Better multiple_outputs inferral for &#64;task.python (#20800)</p></li>
<li><p>Improve handling of string type and non-attribute <code class="docutils literal notranslate"><span class="pre">template_fields</span></code> (#21054)</p></li>
<li><p>Remove un-needed deps/version requirements (#20979)</p></li>
<li><p>Correctly specify overloads for TaskFlow API for type-hinting (#20933)</p></li>
<li><p>Introduce notification_sent to SlaMiss view (#20923)</p></li>
<li><p>Rewrite the task decorator as a composition (#20868)</p></li>
<li><p>Add “Greater/Smaller than or Equal” to filters in the browse views (#20602) (#20798)</p></li>
<li><p>Rewrite DAG run retrieval in task command (#20737)</p></li>
<li><p>Speed up creation of DagRun for large DAGs (5k+ tasks) by 25-130% (#20722)</p></li>
<li><p>Make native environment Airflow-flavored like sandbox (#20704)</p></li>
<li><p>Better error when param value has unexpected type (#20648)</p></li>
<li><p>Add filter by state in DagRun REST API (List Dag Runs) (#20485)</p></li>
<li><p>Prevent exponential memory growth in Tasks with custom logging handler  (#20541)</p></li>
<li><p>Set default logger in logging Mixin (#20355)</p></li>
<li><p>Reduce deprecation warnings from www (#20378)</p></li>
<li><p>Add hour and minute to time format on x-axis of all charts using nvd3.lineChart (#20002)</p></li>
<li><p>Add specific warning when Task asks for more slots than pool defined with (#20178)</p></li>
<li><p>UI: Update duration column for better human readability (#20112)</p></li>
<li><p>Use Viewer role as example public role (#19215)</p></li>
<li><p>Properly implement DAG param dict copying (#20216)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ShortCircuitOperator</span></code> push XCom by returning python_callable result (#20071)</p></li>
<li><p>Add clear logging to tasks killed due to a Dagrun timeout (#19950)</p></li>
<li><p>Change log level for Zombie detection messages (#20204)</p></li>
<li><p>Better confirmation prompts (#20183)</p></li>
<li><p>Only execute TIs of running DagRuns (#20182)</p></li>
<li><p>Check and run migration in commands if necessary (#18439)</p></li>
<li><p>Log only when Zombies exists (#20118)</p></li>
<li><p>Increase length of the email and username (#19932)</p></li>
<li><p>Add more filtering options for TI’s in the UI (#19910)</p></li>
<li><p>Dynamically enable “Test Connection” button by connection type (#19792)</p></li>
<li><p>Avoid littering postgres server logs with “could not obtain lock” with HA schedulers (#19842)</p></li>
<li><p>Renamed <code class="docutils literal notranslate"><span class="pre">Connection.get_hook</span></code> parameter to make it the same as in <code class="docutils literal notranslate"><span class="pre">SqlSensor</span></code> and <code class="docutils literal notranslate"><span class="pre">SqlOperator</span></code>. (#19849)</p></li>
<li><p>Add hook_params in SqlSensor using the latest changes from PR #18718. (#18431)</p></li>
<li><p>Speed up webserver boot time by delaying provider initialization (#19709)</p></li>
<li><p>Configurable logging of <code class="docutils literal notranslate"><span class="pre">XCOM</span></code> value in PythonOperator (#19378)</p></li>
<li><p>Minimize production js files (#19658)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">hook_params</span></code> in <code class="docutils literal notranslate"><span class="pre">BaseSqlOperator</span></code> (#18718)</p></li>
<li><p>Add missing “end_date” to hash components (#19281)</p></li>
<li><p>More friendly output of the airflow plugins command + add timetables (#19298)</p></li>
<li><p>Add sensor default timeout config (#19119)</p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">taskinstance</span></code> REST API schema to include dag_run_id field (#19105)</p></li>
<li><p>Adding feature in bash operator to append the user defined env variable to system env variable (#18944)</p></li>
<li><p>Duplicate Connection: Added logic to query if a connection id exists before creating one (#18161)</p></li>
</ul>
</section>
<section id="id149">
<h3>Bug Fixes<a class="headerlink" href="#id149" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Use inherited ‘trigger_tasks’ method (#23016)</p></li>
<li><p>In DAG dependency detector, use class type instead of class name (#21706)</p></li>
<li><p>Fix tasks being wrongly skipped by schedule_after_task_execution (#23181)</p></li>
<li><p>Fix X-Frame enabled behaviour (#23222)</p></li>
<li><p>Allow <code class="docutils literal notranslate"><span class="pre">extra</span></code> to be nullable in connection payload as per schema(REST API). (#23183)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">dag_id</span></code> extraction for dag level access checks in web ui (#23015)</p></li>
<li><p>Fix timezone display for logs on UI (#23075)</p></li>
<li><p>Include message in graph errors (#23021)</p></li>
<li><p>Change trigger dropdown left position (#23013)</p></li>
<li><p>Don’t add planned tasks for legacy DAG runs (#23007)</p></li>
<li><p>Add dangling rows check for TaskInstance references (#22924)</p></li>
<li><p>Validate the input params in connection <code class="docutils literal notranslate"><span class="pre">CLI</span></code> command (#22688)</p></li>
<li><p>Fix trigger event payload is not persisted in db (#22944)</p></li>
<li><p>Drop “airflow moved” tables in command <code class="docutils literal notranslate"><span class="pre">db</span> <span class="pre">reset</span></code> (#22990)</p></li>
<li><p>Add max width to task group tooltips (#22978)</p></li>
<li><p>Add template support for <code class="docutils literal notranslate"><span class="pre">external_task_ids</span></code>. (#22809)</p></li>
<li><p>Allow <code class="docutils literal notranslate"><span class="pre">DagParam</span></code> to hold falsy values (#22964)</p></li>
<li><p>Fix regression in pool metrics (#22939)</p></li>
<li><p>Priority order tasks even when using pools (#22483)</p></li>
<li><p>Do not clear XCom when resuming from deferral (#22932)</p></li>
<li><p>Handle invalid JSON metadata in <code class="docutils literal notranslate"><span class="pre">get_logs_with_metadata</span> <span class="pre">endpoint</span></code>. (#22898)</p></li>
<li><p>Fix pre-upgrade check for rows dangling w.r.t. dag_run (#22850)</p></li>
<li><p>Fixed backfill interference with scheduler (#22701)</p></li>
<li><p>Support conf param override for backfill runs (#22837)</p></li>
<li><p>Correctly interpolate pool name in <code class="docutils literal notranslate"><span class="pre">PoolSlotsAvailableDep</span></code> statues (#22807)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">email_on_failure</span></code> with <code class="docutils literal notranslate"><span class="pre">render_template_as_native_obj</span></code> (#22770)</p></li>
<li><p>Fix processor cleanup on <code class="docutils literal notranslate"><span class="pre">DagFileProcessorManager</span></code> (#22685)</p></li>
<li><p>Prevent meta name clash for task instances (#22783)</p></li>
<li><p>remove json parse for gantt chart (#22780)</p></li>
<li><p>Check for missing dagrun should know version (#22752)</p></li>
<li><p>Fixes <code class="docutils literal notranslate"><span class="pre">ScheduleInterval</span></code> spec (#22635)</p></li>
<li><p>Fixing task status for non-running and non-committed tasks  (#22410)</p></li>
<li><p>Do not log the hook connection details even at DEBUG level (#22627)</p></li>
<li><p>Stop crashing when empty logs are received from kubernetes client (#22566)</p></li>
<li><p>Fix bugs about timezone change (#22525)</p></li>
<li><p>Fix entire DAG stops when one task has end_date (#20920)</p></li>
<li><p>Use logger to print message during task execution. (#22488)</p></li>
<li><p>Make sure finalizers are not skipped during exception handling (#22475)</p></li>
<li><p>update smart sensor docs and minor fix on <code class="docutils literal notranslate"><span class="pre">is_smart_sensor_compatible()</span></code> (#22386)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">run_id</span></code> k8s and elasticsearch compatibility with Airflow 2.1 (#22385)</p></li>
<li><p>Allow to <code class="docutils literal notranslate"><span class="pre">except_skip</span></code> None on <code class="docutils literal notranslate"><span class="pre">BranchPythonOperator</span></code> (#20411)</p></li>
<li><p>Fix incorrect datetime details (DagRun views) (#21357)</p></li>
<li><p>Remove incorrect deprecation warning in secrets backend (#22326)</p></li>
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">RefreshConfiguration</span></code> workaround for K8s token refreshing (#20759)</p></li>
<li><p>Masking extras in GET <code class="docutils literal notranslate"><span class="pre">/connections/&lt;connection&gt;</span></code> endpoint (#22227)</p></li>
<li><p>Set <code class="docutils literal notranslate"><span class="pre">queued_dttm</span></code> when submitting task to directly to executor (#22259)</p></li>
<li><p>Addressed some issues in the tutorial mentioned in discussion #22233 (#22236)</p></li>
<li><p>Change default python executable to python3 for docker decorator (#21973)</p></li>
<li><p>Don’t validate that Params are JSON when NOTSET (#22000)</p></li>
<li><p>Add per-DAG delete permissions (#21938)</p></li>
<li><p>Fix handling some None parameters in kubernetes 23 libs. (#21905)</p></li>
<li><p>Fix handling of empty (None) tags in <code class="docutils literal notranslate"><span class="pre">bulk_write_to_db</span></code> (#21757)</p></li>
<li><p>Fix DAG date range bug (#20507)</p></li>
<li><p>Removed <code class="docutils literal notranslate"><span class="pre">request.referrer</span></code> from views.py  (#21751)</p></li>
<li><p>Make <code class="docutils literal notranslate"><span class="pre">DbApiHook</span></code> use <code class="docutils literal notranslate"><span class="pre">get_uri</span></code> from Connection (#21764)</p></li>
<li><p>Fix some migrations (#21670)</p></li>
<li><p>[de]serialize resources on task correctly (#21445)</p></li>
<li><p>Add params <code class="docutils literal notranslate"><span class="pre">dag_id</span></code>, <code class="docutils literal notranslate"><span class="pre">task_id</span></code> etc to <code class="docutils literal notranslate"><span class="pre">XCom.serialize_value</span></code> (#19505)</p></li>
<li><p>Update test connection functionality to use custom form fields (#21330)</p></li>
<li><p>fix all “high” npm vulnerabilities (#21526)</p></li>
<li><p>Fix bug incorrectly removing action from role, rather than permission. (#21483)</p></li>
<li><p>Fix relationship join bug in FAB/SecurityManager with SQLA 1.4 (#21296)</p></li>
<li><p>Use Identity instead of Sequence in SQLAlchemy 1.4 for MSSQL (#21238)</p></li>
<li><p>Ensure <code class="docutils literal notranslate"><span class="pre">on_task_instance_running</span></code> listener can get at task (#21157)</p></li>
<li><p>Return to the same place when triggering a DAG (#20955)</p></li>
<li><p>Fix task ID deduplication in <code class="docutils literal notranslate"><span class="pre">&#64;task_group</span></code> (#20870)</p></li>
<li><p>Add downgrade to some FAB migrations (#20874)</p></li>
<li><p>Only validate Params when DAG is triggered (#20802)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">trigger</span></code> cli (#20781)</p></li>
<li><p>Fix task instances iteration in a pool to prevent blocking (#20816)</p></li>
<li><p>Allow depending to a <code class="docutils literal notranslate"><span class="pre">&#64;task_group</span></code> as a whole (#20671)</p></li>
<li><p>Use original task’s <code class="docutils literal notranslate"><span class="pre">start_date</span></code> if a task continues after deferral (#20062)</p></li>
<li><p>Disabled edit button in task instances list view page (#20659)</p></li>
<li><p>Fix a package name import error (#20519) (#20519)</p></li>
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">execution_date</span></code> label when get cleanup pods list (#20417)</p></li>
<li><p>Remove unneeded FAB REST API endpoints (#20487)</p></li>
<li><p>Fix parsing of Cloudwatch log group arn containing slashes (#14667) (#19700)</p></li>
<li><p>Sanity check for MySQL’s TIMESTAMP column (#19821)</p></li>
<li><p>Allow using default celery command group with executors subclassed from Celery-based executors. (#18189)</p></li>
<li><p>Move <code class="docutils literal notranslate"><span class="pre">class_permission_name</span></code> to mixin so it applies to all classes (#18749)</p></li>
<li><p>Adjust trimmed_pod_id and replace ‘.’ with ‘-’ (#19036)</p></li>
<li><p>Pass custom_headers to send_email and send_email_smtp (#19009)</p></li>
<li><p>Ensure <code class="docutils literal notranslate"><span class="pre">catchup=False</span></code> is used in example dags (#19396)</p></li>
<li><p>Edit permalinks in OpenApi description file (#19244)</p></li>
<li><p>Navigate directly to DAG when selecting from search typeahead list (#18991)</p></li>
<li><p>[Minor] Fix padding on home page (#19025)</p></li>
</ul>
</section>
<section id="id150">
<h3>Doc only changes<a class="headerlink" href="#id150" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Update doc for DAG file processing (#23209)</p></li>
<li><p>Replace changelog/updating with release notes and <code class="docutils literal notranslate"><span class="pre">towncrier</span></code> now (#22003)</p></li>
<li><p>Fix wrong reference in tracking-user-activity.rst (#22745)</p></li>
<li><p>Remove references to <code class="docutils literal notranslate"><span class="pre">rbac</span> <span class="pre">=</span> <span class="pre">True</span></code> from docs (#22725)</p></li>
<li><p>Doc: Update description for executor-bound dependencies (#22601)</p></li>
<li><p>Update check-health.rst (#22372)</p></li>
<li><p>Stronger language about Docker Compose customizability (#22304)</p></li>
<li><p>Update logging-tasks.rst (#22116)</p></li>
<li><p>Add example config of <code class="docutils literal notranslate"><span class="pre">sql_alchemy_connect_args</span></code> (#22045)</p></li>
<li><p>Update best-practices.rst (#22053)</p></li>
<li><p>Add information on DAG pausing/deactivation/deletion (#22025)</p></li>
<li><p>Add brief examples of integration test dags you might want (#22009)</p></li>
<li><p>Run inclusive language check on CHANGELOG (#21980)</p></li>
<li><p>Add detailed email docs for Sendgrid (#21958)</p></li>
<li><p>Add docs for <code class="docutils literal notranslate"><span class="pre">db</span> <span class="pre">upgrade</span></code> / <code class="docutils literal notranslate"><span class="pre">db</span> <span class="pre">downgrade</span></code> (#21879)</p></li>
<li><p>Update modules_management.rst (#21889)</p></li>
<li><p>Fix UPDATING section on SqlAlchemy 1.4 scheme changes (#21887)</p></li>
<li><p>Update TaskFlow tutorial doc to show how to pass “operator-level” args. (#21446)</p></li>
<li><p>Fix doc - replace decreasing by increasing (#21805)</p></li>
<li><p>Add another way to dynamically generate DAGs to docs (#21297)</p></li>
<li><p>Add extra information about time synchronization needed (#21685)</p></li>
<li><p>Update debug.rst docs (#21246)</p></li>
<li><p>Replaces the usage of <code class="docutils literal notranslate"><span class="pre">postgres://</span></code> with <code class="docutils literal notranslate"><span class="pre">postgresql://</span></code> (#21205)</p></li>
<li><p>Fix task execution process in <code class="docutils literal notranslate"><span class="pre">CeleryExecutor</span></code> docs (#20783)</p></li>
</ul>
</section>
<section id="id151">
<h3>Misc/Internal<a class="headerlink" href="#id151" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Bring back deprecated security manager functions (#23243)</p></li>
<li><p>Replace usage of <code class="docutils literal notranslate"><span class="pre">DummyOperator</span></code> with <code class="docutils literal notranslate"><span class="pre">EmptyOperator</span></code> (#22974)</p></li>
<li><p>Deprecate <code class="docutils literal notranslate"><span class="pre">DummyOperator</span></code> in favor of <code class="docutils literal notranslate"><span class="pre">EmptyOperator</span></code> (#22832)</p></li>
<li><p>Remove unnecessary python 3.6 conditionals (#20549)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">moment</span></code> from 2.29.1 to 2.29.2 in /airflow/www (#22873)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">prismjs</span></code> from 1.26.0 to 1.27.0 in /airflow/www (#22823)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">nanoid</span></code> from 3.1.23 to 3.3.2 in /airflow/www (#22803)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">minimist</span></code> from 1.2.5 to 1.2.6 in /airflow/www (#22798)</p></li>
<li><p>Remove dag parsing from db init command (#22531)</p></li>
<li><p>Update our approach for executor-bound dependencies (#22573)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">Airflow.Base.metadata</span></code> in FAB models (#22353)</p></li>
<li><p>Limit docutils to make our documentation pretty again (#22420)</p></li>
<li><p>Add Python 3.10 support (#22050)</p></li>
<li><p>[FEATURE] add 1.22 1.23 K8S support (#21902)</p></li>
<li><p>Remove pandas upper limit now that SQLA is 1.4+ (#22162)</p></li>
<li><p>Patch <code class="docutils literal notranslate"><span class="pre">sql_alchemy_conn</span></code> if old postgres scheme used (#22333)</p></li>
<li><p>Protect against accidental misuse of XCom.get_value() (#22244)</p></li>
<li><p>Order filenames for migrations (#22168)</p></li>
<li><p>Don’t try to auto generate migrations for Celery tables (#22120)</p></li>
<li><p>Require SQLAlchemy 1.4 (#22114)</p></li>
<li><p>bump sphinx-jinja (#22101)</p></li>
<li><p>Add compat shim for SQLAlchemy to avoid warnings (#21959)</p></li>
<li><p>Rename <code class="docutils literal notranslate"><span class="pre">xcom.dagrun_id</span></code> to <code class="docutils literal notranslate"><span class="pre">xcom.dag_run_id</span></code> (#21806)</p></li>
<li><p>Deprecate non-JSON <code class="docutils literal notranslate"><span class="pre">conn.extra</span></code> (#21816)</p></li>
<li><p>Bump upper bound version of <code class="docutils literal notranslate"><span class="pre">jsonschema</span></code> to 5.0 (#21712)</p></li>
<li><p>Deprecate helper utility <code class="docutils literal notranslate"><span class="pre">days_ago</span></code> (#21653)</p></li>
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">`:type`</span></code> lines now <code class="docutils literal notranslate"><span class="pre">sphinx-autoapi</span></code> supports type hints (#20951)</p></li>
<li><p>Silence deprecation warning in tests (#20900)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">DagRun.run_id</span></code> instead of <code class="docutils literal notranslate"><span class="pre">execution_date</span></code> when updating state of TIs (UI &amp; REST API) (#18724)</p></li>
<li><p>Add Context stub to Airflow packages (#20817)</p></li>
<li><p>Update Kubernetes library version (#18797)</p></li>
<li><p>Rename <code class="docutils literal notranslate"><span class="pre">PodLauncher</span></code> to <code class="docutils literal notranslate"><span class="pre">PodManager</span></code> (#20576)</p></li>
<li><p>Removes Python 3.6 support (#20467)</p></li>
<li><p>Add deprecation warning for non-json-serializable params (#20174)</p></li>
<li><p>Rename TaskMixin to DependencyMixin (#20297)</p></li>
<li><p>Deprecate passing execution_date to XCom methods (#19825)</p></li>
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">get_readable_dags</span></code> and <code class="docutils literal notranslate"><span class="pre">get_editable_dags</span></code>, and <code class="docutils literal notranslate"><span class="pre">get_accessible_dags</span></code>. (#19961)</p></li>
<li><p>Remove postgres 9.6 support (#19987)</p></li>
<li><p>Removed hardcoded connection types. Check if hook is instance of DbApiHook. (#19639)</p></li>
<li><p>add kubernetes 1.21 support (#19557)</p></li>
<li><p>Add FAB base class and set import_name explicitly. (#19667)</p></li>
<li><p>Removes unused state transitions to handle auto-changing view permissions. (#19153)</p></li>
<li><p>Chore: Use enum for <code class="docutils literal notranslate"><span class="pre">__var</span></code> and <code class="docutils literal notranslate"><span class="pre">__type</span></code> members (#19303)</p></li>
<li><p>Use fab models (#19121)</p></li>
<li><p>Consolidate method names between Airflow Security Manager and FAB default (#18726)</p></li>
<li><p>Remove distutils usages for Python 3.10 (#19064)</p></li>
<li><p>Removing redundant <code class="docutils literal notranslate"><span class="pre">max_tis_per_query</span></code> initialisation on SchedulerJob (#19020)</p></li>
<li><p>Remove deprecated usage of <code class="docutils literal notranslate"><span class="pre">init_role()</span></code> from API (#18820)</p></li>
<li><p>Remove duplicate code on dbapi hook (#18821)</p></li>
</ul>
</section>
</section>
<section id="airflow-2-2-5-2022-04-04">
<h2><a class="toc-backref" href="#id252" role="doc-backlink">Airflow 2.2.5, (2022-04-04)</a><a class="headerlink" href="#airflow-2-2-5-2022-04-04" title="Link to this heading">¶</a></h2>
<section id="id152">
<h3>Significant Changes<a class="headerlink" href="#id152" title="Link to this heading">¶</a></h3>
<p>No significant changes.</p>
<section id="id153">
<h4>Bug Fixes<a class="headerlink" href="#id153" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Check and disallow a relative path for sqlite (#22530)</p></li>
<li><p>Fixed dask executor and tests (#22027)</p></li>
<li><p>Fix broken links to celery documentation (#22364)</p></li>
<li><p>Fix incorrect data provided to tries &amp; landing times charts (#21928)</p></li>
<li><p>Fix assignment of unassigned triggers (#21770)</p></li>
<li><p>Fix triggerer <code class="docutils literal notranslate"><span class="pre">--capacity</span></code> parameter (#21753)</p></li>
<li><p>Fix graph auto-refresh on page load (#21736)</p></li>
<li><p>Fix filesystem sensor for directories (#21729)</p></li>
<li><p>Fix stray <code class="docutils literal notranslate"><span class="pre">order_by(TaskInstance.execution_date)</span></code> (#21705)</p></li>
<li><p>Correctly handle multiple ‘=’ in LocalFileSystem secrets. (#21694)</p></li>
<li><p>Log exception in local executor (#21667)</p></li>
<li><p>Disable <code class="docutils literal notranslate"><span class="pre">default_pool</span></code> delete on web ui (#21658)</p></li>
<li><p>Extends <code class="docutils literal notranslate"><span class="pre">typing-extensions</span></code> to be installed with python 3.8+ #21566 (#21567)</p></li>
<li><p>Dispose unused connection pool (#21565)</p></li>
<li><p>Fix logging JDBC SQL error when task fails (#21540)</p></li>
<li><p>Filter out default configs when overrides exist. (#21539)</p></li>
<li><p>Fix Resources <code class="docutils literal notranslate"><span class="pre">__eq__</span></code> check (#21442)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">max_active_runs=1</span></code> not scheduling runs when <code class="docutils literal notranslate"><span class="pre">min_file_process_interval</span></code> is high (#21413)</p></li>
<li><p>Reduce DB load incurred by Stale DAG deactivation (#21399)</p></li>
<li><p>Fix race condition between triggerer and scheduler (#21316)</p></li>
<li><p>Fix trigger dag redirect from task instance log view (#21239)</p></li>
<li><p>Log traceback in trigger exceptions (#21213)</p></li>
<li><p>A trigger might use a connection; make sure we mask passwords (#21207)</p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">ExternalTaskSensorLink</span></code> to handle templated <code class="docutils literal notranslate"><span class="pre">external_dag_id</span></code> (#21192)</p></li>
<li><p>Ensure <code class="docutils literal notranslate"><span class="pre">clear_task_instances</span></code> sets valid run state (#21116)</p></li>
<li><p>Fix: Update custom connection field processing (#20883)</p></li>
<li><p>Truncate stack trace to DAG user code for exceptions raised during execution (#20731)</p></li>
<li><p>Fix duplicate trigger creation race condition (#20699)</p></li>
<li><p>Fix Tasks getting stuck in scheduled state (#19747)</p></li>
<li><p>Fix: Do not render undefined graph edges (#19684)</p></li>
<li><p>Set <code class="docutils literal notranslate"><span class="pre">X-Frame-Options</span></code> header to DENY only if <code class="docutils literal notranslate"><span class="pre">X_FRAME_ENABLED</span></code> is set to true. (#19491)</p></li>
</ul>
</section>
<section id="id154">
<h4>Doc only changes<a class="headerlink" href="#id154" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>adding <code class="docutils literal notranslate"><span class="pre">on_execute_callback</span></code> to callbacks docs (#22362)</p></li>
<li><p>Add documentation on specifying a DB schema. (#22347)</p></li>
<li><p>Fix postgres part of pipeline example of tutorial (#21586)</p></li>
<li><p>Extend documentation for states of DAGs &amp; tasks and update trigger rules docs (#21382)</p></li>
<li><p>DB upgrade is required when updating Airflow (#22061)</p></li>
<li><p>Remove misleading MSSQL information from the docs (#21998)</p></li>
</ul>
</section>
<section id="misc">
<h4>Misc<a class="headerlink" href="#misc" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Add the new Airflow Trove Classifier to setup.cfg (#22241)</p></li>
<li><p>Rename <code class="docutils literal notranslate"><span class="pre">to_delete</span></code> to <code class="docutils literal notranslate"><span class="pre">to_cancel</span></code> in TriggerRunner (#20658)</p></li>
<li><p>Update Flask-AppBuilder to <code class="docutils literal notranslate"><span class="pre">3.4.5</span></code> (#22596)</p></li>
</ul>
</section>
</section>
</section>
<section id="airflow-2-2-4-2022-02-22">
<h2><a class="toc-backref" href="#id253" role="doc-backlink">Airflow 2.2.4, (2022-02-22)</a><a class="headerlink" href="#airflow-2-2-4-2022-02-22" title="Link to this heading">¶</a></h2>
<section id="id155">
<h3>Significant Changes<a class="headerlink" href="#id155" title="Link to this heading">¶</a></h3>
<section id="smart-sensors-deprecated">
<h4>Smart sensors deprecated<a class="headerlink" href="#smart-sensors-deprecated" title="Link to this heading">¶</a></h4>
<p>Smart sensors, an “early access” feature added in Airflow 2, are now deprecated and will be removed in Airflow 2.4.0. They have been superseded by Deferrable Operators, added in Airflow 2.2.0.</p>
<p>See <a class="reference external" href="https://airflow.apache.org/docs/apache-airflow/2.2.4/concepts/smart-sensors.html#migrating-to-deferrable-operators">Migrating to Deferrable Operators</a> for details on how to migrate.</p>
</section>
</section>
<section id="id156">
<h3>Bug Fixes<a class="headerlink" href="#id156" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Adding missing login provider related methods from Flask-Appbuilder (#21294)</p></li>
<li><p>Fix slow DAG deletion due to missing <code class="docutils literal notranslate"><span class="pre">dag_id</span></code> index for job table (#20282)</p></li>
<li><p>Add a session backend to store session data in the database (#21478)</p></li>
<li><p>Show task status only for running dags or only for the last finished dag (#21352)</p></li>
<li><p>Use compat data interval shim in log handlers (#21289)</p></li>
<li><p>Fix mismatch in generated run_id and logical date of DAG run (#18707)</p></li>
<li><p>Fix TriggerDagRunOperator extra link (#19410)</p></li>
<li><p>Add possibility to create user in the Remote User mode (#19963)</p></li>
<li><p>Avoid deadlock when rescheduling task (#21362)</p></li>
<li><p>Fix the incorrect scheduling time for the first run of dag (#21011)</p></li>
<li><p>Fix Scheduler crash when executing task instances of missing DAG (#20349)</p></li>
<li><p>Deferred tasks does not cancel when DAG is marked fail (#20649)</p></li>
<li><p>Removed duplicated dag_run join in <code class="docutils literal notranslate"><span class="pre">Dag.get_task_instances()</span></code> (#20591)</p></li>
<li><p>Avoid unintentional data loss when deleting DAGs (#20758)</p></li>
<li><p>Fix session usage in <code class="docutils literal notranslate"><span class="pre">/rendered-k8s</span></code> view (#21006)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">dags</span> <span class="pre">backfill</span> <span class="pre">--reset-dagruns</span></code> errors when run twice (#21062)</p></li>
<li><p>Do not set <code class="docutils literal notranslate"><span class="pre">TaskInstance.max_tries</span></code> in <code class="docutils literal notranslate"><span class="pre">refresh_from_task</span></code> (#21018)</p></li>
<li><p>Don’t require dag_id in body in dagrun REST API endpoint (#21024)</p></li>
<li><p>Add Roles from Azure OAUTH Response in internal Security Manager (#20707)</p></li>
<li><p>Allow Viewing DagRuns and TIs if a user has DAG “read” perms (#20663)</p></li>
<li><p>Fix running <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">dags</span> <span class="pre">test</span> <span class="pre">&lt;dag_id&gt;</span> <span class="pre">&lt;execution_dt&gt;</span></code> results in error when run twice (#21031)</p></li>
<li><p>Switch to non-vendored latest connexion library (#20910)</p></li>
<li><p>Bump flask-appbuilder to <code class="docutils literal notranslate"><span class="pre">&gt;=3.3.4</span></code> (#20628)</p></li>
<li><p>upgrade celery to <code class="docutils literal notranslate"><span class="pre">5.2.3</span></code> (#19703)</p></li>
<li><p>Bump croniter from <code class="docutils literal notranslate"><span class="pre">&lt;1.1</span></code> to <code class="docutils literal notranslate"><span class="pre">&lt;1.2</span></code> (#20489)</p></li>
<li><p>Avoid calling <code class="docutils literal notranslate"><span class="pre">DAG.following_schedule()</span></code> for <code class="docutils literal notranslate"><span class="pre">TaskInstance.get_template_context()</span></code> (#20486)</p></li>
<li><p>Fix(standalone): Remove hardcoded Webserver port (#20429)</p></li>
<li><p>Remove unnecessary logging in experimental API (#20356)</p></li>
<li><p>Un-ignore DeprecationWarning (#20322)</p></li>
<li><p>Deepcopying Kubernetes Secrets attributes causing issues (#20318)</p></li>
<li><p>Fix(dag-dependencies): fix arrow styling (#20303)</p></li>
<li><p>Adds retry on taskinstance retrieval lock (#20030)</p></li>
<li><p>Correctly send timing metrics when using dogstatsd (fix schedule_delay metric) (#19973)</p></li>
<li><p>Enhance <code class="docutils literal notranslate"><span class="pre">multiple_outputs</span></code> inference of dict typing (#19608)</p></li>
<li><p>Fixing Amazon SES email backend (#18042)</p></li>
<li><p>Pin MarkupSafe until we are able to upgrade Flask/Jinja (#21664)</p></li>
</ul>
</section>
<section id="id157">
<h3>Doc only changes<a class="headerlink" href="#id157" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Added explaining concept of logical date in DAG run docs (#21433)</p></li>
<li><p>Add note about Variable precedence with env vars (#21568)</p></li>
<li><p>Update error docs to include before_send option (#21275)</p></li>
<li><p>Augment xcom docs (#20755)</p></li>
<li><p>Add documentation and release policy on “latest” constraints (#21093)</p></li>
<li><p>Add a link to the DAG model in the Python API reference (#21060)</p></li>
<li><p>Added an enum param example (#20841)</p></li>
<li><p>Compare taskgroup and subdag (#20700)</p></li>
<li><p>Add note about reserved <code class="docutils literal notranslate"><span class="pre">params</span></code> keyword (#20640)</p></li>
<li><p>Improve documentation on <code class="docutils literal notranslate"><span class="pre">Params</span></code> (#20567)</p></li>
<li><p>Fix typo in MySQL Database creation code (Set up DB docs)  (#20102)</p></li>
<li><p>Add requirements.txt description (#20048)</p></li>
<li><p>Clean up <code class="docutils literal notranslate"><span class="pre">default_args</span></code> usage in docs (#19803)</p></li>
<li><p>Add docker-compose explanation to conn localhost (#19076)</p></li>
<li><p>Update CSV ingest code for tutorial (#18960)</p></li>
<li><p>Adds Pendulum 1.x -&gt; 2.x upgrade documentation (#18955)</p></li>
<li><p>Clean up dynamic <code class="docutils literal notranslate"><span class="pre">start_date</span></code> values from docs (#19607)</p></li>
<li><p>Docs for multiple pool slots (#20257)</p></li>
<li><p>Update upgrading.rst with detailed code example of how to resolve post-upgrade warning (#19993)</p></li>
</ul>
</section>
<section id="id158">
<h3>Misc<a class="headerlink" href="#id158" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Deprecate some functions in the experimental API (#19931)</p></li>
<li><p>Deprecate smart sensors (#20151)</p></li>
</ul>
</section>
</section>
<section id="airflow-2-2-3-2021-12-21">
<h2><a class="toc-backref" href="#id254" role="doc-backlink">Airflow 2.2.3, (2021-12-21)</a><a class="headerlink" href="#airflow-2-2-3-2021-12-21" title="Link to this heading">¶</a></h2>
<section id="id159">
<h3>Significant Changes<a class="headerlink" href="#id159" title="Link to this heading">¶</a></h3>
<p>No significant changes.</p>
</section>
<section id="id160">
<h3>Bug Fixes<a class="headerlink" href="#id160" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Lazy Jinja2 context (#20217)</p></li>
<li><p>Exclude <code class="docutils literal notranslate"><span class="pre">snowflake-sqlalchemy</span></code> v1.2.5 (#20245)</p></li>
<li><p>Move away from legacy <code class="docutils literal notranslate"><span class="pre">importlib.resources</span></code> API (#19091)</p></li>
<li><p>Move <code class="docutils literal notranslate"><span class="pre">setgid</span></code> as the first command executed in forked task runner (#20040)</p></li>
<li><p>Fix race condition when starting <code class="docutils literal notranslate"><span class="pre">DagProcessorAgent</span></code> (#19935)</p></li>
<li><p>Limit <code class="docutils literal notranslate"><span class="pre">httpx</span></code> to &lt;0.20.0 (#20218)</p></li>
<li><p>Log provider import errors as debug warnings (#20172)</p></li>
<li><p>Bump minimum required <code class="docutils literal notranslate"><span class="pre">alembic</span></code> version (#20153)</p></li>
<li><p>Fix log link in gantt view (#20121)</p></li>
<li><p>fixing #19028 by moving chown to use sudo (#20114)</p></li>
<li><p>Lift off upper bound for <code class="docutils literal notranslate"><span class="pre">MarkupSafe</span></code> (#20113)</p></li>
<li><p>Fix infinite recursion on redact log (#20039)</p></li>
<li><p>Fix db downgrades (#19994)</p></li>
<li><p>Context class handles deprecation (#19886)</p></li>
<li><p>Fix possible reference to undeclared variable (#19933)</p></li>
<li><p>Validate <code class="docutils literal notranslate"><span class="pre">DagRun</span></code> state is valid on assignment (#19898)</p></li>
<li><p>Workaround occasional deadlocks with MSSQL (#19856)</p></li>
<li><p>Enable task run setting to be able reinitialize (#19845)</p></li>
<li><p>Fix log endpoint for same task (#19672)</p></li>
<li><p>Cast macro datetime string inputs explicitly (#19592)</p></li>
<li><p>Do not crash with stacktrace when task instance is missing (#19478)</p></li>
<li><p>Fix log timezone in task log view (#19342) (#19401)</p></li>
<li><p>Fix: Add taskgroup tooltip to graph view (#19083)</p></li>
<li><p>Rename execution date in forms and tables (#19063)</p></li>
<li><p>Simplify “invalid TI state” message (#19029)</p></li>
<li><p>Handle case of nonexistent file when preparing file path queue (#18998)</p></li>
<li><p>Do not create dagruns for DAGs with import errors  (#19367)</p></li>
<li><p>Fix field relabeling when switching between conn types (#19411)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">KubernetesExecutor</span></code> should default to template image if used (#19484)</p></li>
<li><p>Fix task instance api cannot list task instances with <code class="docutils literal notranslate"><span class="pre">None</span></code> state (#19487)</p></li>
<li><p>Fix IntegrityError in <code class="docutils literal notranslate"><span class="pre">DagFileProcessor.manage_slas</span></code> (#19553)</p></li>
<li><p>Declare data interval fields as serializable (#19616)</p></li>
<li><p>Relax timetable class validation (#19878)</p></li>
<li><p>Fix labels used to find queued <code class="docutils literal notranslate"><span class="pre">KubernetesExecutor</span></code> pods (#19904)</p></li>
<li><p>Fix moved data migration check for MySQL when replication is used (#19999)</p></li>
</ul>
</section>
<section id="id161">
<h3>Doc only changes<a class="headerlink" href="#id161" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Warn without tracebacks when example_dags are missing deps (#20295)</p></li>
<li><p>Deferrable operators doc clarification (#20150)</p></li>
<li><p>Ensure the example DAGs are all working (#19355)</p></li>
<li><p>Updating core example DAGs to use TaskFlow API where applicable (#18562)</p></li>
<li><p>Add xcom clearing behaviour on task retries (#19968)</p></li>
<li><p>Add a short chapter focusing on adapting secret format for connections (#19859)</p></li>
<li><p>Add information about supported OS-es for Apache Airflow (#19855)</p></li>
<li><p>Update docs to reflect that changes to the <code class="docutils literal notranslate"><span class="pre">base_log_folder</span></code> require updating other configs (#19793)</p></li>
<li><p>Disclaimer in <code class="docutils literal notranslate"><span class="pre">KubernetesExecutor</span></code> pod template docs (#19686)</p></li>
<li><p>Add upgrade note on <code class="docutils literal notranslate"><span class="pre">execution_date</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">run_id</span></code> (#19593)</p></li>
<li><p>Expanding <code class="docutils literal notranslate"><span class="pre">.output</span></code> operator property information in TaskFlow tutorial doc (#19214)</p></li>
<li><p>Add example SLA DAG (#19563)</p></li>
<li><p>Add a proper example to patch DAG (#19465)</p></li>
<li><p>Add DAG file processing description to Scheduler Concepts (#18954)</p></li>
<li><p>Updating explicit arg example in TaskFlow API tutorial doc (#18907)</p></li>
<li><p>Adds back documentation about context usage in <a class="reference external" href="mailto:Python/&#37;&#52;&#48;task">Python/<span>&#64;</span>task</a> (#18868)</p></li>
<li><p>Add release date for when an endpoint/field is added in the REST API (#19203)</p></li>
<li><p>Better <code class="docutils literal notranslate"><span class="pre">pod_template_file</span></code> examples (#19691)</p></li>
<li><p>Add description on how you can customize image entrypoint (#18915)</p></li>
<li><p>Dags-in-image pod template example should not have dag mounts (#19337)</p></li>
</ul>
</section>
</section>
<section id="airflow-2-2-2-2021-11-15">
<h2><a class="toc-backref" href="#id255" role="doc-backlink">Airflow 2.2.2 (2021-11-15)</a><a class="headerlink" href="#airflow-2-2-2-2021-11-15" title="Link to this heading">¶</a></h2>
<section id="id162">
<h3>Significant Changes<a class="headerlink" href="#id162" title="Link to this heading">¶</a></h3>
<p>No significant changes.</p>
</section>
<section id="id163">
<h3>Bug Fixes<a class="headerlink" href="#id163" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix bug when checking for existence of a Variable (#19395)</p></li>
<li><p>Fix Serialization when <code class="docutils literal notranslate"><span class="pre">relativedelta</span></code> is passed as <code class="docutils literal notranslate"><span class="pre">schedule_interval</span></code>  (#19418)</p></li>
<li><p>Fix moving of dangling TaskInstance rows for SQL Server (#19425)</p></li>
<li><p>Fix task instance modal in gantt view (#19258)</p></li>
<li><p>Fix serialization of <code class="docutils literal notranslate"><span class="pre">Params</span></code> with set data type (#19267)</p></li>
<li><p>Check if job object is <code class="docutils literal notranslate"><span class="pre">None</span></code> before calling <code class="docutils literal notranslate"><span class="pre">.is_alive()</span></code> (#19380)</p></li>
<li><p>Task should fail immediately when pod is unprocessable (#19359)</p></li>
<li><p>Fix downgrade for a DB Migration (#19390)</p></li>
<li><p>Only mark SchedulerJobs as failed, not any jobs (#19375)</p></li>
<li><p>Fix message on “Mark as” confirmation page (#19363)</p></li>
<li><p>Bugfix: Check next run exists before reading data interval (#19307)</p></li>
<li><p>Fix MySQL db migration with default encoding/collation (#19268)</p></li>
<li><p>Fix hidden tooltip position (#19261)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sqlite_default</span></code> Connection has been hard-coded to <code class="docutils literal notranslate"><span class="pre">/tmp</span></code>, use <code class="docutils literal notranslate"><span class="pre">gettempdir</span></code> instead (#19255)</p></li>
<li><p>Fix Toggle Wrap on DAG code page (#19211)</p></li>
<li><p>Clarify “dag not found” error message in CLI (#19338)</p></li>
<li><p>Add Note to SLA regarding <code class="docutils literal notranslate"><span class="pre">schedule_interval</span></code> (#19173)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">execution_date</span></code> to check for existing <code class="docutils literal notranslate"><span class="pre">DagRun</span></code> for <code class="docutils literal notranslate"><span class="pre">TriggerDagRunOperator</span></code> (#18968)</p></li>
<li><p>Add explicit session parameter in <code class="docutils literal notranslate"><span class="pre">PoolSlotsAvailableDep</span></code> (#18875)</p></li>
<li><p>FAB still requires <code class="docutils literal notranslate"><span class="pre">WTForms&lt;3.0</span></code> (#19466)</p></li>
<li><p>Fix missing dagruns when <code class="docutils literal notranslate"><span class="pre">catchup=True</span></code> (#19528)</p></li>
</ul>
</section>
<section id="id164">
<h3>Doc only changes<a class="headerlink" href="#id164" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add missing parameter documentation for “timetable” (#19282)</p></li>
<li><p>Improve Kubernetes Executor docs (#19339)</p></li>
<li><p>Update image tag used in docker docs</p></li>
</ul>
</section>
</section>
<section id="airflow-2-2-1-2021-10-29">
<h2><a class="toc-backref" href="#id256" role="doc-backlink">Airflow 2.2.1 (2021-10-29)</a><a class="headerlink" href="#airflow-2-2-1-2021-10-29" title="Link to this heading">¶</a></h2>
<section id="id165">
<h3>Significant Changes<a class="headerlink" href="#id165" title="Link to this heading">¶</a></h3>
<section id="param-s-default-value-for-default-removed">
<h4><code class="docutils literal notranslate"><span class="pre">Param</span></code>’s default value for <code class="docutils literal notranslate"><span class="pre">default</span></code> removed<a class="headerlink" href="#param-s-default-value-for-default-removed" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">Param</span></code>, introduced in Airflow 2.2.0, accidentally set the default value to <code class="docutils literal notranslate"><span class="pre">None</span></code>. This default has been removed. If you want <code class="docutils literal notranslate"><span class="pre">None</span></code> as your default, explicitly set it as such. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Param</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;null&quot;</span><span class="p">,</span> <span class="s2">&quot;string&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>Now if you resolve a <code class="docutils literal notranslate"><span class="pre">Param</span></code> without a default and don’t pass a value, you will get an <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>. For Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Param</span><span class="p">()</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>  <span class="c1"># raises TypeError</span>
</pre></div>
</div>
</section>
<section id="max-queued-runs-per-dag-configuration-has-been-removed">
<h4><code class="docutils literal notranslate"><span class="pre">max_queued_runs_per_dag</span></code> configuration has been removed<a class="headerlink" href="#max-queued-runs-per-dag-configuration-has-been-removed" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">max_queued_runs_per_dag</span></code> configuration option in <code class="docutils literal notranslate"><span class="pre">[core]</span></code> section has been removed. Previously, this controlled the number of queued dagrun
the scheduler can create in a dag. Now, the maximum number is controlled internally by the DAG’s <code class="docutils literal notranslate"><span class="pre">max_active_runs</span></code></p>
</section>
</section>
<section id="id166">
<h3>Bug Fixes<a class="headerlink" href="#id166" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix Unexpected commit error in SchedulerJob (#19213)</p></li>
<li><p>Add DagRun.logical_date as a property (#19198)</p></li>
<li><p>Clear <code class="docutils literal notranslate"><span class="pre">ti.next_method</span></code> and <code class="docutils literal notranslate"><span class="pre">ti.next_kwargs</span></code> on task finish (#19183)</p></li>
<li><p>Faster PostgreSQL db migration to Airflow 2.2 (#19166)</p></li>
<li><p>Remove incorrect type comment in <code class="docutils literal notranslate"><span class="pre">Swagger2Specification._set_defaults</span></code> classmethod (#19065)</p></li>
<li><p>Add TriggererJob to jobs check command (#19179, #19185)</p></li>
<li><p>Hide tooltip when next run is <code class="docutils literal notranslate"><span class="pre">None</span></code> (#19112)</p></li>
<li><p>Create TI context with data interval compat layer (#19148)</p></li>
<li><p>Fix queued dag runs changes <code class="docutils literal notranslate"><span class="pre">catchup=False</span></code> behaviour (#19130, #19145)</p></li>
<li><p>add detailed information to logging when a dag or a task finishes. (#19097)</p></li>
<li><p>Warn about unsupported Python 3.10 (#19060)</p></li>
<li><p>Fix catchup by limiting queued dagrun creation using <code class="docutils literal notranslate"><span class="pre">max_active_runs</span></code> (#18897)</p></li>
<li><p>Prevent scheduler crash when serialized dag is missing (#19113)</p></li>
<li><p>Don’t install SQLAlchemy/Pendulum adapters for other DBs (#18745)</p></li>
<li><p>Workaround <code class="docutils literal notranslate"><span class="pre">libstdcpp</span></code> TLS error (#19010)</p></li>
<li><p>Change <code class="docutils literal notranslate"><span class="pre">ds</span></code>, <code class="docutils literal notranslate"><span class="pre">ts</span></code>, etc. back to use logical date (#19088)</p></li>
<li><p>Ensure task state doesn’t change when marked as failed/success/skipped (#19095)</p></li>
<li><p>Relax packaging requirement (#19087)</p></li>
<li><p>Rename trigger page label to Logical Date (#19061)</p></li>
<li><p>Allow Param to support a default value of <code class="docutils literal notranslate"><span class="pre">None</span></code> (#19034)</p></li>
<li><p>Upgrade old DAG/task param format when deserializing from the DB (#18986)</p></li>
<li><p>Don’t bake ENV and _cmd into tmp config for non-sudo (#18772)</p></li>
<li><p>CLI: Fail <code class="docutils literal notranslate"><span class="pre">backfill</span></code> command before loading DAGs if missing args (#18994)</p></li>
<li><p>BugFix: Null execution date on insert to <code class="docutils literal notranslate"><span class="pre">task_fail</span></code> violating NOT NULL (#18979)</p></li>
<li><p>Try to move “dangling” rows in db upgrade (#18953)</p></li>
<li><p>Row lock TI query in <code class="docutils literal notranslate"><span class="pre">SchedulerJob._process_executor_events</span></code> (#18975)</p></li>
<li><p>Sentry before send fallback (#18980)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">XCom.delete</span></code> error in Airflow 2.2.0 (#18956)</p></li>
<li><p>Check python version before starting triggerer (#18926)</p></li>
</ul>
</section>
<section id="id167">
<h3>Doc only changes<a class="headerlink" href="#id167" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Update access control documentation for TaskInstances and DagRuns (#18644)</p></li>
<li><p>Add information about keepalives for managed Postgres (#18850)</p></li>
<li><p>Doc: Add Callbacks Section to Logging &amp; Monitoring (#18842)</p></li>
<li><p>Group PATCH DAGrun together with other DAGRun endpoints (#18885)</p></li>
</ul>
</section>
</section>
<section id="airflow-2-2-0-2021-10-11">
<h2><a class="toc-backref" href="#id257" role="doc-backlink">Airflow 2.2.0 (2021-10-11)</a><a class="headerlink" href="#airflow-2-2-0-2021-10-11" title="Link to this heading">¶</a></h2>
<section id="id168">
<h3>Significant Changes<a class="headerlink" href="#id168" title="Link to this heading">¶</a></h3>
<p>Note: Upgrading the database to <code class="docutils literal notranslate"><span class="pre">2.2.0</span></code> or later can take some time to complete, particularly if you have a large <code class="docutils literal notranslate"><span class="pre">task_instance</span></code> table.</p>
<section id="worker-log-server-port-configuration-has-been-moved-to-the-logging-section">
<h4><code class="docutils literal notranslate"><span class="pre">worker_log_server_port</span></code> configuration has been moved to the <code class="docutils literal notranslate"><span class="pre">logging</span></code> section.<a class="headerlink" href="#worker-log-server-port-configuration-has-been-moved-to-the-logging-section" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">worker_log_server_port</span></code> configuration option has been moved from <code class="docutils literal notranslate"><span class="pre">[celery]</span></code> section to <code class="docutils literal notranslate"><span class="pre">[logging]</span></code> section to allow for reuse between different executors.</p>
</section>
<section id="pandas-is-now-an-optional-dependency">
<h4><code class="docutils literal notranslate"><span class="pre">pandas</span></code> is now an optional dependency<a class="headerlink" href="#pandas-is-now-an-optional-dependency" title="Link to this heading">¶</a></h4>
<p>Previously <code class="docutils literal notranslate"><span class="pre">pandas</span></code> was a core requirement so when you run <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">apache-airflow</span></code> it looked for <code class="docutils literal notranslate"><span class="pre">pandas</span></code>
library and installed it if it does not exist.</p>
<p>If you want to install <code class="docutils literal notranslate"><span class="pre">pandas</span></code> compatible with Airflow, you can use <code class="docutils literal notranslate"><span class="pre">[pandas]</span></code> extra while
installing Airflow, example for Python 3.8 and Airflow 2.1.2:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span><span class="s2">&quot;apache-airflow[pandas]==2.1.2&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--constraint<span class="w"> </span>https://raw.githubusercontent.com/apache/airflow/constraints-2.1.2/constraints-3.8.txt<span class="s2">&quot;</span>
</pre></div>
</div>
</section>
<section id="none-failed-or-skipped-trigger-rule-has-been-deprecated">
<h4><code class="docutils literal notranslate"><span class="pre">none_failed_or_skipped</span></code> trigger rule has been deprecated<a class="headerlink" href="#none-failed-or-skipped-trigger-rule-has-been-deprecated" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">TriggerRule.NONE_FAILED_OR_SKIPPED</span></code> is replaced by <code class="docutils literal notranslate"><span class="pre">TriggerRule.NONE_FAILED_MIN_ONE_SUCCESS</span></code>.
This is only name change, no functionality changes made.
This change is backward compatible however <code class="docutils literal notranslate"><span class="pre">TriggerRule.NONE_FAILED_OR_SKIPPED</span></code> will be removed in next major release.</p>
</section>
<section id="dummy-trigger-rule-has-been-deprecated">
<h4>Dummy trigger rule has been deprecated<a class="headerlink" href="#dummy-trigger-rule-has-been-deprecated" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">TriggerRule.DUMMY</span></code> is replaced by <code class="docutils literal notranslate"><span class="pre">TriggerRule.ALWAYS</span></code>.
This is only name change, no functionality changes made.
This change is backward compatible however <code class="docutils literal notranslate"><span class="pre">TriggerRule.DUMMY</span></code> will be removed in next major release.</p>
</section>
<section id="dag-concurrency-settings-have-been-renamed">
<h4>DAG concurrency settings have been renamed<a class="headerlink" href="#dag-concurrency-settings-have-been-renamed" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">[core]</span> <span class="pre">dag_concurrency</span></code> setting in <code class="docutils literal notranslate"><span class="pre">airflow.cfg</span></code> has been renamed to <code class="docutils literal notranslate"><span class="pre">[core]</span> <span class="pre">max_active_tasks_per_dag</span></code>
for better understanding.</p>
<p>It is the maximum number of task instances allowed to run concurrently in each DAG. To calculate
the number of tasks that is running concurrently for a DAG, add up the number of running
tasks for all DAG runs of the DAG.</p>
<p>This is configurable at the DAG level with <code class="docutils literal notranslate"><span class="pre">max_active_tasks</span></code> and a default can be set in <code class="docutils literal notranslate"><span class="pre">airflow.cfg</span></code> as
<code class="docutils literal notranslate"><span class="pre">[core]</span> <span class="pre">max_active_tasks_per_dag</span></code>.</p>
<p><strong>Before</strong>:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[core]</span>
<span class="na">dag_concurrency</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">16</span>
</pre></div>
</div>
<p><strong>Now</strong>:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[core]</span>
<span class="na">max_active_tasks_per_dag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">16</span>
</pre></div>
</div>
<p>Similarly, <code class="docutils literal notranslate"><span class="pre">DAG.concurrency</span></code> has been renamed to <code class="docutils literal notranslate"><span class="pre">DAG.max_active_tasks</span></code>.</p>
<p><strong>Before</strong>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dag</span> <span class="o">=</span> <span class="n">DAG</span><span class="p">(</span>
    <span class="n">dag_id</span><span class="o">=</span><span class="s2">&quot;example_dag&quot;</span><span class="p">,</span>
    <span class="n">start_date</span><span class="o">=</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">catchup</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">concurrency</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p><strong>Now</strong>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dag</span> <span class="o">=</span> <span class="n">DAG</span><span class="p">(</span>
    <span class="n">dag_id</span><span class="o">=</span><span class="s2">&quot;example_dag&quot;</span><span class="p">,</span>
    <span class="n">start_date</span><span class="o">=</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">catchup</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">max_active_tasks</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>If you are using DAGs Details API endpoint, use <code class="docutils literal notranslate"><span class="pre">max_active_tasks</span></code> instead of <code class="docutils literal notranslate"><span class="pre">concurrency</span></code>.</p>
</section>
<section id="task-concurrency-parameter-has-been-renamed">
<h4>Task concurrency parameter has been renamed<a class="headerlink" href="#task-concurrency-parameter-has-been-renamed" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">BaseOperator.task_concurrency</span></code> has been deprecated and renamed to <code class="docutils literal notranslate"><span class="pre">max_active_tis_per_dag</span></code> for
better understanding.</p>
<p>This parameter controls the number of concurrent running task instances across <code class="docutils literal notranslate"><span class="pre">dag_runs</span></code>
per task.</p>
<p><strong>Before</strong>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">DAG</span><span class="p">(</span><span class="n">dag_id</span><span class="o">=</span><span class="s2">&quot;task_concurrency_example&quot;</span><span class="p">):</span>
    <span class="n">BashOperator</span><span class="p">(</span><span class="n">task_id</span><span class="o">=</span><span class="s2">&quot;t1&quot;</span><span class="p">,</span> <span class="n">task_concurrency</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">bash_command</span><span class="o">=</span><span class="s2">&quot;echo Hi&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>After</strong>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">DAG</span><span class="p">(</span><span class="n">dag_id</span><span class="o">=</span><span class="s2">&quot;task_concurrency_example&quot;</span><span class="p">):</span>
    <span class="n">BashOperator</span><span class="p">(</span><span class="n">task_id</span><span class="o">=</span><span class="s2">&quot;t1&quot;</span><span class="p">,</span> <span class="n">max_active_tis_per_dag</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">bash_command</span><span class="o">=</span><span class="s2">&quot;echo Hi&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="processor-poll-interval-config-have-been-renamed-to-scheduler-idle-sleep-time">
<h4><code class="docutils literal notranslate"><span class="pre">processor_poll_interval</span></code> config have been renamed to <code class="docutils literal notranslate"><span class="pre">scheduler_idle_sleep_time</span></code><a class="headerlink" href="#processor-poll-interval-config-have-been-renamed-to-scheduler-idle-sleep-time" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">[scheduler]</span> <span class="pre">processor_poll_interval</span></code> setting in <code class="docutils literal notranslate"><span class="pre">airflow.cfg</span></code> has been renamed to <code class="docutils literal notranslate"><span class="pre">[scheduler]</span> <span class="pre">scheduler_idle_sleep_time</span></code>
for better understanding.</p>
<p>It controls the ‘time to sleep’ at the end of the Scheduler loop if nothing was scheduled inside <code class="docutils literal notranslate"><span class="pre">SchedulerJob</span></code>.</p>
<p><strong>Before</strong>:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[scheduler]</span>
<span class="na">processor_poll_interval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">16</span>
</pre></div>
</div>
<p><strong>Now</strong>:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[scheduler]</span>
<span class="na">scheduler_idle_sleep_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">16</span>
</pre></div>
</div>
</section>
<section id="marking-success-failed-automatically-clears-failed-downstream-tasks">
<h4>Marking success/failed automatically clears failed downstream tasks<a class="headerlink" href="#marking-success-failed-automatically-clears-failed-downstream-tasks" title="Link to this heading">¶</a></h4>
<p>When marking a task success/failed in Graph View, its downstream tasks that are in failed/upstream_failed state are automatically cleared.</p>
</section>
<section id="core-store-dag-code-has-been-removed">
<h4><code class="docutils literal notranslate"><span class="pre">[core]</span> <span class="pre">store_dag_code</span></code> has been removed<a class="headerlink" href="#core-store-dag-code-has-been-removed" title="Link to this heading">¶</a></h4>
<p>While DAG Serialization is a strict requirements since Airflow 2, we allowed users to control
where the Webserver looked for when showing the <strong>Code View</strong>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">[core]</span> <span class="pre">store_dag_code</span></code> was set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, the Scheduler stored the code in the DAG file in the
DB (in <code class="docutils literal notranslate"><span class="pre">dag_code</span></code> table) as a plain string, and the webserver just read it from the same table.
If the value was set to <code class="docutils literal notranslate"><span class="pre">False</span></code>, the webserver read it from the DAG file.</p>
<p>While this setting made sense for Airflow &lt; 2, it caused some confusion to some users where they thought
this setting controlled DAG Serialization.</p>
<p>From Airflow 2.2, Airflow will only look for DB when a user clicks on <strong>Code View</strong> for a DAG.</p>
</section>
<section id="clearing-a-running-task-sets-its-state-to-restarting">
<h4>Clearing a running task sets its state to <code class="docutils literal notranslate"><span class="pre">RESTARTING</span></code><a class="headerlink" href="#clearing-a-running-task-sets-its-state-to-restarting" title="Link to this heading">¶</a></h4>
<p>Previously, clearing a running task sets its state to <code class="docutils literal notranslate"><span class="pre">SHUTDOWN</span></code>. The task gets killed and goes into <code class="docutils literal notranslate"><span class="pre">FAILED</span></code> state. After <a class="reference external" href="https://github.com/apache/airflow/pull/16681">#16681</a>, clearing a running task sets its state to <code class="docutils literal notranslate"><span class="pre">RESTARTING</span></code>. The task is eligible for retry without going into <code class="docutils literal notranslate"><span class="pre">FAILED</span></code> state.</p>
</section>
<section id="remove-taskinstance-log-filepath-attribute">
<h4>Remove <code class="docutils literal notranslate"><span class="pre">TaskInstance.log_filepath</span></code> attribute<a class="headerlink" href="#remove-taskinstance-log-filepath-attribute" title="Link to this heading">¶</a></h4>
<p>This method returned incorrect values for a long time, because it did not take into account the different
logger configuration and task retries. We have also started supporting more advanced tools that don’t use
files, so it is impossible to determine the correct file path in every case e.g. Stackdriver doesn’t use files
but identifies logs based on labels.  For this reason, we decided to delete this attribute.</p>
<p>If you need to read logs, you can use <code class="docutils literal notranslate"><span class="pre">airflow.utils.log.log_reader.TaskLogReader</span></code> class, which does not have
the above restrictions.</p>
</section>
<section id="if-a-sensor-times-out-it-will-not-retry">
<h4>If a sensor times out, it will not retry<a class="headerlink" href="#if-a-sensor-times-out-it-will-not-retry" title="Link to this heading">¶</a></h4>
<p>Previously, a sensor is retried when it times out until the number of <code class="docutils literal notranslate"><span class="pre">retries</span></code> are exhausted. So the effective timeout of a sensor is <code class="docutils literal notranslate"><span class="pre">timeout</span> <span class="pre">*</span> <span class="pre">(retries</span> <span class="pre">+</span> <span class="pre">1)</span></code>. This behaviour is now changed. A sensor will immediately fail without retrying if <code class="docutils literal notranslate"><span class="pre">timeout</span></code> is reached. If it’s desirable to let the sensor continue running for longer time, set a larger <code class="docutils literal notranslate"><span class="pre">timeout</span></code> instead.</p>
</section>
<section id="default-task-pools-slots-can-be-set-using-core-default-pool-task-slot-count">
<h4>Default Task Pools Slots can be set using <code class="docutils literal notranslate"><span class="pre">[core]</span> <span class="pre">default_pool_task_slot_count</span></code><a class="headerlink" href="#default-task-pools-slots-can-be-set-using-core-default-pool-task-slot-count" title="Link to this heading">¶</a></h4>
<p>By default tasks are running in <code class="docutils literal notranslate"><span class="pre">default_pool</span></code>. <code class="docutils literal notranslate"><span class="pre">default_pool</span></code> is initialized with <code class="docutils literal notranslate"><span class="pre">128</span></code> slots and user can change the
number of slots through UI/CLI/API for an existing deployment.</p>
<p>For new deployments, you can use <code class="docutils literal notranslate"><span class="pre">default_pool_task_slot_count</span></code> setting in <code class="docutils literal notranslate"><span class="pre">[core]</span></code> section. This setting would
not have any effect in an existing deployment where the <code class="docutils literal notranslate"><span class="pre">default_pool</span></code> already exists.</p>
<p>Previously this was controlled by <code class="docutils literal notranslate"><span class="pre">non_pooled_task_slot_count</span></code> in <code class="docutils literal notranslate"><span class="pre">[core]</span></code> section, which was not documented.</p>
</section>
<section id="webserver-dag-refresh-buttons-removed">
<h4>Webserver DAG refresh buttons removed<a class="headerlink" href="#webserver-dag-refresh-buttons-removed" title="Link to this heading">¶</a></h4>
<p>Now that the DAG parser syncs DAG permissions there is no longer a need for manually refreshing DAGs. As such, the buttons to refresh a DAG have been removed from the UI.</p>
<p>In addition, the <code class="docutils literal notranslate"><span class="pre">/refresh</span></code> and <code class="docutils literal notranslate"><span class="pre">/refresh_all</span></code> webserver endpoints have also been removed.</p>
</section>
<section id="taskinstances-now-require-a-dagrun">
<h4>TaskInstances now <em>require</em> a DagRun<a class="headerlink" href="#taskinstances-now-require-a-dagrun" title="Link to this heading">¶</a></h4>
<p>Under normal operation every TaskInstance row in the database would have DagRun row too, but it was possible to manually delete the DagRun and Airflow would still schedule the TaskInstances.</p>
<p>In Airflow 2.2 we have changed this and now there is a database-level foreign key constraint ensuring that every TaskInstance has a DagRun row.</p>
<p>Before updating to this 2.2 release you will have to manually resolve any inconsistencies (add back DagRun rows, or delete TaskInstances) if you have any “dangling” TaskInstance” rows.</p>
<p>As part of this change the <code class="docutils literal notranslate"><span class="pre">clean_tis_without_dagrun_interval</span></code> config option under <code class="docutils literal notranslate"><span class="pre">[scheduler]</span></code> section has been removed and has no effect.</p>
</section>
<section id="taskinstance-and-taskreschedule-now-define-run-id-instead-of-execution-date">
<h4>TaskInstance and TaskReschedule now define <code class="docutils literal notranslate"><span class="pre">run_id</span></code> instead of <code class="docutils literal notranslate"><span class="pre">execution_date</span></code><a class="headerlink" href="#taskinstance-and-taskreschedule-now-define-run-id-instead-of-execution-date" title="Link to this heading">¶</a></h4>
<p>As a part of the TaskInstance-DagRun relation change, the <code class="docutils literal notranslate"><span class="pre">execution_date</span></code> columns on TaskInstance and TaskReschedule have been removed from the database, and replaced by <a class="reference external" href="https://docs.sqlalchemy.org/en/13/orm/extensions/associationproxy.html">association proxy</a> fields at the ORM level. If you access Airflow’s metadatabase directly, you should rewrite the implementation to use the <code class="docutils literal notranslate"><span class="pre">run_id</span></code> columns instead.</p>
<p>Note that Airflow’s metadatabase definition on both the database and ORM levels are considered implementation detail without strict backward compatibility guarantees.</p>
</section>
<section id="daskexecutor-dask-worker-resources-and-queues">
<h4>DaskExecutor - Dask Worker Resources and queues<a class="headerlink" href="#daskexecutor-dask-worker-resources-and-queues" title="Link to this heading">¶</a></h4>
<p>If dask workers are not started with complementary resources to match the specified queues, it will now result in an <code class="docutils literal notranslate"><span class="pre">AirflowException</span></code>, whereas before it would have just ignored the <code class="docutils literal notranslate"><span class="pre">queue</span></code> argument.</p>
</section>
<section id="logical-date-of-a-dag-run-triggered-from-the-web-ui-now-have-its-sub-second-component-set-to-zero">
<h4>Logical date of a DAG run triggered from the web UI now have its sub-second component set to zero<a class="headerlink" href="#logical-date-of-a-dag-run-triggered-from-the-web-ui-now-have-its-sub-second-component-set-to-zero" title="Link to this heading">¶</a></h4>
<p>Due to a change in how the logical date (<code class="docutils literal notranslate"><span class="pre">execution_date</span></code>) is generated for a manual DAG run, a manual DAG run’s logical date may not match its time-of-trigger, but have its sub-second part zero-ed out. For example, a DAG run triggered on <code class="docutils literal notranslate"><span class="pre">2021-10-11T12:34:56.78901</span></code> would have its logical date set to <code class="docutils literal notranslate"><span class="pre">2021-10-11T12:34:56.00000</span></code>.</p>
<p>This may affect some logic that expects on this quirk to detect whether a run is triggered manually or not. Note that <code class="docutils literal notranslate"><span class="pre">dag_run.run_type</span></code> is a more authoritative value for this purpose. Also, if you need this distinction between automated and manually-triggered run for “next execution date” calculation, please also consider using the new data interval variables instead, which provide a more consistent behavior between the two run types.</p>
</section>
</section>
<section id="id171">
<h3>New Features<a class="headerlink" href="#id171" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>AIP-39: Add (customizable) Timetable class to Airflow for richer scheduling behaviour (#15397, #16030,
#16352, #17030, #17122, #17414, #17552, #17755, #17989, #18084, #18088, #18244, #18266, #18420, #18434,
#18421, #18475, #18499, #18573, #18522, #18729, #18706, #18742, #18786, #18804)</p></li>
<li><p>AIP-40: Add Deferrable “Async” Tasks (#15389, #17564, #17565, #17601, #17745, #17747, #17748, #17875,
#17876, #18129, #18210, #18214, #18552, #18728, #18414)</p></li>
<li><p>Add a Docker Taskflow decorator (#15330, #18739)</p></li>
<li><p>Add Airflow Standalone command (#15826)</p></li>
<li><p>Display alert messages on dashboard from local settings (#18284)</p></li>
<li><p>Advanced Params using json-schema (#17100)</p></li>
<li><p>Ability to test connections from UI or API (#15795, #18750)</p></li>
<li><p>Add Next Run to UI (#17732)</p></li>
<li><p>Add default weight rule configuration option (#18627)</p></li>
<li><p>Add a calendar field to choose the execution date of the DAG when triggering it (#16141)</p></li>
<li><p>Allow setting specific <code class="docutils literal notranslate"><span class="pre">cwd</span></code> for BashOperator (#17751)</p></li>
<li><p>Show import errors in DAG views (#17818)</p></li>
<li><p>Add pre/post execution hooks [Experimental] (#17576)</p></li>
<li><p>Added table to view providers in Airflow ui under admin tab (#15385)</p></li>
<li><p>Adds secrets backend/logging/auth information to provider yaml (#17625)</p></li>
<li><p>Add date format filters to Jinja environment (#17451)</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">RESTARTING</span></code> state (#16681)</p></li>
<li><p>Webserver: Unpause DAG on manual trigger (#16569)</p></li>
<li><p>API endpoint to create new user (#16609)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">insert_args</span></code> for support transfer replace (#15825)</p></li>
<li><p>Add recursive flag to glob in filesystem sensor (#16894)</p></li>
<li><p>Add conn to jinja template context (#16686)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">default_args</span></code> for <code class="docutils literal notranslate"><span class="pre">TaskGroup</span></code> (#16557)</p></li>
<li><p>Allow adding duplicate connections from UI (#15574)</p></li>
<li><p>Allow specifying multiple URLs via the CORS config option (#17941)</p></li>
<li><p>Implement API endpoint for DAG deletion (#17980)</p></li>
<li><p>Add DAG run endpoint for marking a dagrun success or failed(#17839)</p></li>
<li><p>Add support for <code class="docutils literal notranslate"><span class="pre">kinit</span></code> options <code class="docutils literal notranslate"><span class="pre">[-f|-F]</span></code> and <code class="docutils literal notranslate"><span class="pre">[-a|-A]</span></code> (#17816)</p></li>
<li><p>Queue support for <code class="docutils literal notranslate"><span class="pre">DaskExecutor</span></code> using Dask Worker Resources (#16829, #18720)</p></li>
<li><p>Make auto refresh interval configurable (#18107)</p></li>
</ul>
</section>
<section id="id172">
<h3>Improvements<a class="headerlink" href="#id172" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Small improvements for Airflow UI (#18715, #18795)</p></li>
<li><p>Rename <code class="docutils literal notranslate"><span class="pre">processor_poll_interval</span></code> to <code class="docutils literal notranslate"><span class="pre">scheduler_idle_sleep_time</span></code> (#18704)</p></li>
<li><p>Check the allowed values for the logging level (#18651)</p></li>
<li><p>Fix error on triggering a dag that doesn’t exist using <code class="docutils literal notranslate"><span class="pre">dagrun_conf</span></code> (#18655)</p></li>
<li><p>Add muldelete action to <code class="docutils literal notranslate"><span class="pre">TaskInstanceModelView</span></code> (#18438)</p></li>
<li><p>Avoid importing DAGs during clean DB installation (#18450)</p></li>
<li><p>Require can_edit on DAG privileges to modify TaskInstances and DagRuns (#16634)</p></li>
<li><p>Make Kubernetes job description fit on one log line (#18377)</p></li>
<li><p>Always draw borders if task instance state is null or undefined (#18033)</p></li>
<li><p>Inclusive Language (#18349)</p></li>
<li><p>Improved log handling for zombie tasks (#18277)</p></li>
<li><p>Adding <code class="docutils literal notranslate"><span class="pre">Variable.update</span></code> method and improving detection of variable key collisions (#18159)</p></li>
<li><p>Add note about params on trigger DAG page (#18166)</p></li>
<li><p>Change <code class="docutils literal notranslate"><span class="pre">TaskInstance</span></code> and <code class="docutils literal notranslate"><span class="pre">TaskReschedule</span></code> PK from <code class="docutils literal notranslate"><span class="pre">execution_date</span></code> to <code class="docutils literal notranslate"><span class="pre">run_id</span></code> (#17719)</p></li>
<li><p>Adding <code class="docutils literal notranslate"><span class="pre">TaskGroup</span></code> support in <code class="docutils literal notranslate"><span class="pre">BaseOperator.chain()</span></code> (#17456)</p></li>
<li><p>Allow filtering DAGS by tags in the REST API (#18090)</p></li>
<li><p>Optimize imports of Providers Manager (#18052)</p></li>
<li><p>Adds capability of Warnings for incompatible community providers (#18020)</p></li>
<li><p>Serialize the <code class="docutils literal notranslate"><span class="pre">template_ext</span></code> attribute to show it in UI (#17985)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">robots.txt</span></code> and <code class="docutils literal notranslate"><span class="pre">X-Robots-Tag</span></code> header (#17946)</p></li>
<li><p>Refactor <code class="docutils literal notranslate"><span class="pre">BranchDayOfWeekOperator</span></code>, <code class="docutils literal notranslate"><span class="pre">DayOfWeekSensor</span></code> (#17940)</p></li>
<li><p>Update error message to guide the user into self-help mostly (#17929)</p></li>
<li><p>Update to Celery 5 (#17397)</p></li>
<li><p>Add links to provider’s documentation (#17736)</p></li>
<li><p>Remove Marshmallow schema warnings (#17753)</p></li>
<li><p>Rename <code class="docutils literal notranslate"><span class="pre">none_failed_or_skipped</span></code> by <code class="docutils literal notranslate"><span class="pre">none_failed_min_one_success</span></code> trigger rule (#17683)</p></li>
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">[core]</span> <span class="pre">store_dag_code</span></code> &amp; use DB to get Dag Code (#16342)</p></li>
<li><p>Rename <code class="docutils literal notranslate"><span class="pre">task_concurrency</span></code> to <code class="docutils literal notranslate"><span class="pre">max_active_tis_per_dag</span></code> (#17708)</p></li>
<li><p>Import Hooks lazily individually in providers manager (#17682)</p></li>
<li><p>Adding support for multiple task-ids in the external task sensor (#17339)</p></li>
<li><p>Replace <code class="docutils literal notranslate"><span class="pre">execution_date</span></code> with <code class="docutils literal notranslate"><span class="pre">run_id</span></code> in airflow tasks run command (#16666)</p></li>
<li><p>Make output from users cli command more consistent (#17642)</p></li>
<li><p>Open relative extra links in place (#17477)</p></li>
<li><p>Move <code class="docutils literal notranslate"><span class="pre">worker_log_server_port</span></code> option to the logging section (#17621)</p></li>
<li><p>Use gunicorn to serve logs generated by worker (#17591)</p></li>
<li><p>Improve validation of Group id (#17578)</p></li>
<li><p>Simplify 404 page (#17501)</p></li>
<li><p>Add XCom.clear so it’s hookable in custom XCom backend (#17405)</p></li>
<li><p>Add deprecation notice for <code class="docutils literal notranslate"><span class="pre">SubDagOperator</span></code> (#17488)</p></li>
<li><p>Support DAGS folder being in different location on scheduler and runners (#16860)</p></li>
<li><p>Remove /dagrun/create and disable edit form generated by F.A.B (#17376)</p></li>
<li><p>Enable specifying dictionary paths in <code class="docutils literal notranslate"><span class="pre">template_fields_renderers</span></code> (#17321)</p></li>
<li><p>error early if virtualenv is missing (#15788)</p></li>
<li><p>Handle connection parameters added to Extra and custom fields (#17269)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">celery</span> <span class="pre">stop</span></code> to accept the pid file. (#17278)</p></li>
<li><p>Remove DAG refresh buttons (#17263)</p></li>
<li><p>Deprecate dummy trigger rule in favor of always (#17144)</p></li>
<li><p>Be verbose about failure to import <code class="docutils literal notranslate"><span class="pre">airflow_local_settings</span></code> (#17195)</p></li>
<li><p>Include exit code in <code class="docutils literal notranslate"><span class="pre">AirflowException</span></code> str when <code class="docutils literal notranslate"><span class="pre">BashOperator</span></code> fails. (#17151)</p></li>
<li><p>Adding EdgeModifier support for chain() (#17099)</p></li>
<li><p>Only allows supported field types to be used in custom connections (#17194)</p></li>
<li><p>Secrets backend failover (#16404)</p></li>
<li><p>Warn on Webserver when using <code class="docutils literal notranslate"><span class="pre">SQLite</span></code> or <code class="docutils literal notranslate"><span class="pre">SequentialExecutor</span></code> (#17133)</p></li>
<li><p>Extend <code class="docutils literal notranslate"><span class="pre">init_containers</span></code> defined in <code class="docutils literal notranslate"><span class="pre">pod_override</span></code> (#17537)</p></li>
<li><p>Client-side filter dag dependencies (#16253)</p></li>
<li><p>Improve executor validation in CLI (#17071)</p></li>
<li><p>Prevent running <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">db</span> <span class="pre">init/upgrade</span></code> migrations and setup in parallel. (#17078)</p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">chain()</span></code> and <code class="docutils literal notranslate"><span class="pre">cross_downstream()</span></code> to support <code class="docutils literal notranslate"><span class="pre">XComArgs</span></code> (#16732)</p></li>
<li><p>Improve graph view refresh (#16696)</p></li>
<li><p>When a task instance fails with exception, log it (#16805)</p></li>
<li><p>Set process title for <code class="docutils literal notranslate"><span class="pre">serve-logs</span></code> and <code class="docutils literal notranslate"><span class="pre">LocalExecutor</span></code> (#16644)</p></li>
<li><p>Rename <code class="docutils literal notranslate"><span class="pre">test_cycle</span></code> to <code class="docutils literal notranslate"><span class="pre">check_cycle</span></code> (#16617)</p></li>
<li><p>Add schema as <code class="docutils literal notranslate"><span class="pre">DbApiHook</span></code> instance attribute (#16521, #17423)</p></li>
<li><p>Improve compatibility with MSSQL (#9973)</p></li>
<li><p>Add transparency for unsupported connection type (#16220)</p></li>
<li><p>Call resource based fab methods (#16190)</p></li>
<li><p>Format more dates with timezone (#16129)</p></li>
<li><p>Replace deprecated <code class="docutils literal notranslate"><span class="pre">dag.sub_dag</span></code> with <code class="docutils literal notranslate"><span class="pre">dag.partial_subset</span></code> (#16179)</p></li>
<li><p>Treat <code class="docutils literal notranslate"><span class="pre">AirflowSensorTimeout</span></code> as immediate failure without retrying (#12058)</p></li>
<li><p>Marking success/failed automatically clears failed downstream tasks  (#13037)</p></li>
<li><p>Add close/open indicator for import dag errors (#16073)</p></li>
<li><p>Add collapsible import errors (#16072)</p></li>
<li><p>Always return a response in TI’s <code class="docutils literal notranslate"><span class="pre">action_clear</span></code> view (#15980)</p></li>
<li><p>Add cli command to delete user by email (#15873)</p></li>
<li><p>Use resource and action names for FAB permissions (#16410)</p></li>
<li><p>Rename DAG concurrency (<code class="docutils literal notranslate"><span class="pre">[core]</span> <span class="pre">dag_concurrency</span></code>) settings for easier understanding (#16267, #18730)</p></li>
<li><p>Calendar UI improvements (#16226)</p></li>
<li><p>Refactor: <code class="docutils literal notranslate"><span class="pre">SKIPPED</span></code> should not be logged again as <code class="docutils literal notranslate"><span class="pre">SUCCESS</span></code> (#14822)</p></li>
<li><p>Remove  version limits for <code class="docutils literal notranslate"><span class="pre">dnspython</span></code> (#18046, #18162)</p></li>
<li><p>Accept custom run ID in TriggerDagRunOperator (#18788)</p></li>
</ul>
</section>
<section id="id173">
<h3>Bug Fixes<a class="headerlink" href="#id173" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Make REST API patch user endpoint work the same way as the UI (#18757)</p></li>
<li><p>Properly set <code class="docutils literal notranslate"><span class="pre">start_date</span></code> for cleared tasks (#18708)</p></li>
<li><p>Ensure task_instance exists before running update on its state(REST API) (#18642)</p></li>
<li><p>Make <code class="docutils literal notranslate"><span class="pre">AirflowDateTimePickerWidget</span></code> a required field (#18602)</p></li>
<li><p>Retry deadlocked transactions on deleting old rendered task fields (#18616)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">retry_exponential_backoff</span></code> divide by zero error when retry delay is zero (#17003)</p></li>
<li><p>Improve how UI handles datetimes (#18611, #18700)</p></li>
<li><p>Bugfix: dag_bag.get_dag should return None, not raise exception (#18554)</p></li>
<li><p>Only show the task modal if it is a valid instance (#18570)</p></li>
<li><p>Fix accessing rendered <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">task.x</span> <span class="pre">}}</span></code> attributes from within templates (#18516)</p></li>
<li><p>Add missing email type of connection (#18502)</p></li>
<li><p>Don’t use flash for “same-page” UI messages. (#18462)</p></li>
<li><p>Fix task group tooltip (#18406)</p></li>
<li><p>Properly fix dagrun update state endpoint (#18370)</p></li>
<li><p>Properly handle ti state difference between executor and scheduler (#17819)</p></li>
<li><p>Fix stuck “queued” tasks in KubernetesExecutor (#18152)</p></li>
<li><p>Don’t permanently add zip DAGs to <code class="docutils literal notranslate"><span class="pre">sys.path</span></code> (#18384)</p></li>
<li><p>Fix random deadlocks in MSSQL database (#18362)</p></li>
<li><p>Deactivating DAGs which have been removed from files (#17121)</p></li>
<li><p>When syncing dags to db remove <code class="docutils literal notranslate"><span class="pre">dag_tag</span></code> rows that are now unused (#8231)</p></li>
<li><p>Graceful scheduler shutdown on error (#18092)</p></li>
<li><p>Fix mini scheduler not respecting <code class="docutils literal notranslate"><span class="pre">wait_for_downstream</span></code> dep (#18338)</p></li>
<li><p>Pass exception to <code class="docutils literal notranslate"><span class="pre">run_finished_callback</span></code> for Debug Executor (#17983)</p></li>
<li><p>Make <code class="docutils literal notranslate"><span class="pre">XCom.get_one</span></code> return full, not abbreviated values (#18274)</p></li>
<li><p>Use try/except when closing temporary file in task_runner (#18269)</p></li>
<li><p>show next run if not none (#18273)</p></li>
<li><p>Fix DB session handling in <code class="docutils literal notranslate"><span class="pre">XCom.set</span></code> (#18240)</p></li>
<li><p>Fix external_executor_id not being set for manually run jobs (#17207)</p></li>
<li><p>Fix deleting of zipped Dags in Serialized Dag Table (#18243)</p></li>
<li><p>Return explicit error on user-add for duplicated email (#18224)</p></li>
<li><p>Remove loading dots even when last run data is empty (#18230)</p></li>
<li><p>Swap dag import error dropdown icons (#18207)</p></li>
<li><p>Automatically create section when migrating config (#16814)</p></li>
<li><p>Set encoding to utf-8 by default while reading task logs (#17965)</p></li>
<li><p>Apply parent dag permissions to subdags (#18160)</p></li>
<li><p>Change id collation for MySQL to case-sensitive (#18072)</p></li>
<li><p>Logs task launch exception in <code class="docutils literal notranslate"><span class="pre">StandardTaskRunner</span></code> (#17967)</p></li>
<li><p>Applied permissions to <code class="docutils literal notranslate"><span class="pre">self._error_file</span></code> (#15947)</p></li>
<li><p>Fix blank dag dependencies view (#17990)</p></li>
<li><p>Add missing menu access for dag dependencies and configurations pages (#17450)</p></li>
<li><p>Fix passing Jinja templates in <code class="docutils literal notranslate"><span class="pre">DateTimeSensor</span></code> (#17959)</p></li>
<li><p>Fixing bug which restricted the visibility of ImportErrors (#17924)</p></li>
<li><p>Fix grammar in <code class="docutils literal notranslate"><span class="pre">traceback.html</span></code> (#17942)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">DagRunState</span></code> enum query for <code class="docutils literal notranslate"><span class="pre">MySQLdb</span></code> driver (#17886)</p></li>
<li><p>Fixed button size in “Actions” group. (#17902)</p></li>
<li><p>Only show import errors for DAGs a user can access (#17835)</p></li>
<li><p>Show all import_errors from zip files (#17759)</p></li>
<li><p>fix EXTRA_LOGGER_NAMES param and related docs (#17808)</p></li>
<li><p>Use one interpreter for Airflow and gunicorn (#17805)</p></li>
<li><p>Fix: Mysql 5.7 id utf8mb3 (#14535)</p></li>
<li><p>Fix dag_processing.last_duration metric random holes (#17769)</p></li>
<li><p>Automatically use <code class="docutils literal notranslate"><span class="pre">utf8mb3_general_ci</span></code> collation for MySQL (#17729)</p></li>
<li><p>fix: filter condition of <code class="docutils literal notranslate"><span class="pre">TaskInstance</span></code> does not work #17535 (#17548)</p></li>
<li><p>Dont use TaskInstance in CeleryExecutor.trigger_tasks (#16248)</p></li>
<li><p>Remove locks for upgrades in MSSQL (#17213)</p></li>
<li><p>Create virtualenv via python call (#17156)</p></li>
<li><p>Ensure a DAG is acyclic when running <code class="docutils literal notranslate"><span class="pre">DAG.cli()</span></code> (#17105)</p></li>
<li><p>Translate non-ascii characters (#17057)</p></li>
<li><p>Change the logic of <code class="docutils literal notranslate"><span class="pre">None</span></code> comparison in <code class="docutils literal notranslate"><span class="pre">model_list</span></code> template (#16893)</p></li>
<li><p>Have UI and POST /task_instances_state API endpoint have same behaviour (#16539)</p></li>
<li><p>ensure task is skipped if missing sla (#16719)</p></li>
<li><p>Fix direct use of <code class="docutils literal notranslate"><span class="pre">cached_property</span></code> module (#16710)</p></li>
<li><p>Fix TI success confirm page (#16650)</p></li>
<li><p>Modify return value check in python virtualenv jinja template (#16049)</p></li>
<li><p>Fix dag dependency search (#15924)</p></li>
<li><p>Make custom JSON encoder support <code class="docutils literal notranslate"><span class="pre">Decimal</span></code> (#16383)</p></li>
<li><p>Bugfix: Allow clearing tasks with just <code class="docutils literal notranslate"><span class="pre">dag_id</span></code> and empty <code class="docutils literal notranslate"><span class="pre">subdir</span></code> (#16513)</p></li>
<li><p>Convert port value to a number before calling test connection (#16497)</p></li>
<li><p>Handle missing/null serialized DAG dependencies (#16393)</p></li>
<li><p>Correctly set <code class="docutils literal notranslate"><span class="pre">dag.fileloc</span></code> when using the <code class="docutils literal notranslate"><span class="pre">&#64;dag</span></code> decorator (#16384)</p></li>
<li><p>Fix TI success/failure links (#16233)</p></li>
<li><p>Correctly implement autocomplete early return in <code class="docutils literal notranslate"><span class="pre">airflow/www/views.py</span></code> (#15940)</p></li>
<li><p>Backport fix to allow pickling of Loggers to Python 3.6 (#18798)</p></li>
<li><p>Fix bug that Backfill job fail to run when there are tasks run into <code class="docutils literal notranslate"><span class="pre">reschedule</span></code> state (#17305, #18806)</p></li>
</ul>
</section>
<section id="id174">
<h3>Doc only changes<a class="headerlink" href="#id174" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Update <code class="docutils literal notranslate"><span class="pre">dagbag_size</span></code> documentation (#18824)</p></li>
<li><p>Update documentation about bundle extras (#18828)</p></li>
<li><p>Fix wrong Postgres <code class="docutils literal notranslate"><span class="pre">search_path</span></code> set up instructions (#17600)</p></li>
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">AIRFLOW_GID</span></code> from Docker images (#18747)</p></li>
<li><p>Improve error message for BranchPythonOperator when no task_id to follow (#18471)</p></li>
<li><p>Improve guidance to users telling them what to do on import timeout (#18478)</p></li>
<li><p>Explain scheduler fine-tuning better (#18356)</p></li>
<li><p>Added example JSON for airflow pools import (#18376)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">sla_miss_callback</span></code> section to the documentation (#18305)</p></li>
<li><p>Explain sentry default environment variable for subprocess hook (#18346)</p></li>
<li><p>Refactor installation pages (#18282)</p></li>
<li><p>Improves quick-start docker-compose warnings and documentation (#18164)</p></li>
<li><p>Production-level support for MSSQL (#18382)</p></li>
<li><p>Update non-working example in documentation (#18067)</p></li>
<li><p>Remove default_args pattern + added get_current_context() use for Core Airflow example DAGs (#16866)</p></li>
<li><p>Update max_tis_per_query to better render on the webpage (#17971)</p></li>
<li><p>Adds Github Oauth example with team based authorization (#17896)</p></li>
<li><p>Update docker.rst (#17882)</p></li>
<li><p>Example xcom update (#17749)</p></li>
<li><p>Add doc warning about connections added via env vars (#17915)</p></li>
<li><p>fix wrong documents around upgrade-check.rst (#17903)</p></li>
<li><p>Add Brent to Committers list (#17873)</p></li>
<li><p>Improves documentation about modules management (#17757)</p></li>
<li><p>Remove deprecated metrics from metrics.rst (#17772)</p></li>
<li><p>Make sure “production-readiness” of docker-compose is well explained (#17731)</p></li>
<li><p>Doc: Update Upgrade to v2 docs with Airflow 1.10.x EOL dates (#17710)</p></li>
<li><p>Doc: Replace deprecated param from docstrings (#17709)</p></li>
<li><p>Describe dag owner more carefully (#17699)</p></li>
<li><p>Update note so avoid misinterpretation (#17701)</p></li>
<li><p>Docs: Make <code class="docutils literal notranslate"><span class="pre">DAG.is_active</span></code> read-only in API (#17667)</p></li>
<li><p>Update documentation regarding Python 3.9 support (#17611)</p></li>
<li><p>Fix MySQL database character set instruction (#17603)</p></li>
<li><p>Document overriding <code class="docutils literal notranslate"><span class="pre">XCom.clear</span></code> for data lifecycle management (#17589)</p></li>
<li><p>Path correction in docs for airflow core (#17567)</p></li>
<li><p>docs(celery): reworded, add actual multiple queues example (#17541)</p></li>
<li><p>Doc: Add FAQ to speed up parsing with tons of dag files (#17519)</p></li>
<li><p>Improve image building documentation for new users (#17409)</p></li>
<li><p>Doc: Strip unnecessary arguments from MariaDB JIRA URL (#17296)</p></li>
<li><p>Update warning about MariaDB and multiple schedulers (#17287)</p></li>
<li><p>Doc: Recommend using same configs on all Airflow components (#17146)</p></li>
<li><p>Move docs about masking to a new page (#17007)</p></li>
<li><p>Suggest use of Env vars instead of Airflow Vars in best practices doc (#16926)</p></li>
<li><p>Docs: Better description for <code class="docutils literal notranslate"><span class="pre">pod_template_file</span></code> (#16861)</p></li>
<li><p>Add Aneesh Joseph as Airflow Committer (#16835)</p></li>
<li><p>Docs: Added new pipeline example for the tutorial docs (#16548)</p></li>
<li><p>Remove upstart from docs (#16672)</p></li>
<li><p>Add new committers: <code class="docutils literal notranslate"><span class="pre">Jed</span></code> and <code class="docutils literal notranslate"><span class="pre">TP</span></code> (#16671)</p></li>
<li><p>Docs: Fix <code class="docutils literal notranslate"><span class="pre">flask-ouathlib</span></code> to <code class="docutils literal notranslate"><span class="pre">flask-oauthlib</span></code> in Upgrading docs (#16320)</p></li>
<li><p>Docs: Fix creating a connection docs (#16312)</p></li>
<li><p>Docs: Fix url for <code class="docutils literal notranslate"><span class="pre">Elasticsearch</span></code> (#16275)</p></li>
<li><p>Small improvements for README.md files (#16244)</p></li>
<li><p>Fix docs for <code class="docutils literal notranslate"><span class="pre">dag_concurrency</span></code> (#16177)</p></li>
<li><p>Check syntactic correctness for code-snippets (#16005)</p></li>
<li><p>Add proper link for wheel packages in docs. (#15999)</p></li>
<li><p>Add Docs for <code class="docutils literal notranslate"><span class="pre">default_pool</span></code> slots (#15997)</p></li>
<li><p>Add memory usage warning in quick-start documentation (#15967)</p></li>
<li><p>Update example <code class="docutils literal notranslate"><span class="pre">KubernetesExecutor</span></code> <code class="docutils literal notranslate"><span class="pre">git-sync</span></code> pod template file (#15904)</p></li>
<li><p>Docs: Fix Taskflow API docs (#16574)</p></li>
<li><p>Added new pipeline example for the tutorial docs (#16084)</p></li>
<li><p>Updating the DAG docstring to include <code class="docutils literal notranslate"><span class="pre">render_template_as_native_obj</span></code> (#16534)</p></li>
<li><p>Update docs on setting up SMTP (#16523)</p></li>
<li><p>Docs: Fix API verb from <code class="docutils literal notranslate"><span class="pre">POST</span></code> to <code class="docutils literal notranslate"><span class="pre">PATCH</span></code> (#16511)</p></li>
</ul>
</section>
<section id="id175">
<h3>Misc/Internal<a class="headerlink" href="#id175" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Renaming variables to be consistent with code logic (#18685)</p></li>
<li><p>Simplify strings previously split across lines (#18679)</p></li>
<li><p>fix exception string of <code class="docutils literal notranslate"><span class="pre">BranchPythonOperator</span></code> (#18623)</p></li>
<li><p>Add multiple roles when creating users (#18617)</p></li>
<li><p>Move FABs base Security Manager into Airflow. (#16647)</p></li>
<li><p>Remove unnecessary css state colors (#18461)</p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">boto3</span></code> to <code class="docutils literal notranslate"><span class="pre">&lt;1.19</span></code> (#18389)</p></li>
<li><p>Improve coverage for <code class="docutils literal notranslate"><span class="pre">airflow.security.kerberos</span> <span class="pre">module</span></code> (#18258)</p></li>
<li><p>Fix Amazon Kinesis test (#18337)</p></li>
<li><p>Fix provider test accessing <code class="docutils literal notranslate"><span class="pre">importlib-resources</span></code> (#18228)</p></li>
<li><p>Silence warnings in tests from using SubDagOperator (#18275)</p></li>
<li><p>Fix usage of <code class="docutils literal notranslate"><span class="pre">range(len())</span></code> to <code class="docutils literal notranslate"><span class="pre">enumerate</span></code> (#18174)</p></li>
<li><p>Test coverage on the autocomplete view (#15943)</p></li>
<li><p>Add “packaging” to core requirements (#18122)</p></li>
<li><p>Adds LoggingMixins to BaseTrigger (#18106)</p></li>
<li><p>Fix building docs in <code class="docutils literal notranslate"><span class="pre">main</span></code> builds (#18035)</p></li>
<li><p>Remove upper-limit on <code class="docutils literal notranslate"><span class="pre">tenacity</span></code> (#17593)</p></li>
<li><p>Remove  redundant <code class="docutils literal notranslate"><span class="pre">numpy</span></code> dependency (#17594)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">mysql-connector-python</span></code> to latest version (#17596)</p></li>
<li><p>Make <code class="docutils literal notranslate"><span class="pre">pandas</span></code> an optional core dependency (#17575)</p></li>
<li><p>Add more typing to airflow.utils.helpers (#15582)</p></li>
<li><p>Chore: Some code cleanup in <code class="docutils literal notranslate"><span class="pre">airflow/utils/db.py</span></code> (#17090)</p></li>
<li><p>Refactor: Remove processor_factory from DAG processing (#16659)</p></li>
<li><p>Remove AbstractDagFileProcessorProcess from dag processing (#16816)</p></li>
<li><p>Update TaskGroup typing (#16811)</p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">click</span></code> to 8.x (#16779)</p></li>
<li><p>Remove remaining Pylint disables (#16760)</p></li>
<li><p>Remove duplicated try, there is already a try in create_session (#16701)</p></li>
<li><p>Removes pylint from our toolchain (#16682)</p></li>
<li><p>Refactor usage of unneeded function call (#16653)</p></li>
<li><p>Add type annotations to setup.py (#16658)</p></li>
<li><p>Remove SQLAlchemy &lt;1.4 constraint (#16630) (Note: our dependencies still have a requirement on &lt;1.4)</p></li>
<li><p>Refactor <code class="docutils literal notranslate"><span class="pre">dag.clear</span></code> method (#16086)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">DAG_ACTIONS</span></code> constant (#16232)</p></li>
<li><p>Use updated <code class="docutils literal notranslate"><span class="pre">_get_all_non_dag_permissions</span></code> method (#16317)</p></li>
<li><p>Add updated-name wrappers for built-in FAB methods (#16077)</p></li>
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">TaskInstance.log_filepath</span></code> attribute (#15217)</p></li>
<li><p>Removes unnecessary function call in <code class="docutils literal notranslate"><span class="pre">airflow/www/app.py</span></code> (#15956)</p></li>
<li><p>Move <code class="docutils literal notranslate"><span class="pre">plyvel</span></code> to google provider extra (#15812)</p></li>
<li><p>Update permission migrations to use new naming scheme (#16400)</p></li>
<li><p>Use resource and action names for FAB (#16380)</p></li>
<li><p>Swap out calls to <code class="docutils literal notranslate"><span class="pre">find_permission_view_menu</span></code> for <code class="docutils literal notranslate"><span class="pre">get_permission</span></code> wrapper (#16377)</p></li>
<li><p>Fix deprecated default for <code class="docutils literal notranslate"><span class="pre">fab_logging_level</span></code> to <code class="docutils literal notranslate"><span class="pre">WARNING</span></code> (#18783)</p></li>
<li><p>Allow running tasks from UI when using <code class="docutils literal notranslate"><span class="pre">CeleryKubernetesExecutor</span></code> (#18441)</p></li>
</ul>
</section>
</section>
<section id="airflow-2-1-4-2021-09-18">
<h2><a class="toc-backref" href="#id258" role="doc-backlink">Airflow 2.1.4 (2021-09-18)</a><a class="headerlink" href="#airflow-2-1-4-2021-09-18" title="Link to this heading">¶</a></h2>
<section id="id176">
<h3>Significant Changes<a class="headerlink" href="#id176" title="Link to this heading">¶</a></h3>
<p>No significant changes.</p>
</section>
<section id="id177">
<h3>Bug Fixes<a class="headerlink" href="#id177" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix deprecation error message rather than silencing it (#18126)</p></li>
<li><p>Limit the number of queued dagruns created by the Scheduler (#18065)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">DagRun</span></code> execution order from queued to running not being properly followed (#18061)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">max_active_runs</span></code> not allowing moving of queued dagruns to running (#17945)</p></li>
<li><p>Avoid redirect loop for users with no permissions (#17838)</p></li>
<li><p>Avoid endless redirect loop when user has no roles (#17613)</p></li>
<li><p>Fix log links on graph TI modal (#17862)</p></li>
<li><p>Hide variable import form if user lacks permission (#18000)</p></li>
<li><p>Improve dag/task concurrency check (#17786)</p></li>
<li><p>Fix Clear task instances endpoint resets all DAG runs bug (#17961)</p></li>
<li><p>Fixes incorrect parameter passed to views (#18083) (#18085)</p></li>
<li><p>Fix Sentry handler from <code class="docutils literal notranslate"><span class="pre">LocalTaskJob</span></code> causing error (#18119)</p></li>
<li><p>Limit <code class="docutils literal notranslate"><span class="pre">colorlog</span></code> version (6.x is incompatible) (#18099)</p></li>
<li><p>Only show Pause/Unpause tooltip on hover (#17957)</p></li>
<li><p>Improve graph view load time for dags with open groups (#17821)</p></li>
<li><p>Increase width for Run column (#17817)</p></li>
<li><p>Fix wrong query on running tis (#17631)</p></li>
<li><p>Add root to tree refresh url (#17633)</p></li>
<li><p>Do not delete running DAG from the UI (#17630)</p></li>
<li><p>Improve discoverability of Provider packages’ functionality</p></li>
<li><p>Do not let <code class="docutils literal notranslate"><span class="pre">create_dagrun</span></code> overwrite explicit <code class="docutils literal notranslate"><span class="pre">run_id</span></code> (#17728)</p></li>
<li><p>Regression on pid reset to allow task start after heartbeat (#17333)</p></li>
<li><p>Set task state to failed when pod is DELETED while running (#18095)</p></li>
<li><p>Advises the kernel to not cache log files generated by Airflow (#18054)</p></li>
<li><p>Sort adopted tasks in <code class="docutils literal notranslate"><span class="pre">_check_for_stalled_adopted_tasks</span></code> method (#18208)</p></li>
</ul>
</section>
<section id="id178">
<h3>Doc only changes<a class="headerlink" href="#id178" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Update version added fields in airflow/config_templates/config.yml (#18128)</p></li>
<li><p>Improve the description of how to handle dynamic task generation (#17963)</p></li>
<li><p>Improve cross-links to operators and hooks references (#17622)</p></li>
<li><p>Doc: Fix replacing Airflow version for Docker stack (#17711)</p></li>
<li><p>Make the providers operators/hooks reference much more usable (#17768)</p></li>
<li><p>Update description about the new <code class="docutils literal notranslate"><span class="pre">connection-types</span></code> provider meta-data</p></li>
<li><p>Suggest to use secrets backend for variable when it contains sensitive data (#17319)</p></li>
<li><p>Separate Installing from sources section and add more details (#18171)</p></li>
<li><p>Doc: Use <code class="docutils literal notranslate"><span class="pre">closer.lua</span></code> script for downloading sources (#18179)</p></li>
<li><p>Doc: Improve installing from sources (#18194)</p></li>
<li><p>Improves installing from sources pages for all components (#18251)</p></li>
</ul>
</section>
</section>
<section id="airflow-2-1-3-2021-08-23">
<h2><a class="toc-backref" href="#id259" role="doc-backlink">Airflow 2.1.3 (2021-08-23)</a><a class="headerlink" href="#airflow-2-1-3-2021-08-23" title="Link to this heading">¶</a></h2>
<section id="id179">
<h3>Significant Changes<a class="headerlink" href="#id179" title="Link to this heading">¶</a></h3>
<p>No significant changes.</p>
</section>
<section id="id180">
<h3>Bug Fixes<a class="headerlink" href="#id180" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix task retries when they receive <code class="docutils literal notranslate"><span class="pre">sigkill</span></code> and have retries and properly handle <code class="docutils literal notranslate"><span class="pre">sigterm</span></code> (#16301)</p></li>
<li><p>Fix redacting secrets in context exceptions. (#17618)</p></li>
<li><p>Fix race condition with dagrun callbacks (#16741)</p></li>
<li><p>Add ‘queued’ to DagRunState (#16854)</p></li>
<li><p>Add ‘queued’ state to DagRun (#16401)</p></li>
<li><p>Fix external elasticsearch logs link (#16357)</p></li>
<li><p>Add proper warning message when recorded PID is different from current PID (#17411)</p></li>
<li><p>Fix running tasks with <code class="docutils literal notranslate"><span class="pre">default_impersonation</span></code> config (#17229)</p></li>
<li><p>Rescue if a DagRun’s DAG was removed from db (#17544)</p></li>
<li><p>Fixed broken json_client (#17529)</p></li>
<li><p>Handle and log exceptions raised during task callback (#17347)</p></li>
<li><p>Fix CLI <code class="docutils literal notranslate"><span class="pre">kubernetes</span> <span class="pre">cleanup-pods</span></code> which fails on invalid label key (#17298)</p></li>
<li><p>Show serialization exceptions in DAG parsing log (#17277)</p></li>
<li><p>Fix: <code class="docutils literal notranslate"><span class="pre">TaskInstance</span></code> does not show <code class="docutils literal notranslate"><span class="pre">queued_by_job_id</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">external_executor_id</span></code> (#17179)</p></li>
<li><p>Adds more explanatory message when <code class="docutils literal notranslate"><span class="pre">SecretsMasker</span></code> is not configured (#17101)</p></li>
<li><p>Enable the use of <code class="docutils literal notranslate"><span class="pre">__init_subclass__</span></code> in subclasses of <code class="docutils literal notranslate"><span class="pre">BaseOperator</span></code> (#17027)</p></li>
<li><p>Fix task instance retrieval in XCom view (#16923)</p></li>
<li><p>Validate type of <code class="docutils literal notranslate"><span class="pre">priority_weight</span></code> during parsing (#16765)</p></li>
<li><p>Correctly handle custom <code class="docutils literal notranslate"><span class="pre">deps</span></code> and <code class="docutils literal notranslate"><span class="pre">task_group</span></code> during DAG Serialization (#16734)</p></li>
<li><p>Fix slow (cleared) tasks being be adopted by Celery worker. (#16718)</p></li>
<li><p>Fix calculating duration in tree view (#16695)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code>: <code class="docutils literal notranslate"><span class="pre">datetime.timezone</span></code> object has no attribute <code class="docutils literal notranslate"><span class="pre">name</span></code> (#16599)</p></li>
<li><p>Redact conn secrets in webserver logs (#16579)</p></li>
<li><p>Change graph focus to top of view instead of center (#16484)</p></li>
<li><p>Fail tasks in scheduler when executor reports they failed (#15929)</p></li>
<li><p>fix(smart_sensor): Unbound variable errors (#14774)</p></li>
<li><p>Add back missing permissions to <code class="docutils literal notranslate"><span class="pre">UserModelView</span></code> controls. (#17431)</p></li>
<li><p>Better diagnostics and self-healing of docker-compose (#17484)</p></li>
<li><p>Improve diagnostics message when users have <code class="docutils literal notranslate"><span class="pre">secret_key</span></code> misconfigured (#17410)</p></li>
<li><p>Stop checking <code class="docutils literal notranslate"><span class="pre">execution_date</span></code> in <code class="docutils literal notranslate"><span class="pre">task_instance.refresh_from_db</span></code> (#16809)</p></li>
</ul>
</section>
<section id="id181">
<h3>Improvements<a class="headerlink" href="#id181" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Run mini scheduler in <code class="docutils literal notranslate"><span class="pre">LocalTaskJob</span></code> during task exit (#16289)</p></li>
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">SQLAlchemy&lt;1.4</span></code> constraint (#16630)</p></li>
<li><p>Bump Jinja2 upper-bound from 2.12.0 to 4.0.0 (#16595)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">dnspython</span></code> (#16698)</p></li>
<li><p>Updates to <code class="docutils literal notranslate"><span class="pre">FlaskAppBuilder</span></code> 3.3.2+ (#17208)</p></li>
<li><p>Add State types for tasks and DAGs (#15285)</p></li>
<li><p>Set Process title for Worker when using <code class="docutils literal notranslate"><span class="pre">LocalExecutor</span></code> (#16623)</p></li>
<li><p>Move <code class="docutils literal notranslate"><span class="pre">DagFileProcessor</span></code> and <code class="docutils literal notranslate"><span class="pre">DagFileProcessorProcess</span></code> out of <code class="docutils literal notranslate"><span class="pre">scheduler_job.py</span></code> (#16581)</p></li>
</ul>
</section>
<section id="id182">
<h3>Doc only changes<a class="headerlink" href="#id182" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix inconsistencies in configuration docs (#17317)</p></li>
<li><p>Fix docs link for using SQLite as Metadata DB (#17308)</p></li>
</ul>
</section>
<section id="id183">
<h3>Misc<a class="headerlink" href="#id183" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Switch back http provider after requests removes LGPL dependency (#16974)</p></li>
</ul>
</section>
</section>
<section id="airflow-2-1-2-2021-07-14">
<h2><a class="toc-backref" href="#id260" role="doc-backlink">Airflow 2.1.2 (2021-07-14)</a><a class="headerlink" href="#airflow-2-1-2-2021-07-14" title="Link to this heading">¶</a></h2>
<section id="id184">
<h3>Significant Changes<a class="headerlink" href="#id184" title="Link to this heading">¶</a></h3>
<p>No significant changes.</p>
</section>
<section id="id185">
<h3>Bug Fixes<a class="headerlink" href="#id185" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Only allow webserver to request from the worker log server (#16754)</p></li>
<li><p>Fix “Invalid JSON configuration, must be a dict” bug (#16648)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">CeleryKubernetesExecutor</span></code> (#16700)</p></li>
<li><p>Mask value if the key is <code class="docutils literal notranslate"><span class="pre">token</span></code> (#16474)</p></li>
<li><p>Fix impersonation issue with <code class="docutils literal notranslate"><span class="pre">LocalTaskJob</span></code> (#16852)</p></li>
<li><p>Resolve all npm vulnerabilities including bumping <code class="docutils literal notranslate"><span class="pre">jQuery</span></code> to <code class="docutils literal notranslate"><span class="pre">3.5</span></code> (#16440)</p></li>
</ul>
</section>
<section id="id186">
<h3>Misc<a class="headerlink" href="#id186" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add Python 3.9 support (#15515)</p></li>
</ul>
</section>
</section>
<section id="airflow-2-1-1-2021-07-02">
<h2><a class="toc-backref" href="#id261" role="doc-backlink">Airflow 2.1.1 (2021-07-02)</a><a class="headerlink" href="#airflow-2-1-1-2021-07-02" title="Link to this heading">¶</a></h2>
<section id="id187">
<h3>Significant Changes<a class="headerlink" href="#id187" title="Link to this heading">¶</a></h3>
<section id="activate-dag-runs-argument-of-the-function-clear-task-instances-is-replaced-with-dag-run-state">
<h4><code class="docutils literal notranslate"><span class="pre">activate_dag_runs</span></code> argument of the function <code class="docutils literal notranslate"><span class="pre">clear_task_instances</span></code> is replaced with <code class="docutils literal notranslate"><span class="pre">dag_run_state</span></code><a class="headerlink" href="#activate-dag-runs-argument-of-the-function-clear-task-instances-is-replaced-with-dag-run-state" title="Link to this heading">¶</a></h4>
<p>To achieve the previous default behaviour of <code class="docutils literal notranslate"><span class="pre">clear_task_instances</span></code> with <code class="docutils literal notranslate"><span class="pre">activate_dag_runs=True</span></code>, no change is needed. To achieve the previous behaviour of <code class="docutils literal notranslate"><span class="pre">activate_dag_runs=False</span></code>, pass <code class="docutils literal notranslate"><span class="pre">dag_run_state=False</span></code> instead. (The previous parameter is still accepted, but is deprecated)</p>
</section>
<section id="dag-set-dag-runs-state-is-deprecated">
<h4><code class="docutils literal notranslate"><span class="pre">dag.set_dag_runs_state</span></code> is deprecated<a class="headerlink" href="#dag-set-dag-runs-state-is-deprecated" title="Link to this heading">¶</a></h4>
<p>The method <code class="docutils literal notranslate"><span class="pre">set_dag_runs_state</span></code> is no longer needed after a bug fix in PR: <a class="reference external" href="https://github.com/apache/airflow/pull/15382">#15382</a>. This method is now deprecated and will be removed in a future version.</p>
</section>
</section>
<section id="id189">
<h3>Bug Fixes<a class="headerlink" href="#id189" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Don’t crash attempting to mask secrets in dict with non-string keys (#16601)</p></li>
<li><p>Always install sphinx_airflow_theme from <code class="docutils literal notranslate"><span class="pre">PyPI</span></code> (#16594)</p></li>
<li><p>Remove limitation for elasticsearch library (#16553)</p></li>
<li><p>Adding extra requirements for build and runtime of the PROD image. (#16170)</p></li>
<li><p>Cattrs 1.7.0 released by the end of May 2021 break lineage usage (#16173)</p></li>
<li><p>Removes unnecessary packages from setup_requires (#16139)</p></li>
<li><p>Pins docutils to &lt;0.17 until breaking behaviour is fixed (#16133)</p></li>
<li><p>Improvements for Docker Image docs (#14843)</p></li>
<li><p>Ensure that <code class="docutils literal notranslate"><span class="pre">dag_run.conf</span></code> is a dict (#15057)</p></li>
<li><p>Fix CLI connections import and migrate logic from secrets to Connection model (#15425)</p></li>
<li><p>Fix Dag Details start date bug (#16206)</p></li>
<li><p>Fix DAG run state not updated while DAG is paused (#16343)</p></li>
<li><p>Allow null value for operator field in task_instance schema(REST API) (#16516)</p></li>
<li><p>Avoid recursion going too deep when redacting logs (#16491)</p></li>
<li><p>Backfill: Don’t create a DagRun if no tasks match task regex (#16461)</p></li>
<li><p>Tree View UI for larger DAGs &amp; more consistent spacing in Tree View (#16522)</p></li>
<li><p>Correctly handle None returns from Query.scalar() (#16345)</p></li>
<li><p>Adding <code class="docutils literal notranslate"><span class="pre">only_active</span></code> parameter to /dags endpoint (#14306)</p></li>
<li><p>Don’t show stale Serialized DAGs if they are deleted in DB (#16368)</p></li>
<li><p>Make REST API List DAGs endpoint consistent with UI/CLI behaviour (#16318)</p></li>
<li><p>Support remote logging in elasticsearch with <code class="docutils literal notranslate"><span class="pre">filebeat</span> <span class="pre">7</span></code> (#14625)</p></li>
<li><p>Queue tasks with higher priority and earlier execution_date first. (#15210)</p></li>
<li><p>Make task ID on legend have enough width and width of line chart to be 100%.  (#15915)</p></li>
<li><p>Fix normalize-url vulnerability (#16375)</p></li>
<li><p>Validate retries value on init for better errors (#16415)</p></li>
<li><p>add num_runs query param for tree refresh (#16437)</p></li>
<li><p>Fix templated default/example values in config ref docs (#16442)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">passphrase</span></code> and <code class="docutils literal notranslate"><span class="pre">private_key</span></code> to default sensitive field names (#16392)</p></li>
<li><p>Fix tasks in an infinite slots pool were never scheduled (#15247)</p></li>
<li><p>Fix Orphaned tasks stuck in CeleryExecutor as running (#16550)</p></li>
<li><p>Don’t fail to log if we can’t redact something (#16118)</p></li>
<li><p>Set max tree width to 1200 pixels (#16067)</p></li>
<li><p>Fill the “job_id” field for <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">task</span> <span class="pre">run</span></code> without <code class="docutils literal notranslate"><span class="pre">--local</span></code>/<code class="docutils literal notranslate"><span class="pre">--raw</span></code> for KubeExecutor (#16108)</p></li>
<li><p>Fixes problem where conf variable was used before initialization (#16088)</p></li>
<li><p>Fix apply defaults for task decorator (#16085)</p></li>
<li><p>Parse recently modified files even if just parsed (#16075)</p></li>
<li><p>Ensure that we don’t try to mask empty string in logs (#16057)</p></li>
<li><p>Don’t die when masking <code class="docutils literal notranslate"><span class="pre">log.exception</span></code> when there is no exception (#16047)</p></li>
<li><p>Restores apply_defaults import in base_sensor_operator (#16040)</p></li>
<li><p>Fix auto-refresh in tree view When webserver ui is not in <code class="docutils literal notranslate"><span class="pre">/</span></code> (#16018)</p></li>
<li><p>Fix dag.clear() to set multiple dags to running when necessary (#15382)</p></li>
<li><p>Fix Celery executor getting stuck randomly because of reset_signals in multiprocessing (#15989)</p></li>
</ul>
</section>
</section>
<section id="airflow-2-1-0-2021-05-21">
<h2><a class="toc-backref" href="#id262" role="doc-backlink">Airflow 2.1.0 (2021-05-21)</a><a class="headerlink" href="#airflow-2-1-0-2021-05-21" title="Link to this heading">¶</a></h2>
<section id="id190">
<h3>Significant Changes<a class="headerlink" href="#id190" title="Link to this heading">¶</a></h3>
<section id="new-deprecated-api-extra">
<h4>New “deprecated_api” extra<a class="headerlink" href="#new-deprecated-api-extra" title="Link to this heading">¶</a></h4>
<p>We have a new ‘[deprecated_api]’ extra that should be used when installing airflow when the deprecated API
is going to be used. This is now an optional feature of Airflow now because it pulls in <code class="docutils literal notranslate"><span class="pre">requests</span></code> which
(as of 14 May 2021) pulls LGPL <code class="docutils literal notranslate"><span class="pre">chardet</span></code> dependency.</p>
</section>
<section id="the-http-provider-is-not-installed-by-default">
<h4>The <code class="docutils literal notranslate"><span class="pre">http</span></code> provider is not installed by default<a class="headerlink" href="#the-http-provider-is-not-installed-by-default" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">http</span></code> provider is now optional and not installed by default, until <code class="docutils literal notranslate"><span class="pre">chardet</span></code> becomes an optional
dependency of <code class="docutils literal notranslate"><span class="pre">requests</span></code>.
See <a class="reference external" href="https://github.com/psf/requests/pull/5797">PR to replace chardet with charset-normalizer</a></p>
</section>
<section id="apply-default-decorator-isn-t-longer-necessary">
<h4><code class="docutils literal notranslate"><span class="pre">&#64;apply_default</span></code> decorator isn’t longer necessary<a class="headerlink" href="#apply-default-decorator-isn-t-longer-necessary" title="Link to this heading">¶</a></h4>
<p>This decorator is now automatically added to all operators via the metaclass on BaseOperator</p>
</section>
<section id="change-the-configuration-options-for-field-masking">
<h4>Change the configuration options for field masking<a class="headerlink" href="#change-the-configuration-options-for-field-masking" title="Link to this heading">¶</a></h4>
<p>We’ve improved masking for sensitive data in Web UI and logs. As part of it, the following configurations have been changed:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">hide_sensitive_variable_fields</span></code> option in <code class="docutils literal notranslate"><span class="pre">admin</span></code> section has been replaced by <code class="docutils literal notranslate"><span class="pre">hide_sensitive_var_conn_fields</span></code> section in <code class="docutils literal notranslate"><span class="pre">core</span></code> section,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sensitive_variable_fields</span></code> option in <code class="docutils literal notranslate"><span class="pre">admin</span></code> section has been replaced by <code class="docutils literal notranslate"><span class="pre">sensitive_var_conn_names</span></code> section in <code class="docutils literal notranslate"><span class="pre">core</span></code> section.</p></li>
</ul>
</section>
<section id="deprecated-poddefaults-and-add-xcom-sidecar-in-airflow-kubernetes-pod-generator">
<h4>Deprecated PodDefaults and add_xcom_sidecar in airflow.kubernetes.pod_generator<a class="headerlink" href="#deprecated-poddefaults-and-add-xcom-sidecar-in-airflow-kubernetes-pod-generator" title="Link to this heading">¶</a></h4>
<p>We have moved PodDefaults from <code class="docutils literal notranslate"><span class="pre">airflow.kubernetes.pod_generator.PodDefaults</span></code> to
<code class="docutils literal notranslate"><span class="pre">airflow.providers.cncf.kubernetes.utils.xcom_sidecar.PodDefaults</span></code> and moved add_xcom_sidecar
from <code class="docutils literal notranslate"><span class="pre">airflow.kubernetes.pod_generator.PodGenerator.add_xcom_sidecar</span></code>to
<code class="docutils literal notranslate"><span class="pre">airflow.providers.cncf.kubernetes.utils.xcom_sidecar.add_xcom_sidecar</span></code>.
This change will allow us to modify the KubernetesPodOperator XCom functionality without requiring airflow upgrades.</p>
</section>
<section id="removed-pod-launcher-from-core-airflow">
<h4>Removed pod_launcher from core airflow<a class="headerlink" href="#removed-pod-launcher-from-core-airflow" title="Link to this heading">¶</a></h4>
<p>Moved the pod launcher from <code class="docutils literal notranslate"><span class="pre">airflow.kubernetes.pod_launcher</span></code> to <code class="docutils literal notranslate"><span class="pre">airflow.providers.cncf.kubernetes.utils.pod_launcher</span></code></p>
<p>This will allow users to update the pod_launcher for the KubernetesPodOperator without requiring an airflow upgrade</p>
</section>
<section id="default-webserver-worker-refresh-interval-is-changed-to-6000-seconds">
<h4>Default <code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">worker_refresh_interval</span></code> is changed to <code class="docutils literal notranslate"><span class="pre">6000</span></code> seconds<a class="headerlink" href="#default-webserver-worker-refresh-interval-is-changed-to-6000-seconds" title="Link to this heading">¶</a></h4>
<p>The default value for <code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">worker_refresh_interval</span></code> was <code class="docutils literal notranslate"><span class="pre">30</span></code> seconds for
Airflow &lt;=2.0.1. However, since Airflow 2.0 DAG Serialization is a hard requirement
and the Webserver used the serialized DAGs, there is no need to kill an existing
worker and create a new one as frequently as <code class="docutils literal notranslate"><span class="pre">30</span></code> seconds.</p>
<p>This setting can be raised to an even higher value, currently it is
set to <code class="docutils literal notranslate"><span class="pre">6000</span></code> seconds (100 minutes) to
serve as a DagBag cache burst time.</p>
</section>
<section id="default-queue-configuration-has-been-moved-to-the-operators-section">
<h4><code class="docutils literal notranslate"><span class="pre">default_queue</span></code> configuration has been moved to the <code class="docutils literal notranslate"><span class="pre">operators</span></code> section.<a class="headerlink" href="#default-queue-configuration-has-been-moved-to-the-operators-section" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">default_queue</span></code> configuration option has been moved from <code class="docutils literal notranslate"><span class="pre">[celery]</span></code> section to <code class="docutils literal notranslate"><span class="pre">[operators]</span></code> section to allow for reuse between different executors.</p>
</section>
</section>
<section id="id191">
<h3>New Features<a class="headerlink" href="#id191" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">PythonVirtualenvDecorator</span></code> to Taskflow API (#14761)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">Taskgroup</span></code> decorator (#15034)</p></li>
<li><p>Create a DAG Calendar View (#15423)</p></li>
<li><p>Create cross-DAG dependencies view (#13199)</p></li>
<li><p>Add rest API to query for providers (#13394)</p></li>
<li><p>Mask passwords and sensitive info in task logs and UI (#15599)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">SubprocessHook</span></code> for running commands from operators (#13423)</p></li>
<li><p>Add DAG Timeout in UI page “DAG Details” (#14165)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">WeekDayBranchOperator</span></code> (#13997)</p></li>
<li><p>Add JSON linter to DAG Trigger UI (#13551)</p></li>
<li><p>Add DAG Description Doc to Trigger UI Page (#13365)</p></li>
<li><p>Add airflow webserver URL into SLA miss email. (#13249)</p></li>
<li><p>Add read only REST API endpoints for users (#14735)</p></li>
<li><p>Add files to generate Airflow’s Python SDK (#14739)</p></li>
<li><p>Add dynamic fields to snowflake connection (#14724)</p></li>
<li><p>Add read only REST API endpoint for roles and permissions (#14664)</p></li>
<li><p>Add new datetime branch operator (#11964)</p></li>
<li><p>Add Google leveldb hook and operator (#13109) (#14105)</p></li>
<li><p>Add plugins endpoint to the REST API (#14280)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">worker_pod_pending_timeout</span></code> support (#15263)</p></li>
<li><p>Add support for labeling DAG edges (#15142)</p></li>
<li><p>Add CUD REST API endpoints for Roles (#14840)</p></li>
<li><p>Import connections from a file (#15177)</p></li>
<li><p>A bunch of <code class="docutils literal notranslate"><span class="pre">template_fields_renderers</span></code> additions (#15130)</p></li>
<li><p>Add REST API query sort and order to some endpoints (#14895)</p></li>
<li><p>Add timezone context in new ui (#15096)</p></li>
<li><p>Add query mutations to new UI (#15068)</p></li>
<li><p>Add different modes to sort dag files for parsing (#15046)</p></li>
<li><p>Auto refresh on Tree View (#15474)</p></li>
<li><p>BashOperator to raise <code class="docutils literal notranslate"><span class="pre">AirflowSkipException</span></code> on exit code 99 (by default, configurable) (#13421) (#14963)</p></li>
<li><p>Clear tasks by task ids in REST API (#14500)</p></li>
<li><p>Support jinja2 native Python types (#14603)</p></li>
<li><p>Allow celery workers without gossip or mingle modes (#13880)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">jobs</span> <span class="pre">check</span></code> CLI command to check health of jobs (Scheduler etc) (#14519)</p></li>
<li><p>Rename <code class="docutils literal notranslate"><span class="pre">DateTimeBranchOperator</span></code> to <code class="docutils literal notranslate"><span class="pre">BranchDateTimeOperator</span></code> (#14720)</p></li>
</ul>
</section>
<section id="id192">
<h3>Improvements<a class="headerlink" href="#id192" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add optional result handler callback to <code class="docutils literal notranslate"><span class="pre">DbApiHook</span></code> (#15581)</p></li>
<li><p>Update Flask App Builder limit to recently released 3.3 (#15792)</p></li>
<li><p>Prevent creating flask sessions on REST API requests (#15295)</p></li>
<li><p>Sync DAG specific permissions when parsing (#15311)</p></li>
<li><p>Increase maximum length of pool name on Tasks to 256 characters (#15203)</p></li>
<li><p>Enforce READ COMMITTED isolation when using mysql (#15714)</p></li>
<li><p>Auto-apply <code class="docutils literal notranslate"><span class="pre">apply_default</span></code> to subclasses of <code class="docutils literal notranslate"><span class="pre">BaseOperator</span></code> (#15667)</p></li>
<li><p>Emit error on duplicated DAG ID (#15302)</p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">KubernetesExecutor</span></code> pod templates to allow access to IAM permissions (#15669)</p></li>
<li><p>More verbose logs when running <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">db</span> <span class="pre">check-migrations</span></code> (#15662)</p></li>
<li><p>When one_success mark task as failed if no success (#15467)</p></li>
<li><p>Add an option to trigger a dag w/o changing conf (#15591)</p></li>
<li><p>Add Airflow UI instance_name configuration option (#10162)</p></li>
<li><p>Add a decorator to retry functions with DB transactions (#14109)</p></li>
<li><p>Add return to PythonVirtualenvOperator’s execute method (#14061)</p></li>
<li><p>Add verify_ssl config for kubernetes (#13516)</p></li>
<li><p>Add description about <code class="docutils literal notranslate"><span class="pre">secret_key</span></code> when Webserver &gt; 1 (#15546)</p></li>
<li><p>Add Traceback in LogRecord in <code class="docutils literal notranslate"><span class="pre">JSONFormatter</span></code> (#15414)</p></li>
<li><p>Add support for arbitrary json in conn uri format (#15100)</p></li>
<li><p>Adds description field in variable (#12413) (#15194)</p></li>
<li><p>Add logs to show last modified in SFTP, FTP and Filesystem sensor (#15134)</p></li>
<li><p>Execute <code class="docutils literal notranslate"><span class="pre">on_failure_callback</span></code> when SIGTERM is received (#15172)</p></li>
<li><p>Allow hiding of all edges when highlighting states (#15281)</p></li>
<li><p>Display explicit error in case UID has no actual username (#15212)</p></li>
<li><p>Serve logs with Scheduler when using Local or Sequential Executor (#15557)</p></li>
<li><p>Deactivate trigger, refresh, and delete controls on dag detail view. (#14144)</p></li>
<li><p>Turn off autocomplete for connection forms (#15073)</p></li>
<li><p>Increase default <code class="docutils literal notranslate"><span class="pre">worker_refresh_interval</span></code> to <code class="docutils literal notranslate"><span class="pre">6000</span></code> seconds (#14970)</p></li>
<li><p>Only show User’s local timezone if it’s not UTC (#13904)</p></li>
<li><p>Suppress LOG/WARNING for a few tasks CLI for better CLI experience (#14567)</p></li>
<li><p>Configurable API response (CORS) headers (#13620)</p></li>
<li><p>Allow viewers to see all docs links (#14197)</p></li>
<li><p>Update Tree View date ticks (#14141)</p></li>
<li><p>Make the tooltip to Pause / Unpause a DAG clearer (#13642)</p></li>
<li><p>Warn about precedence of env var when getting variables (#13501)</p></li>
<li><p>Move <code class="docutils literal notranslate"><span class="pre">[celery]</span> <span class="pre">default_queue</span></code> config to <code class="docutils literal notranslate"><span class="pre">[operators]</span> <span class="pre">default_queue</span></code> to reuse between executors  (#14699)</p></li>
</ul>
</section>
<section id="id193">
<h3>Bug Fixes<a class="headerlink" href="#id193" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix 500 error from <code class="docutils literal notranslate"><span class="pre">updateTaskInstancesState</span></code> API endpoint when <code class="docutils literal notranslate"><span class="pre">dry_run</span></code> not passed (#15889)</p></li>
<li><p>Ensure that task preceding a PythonVirtualenvOperator doesn’t fail (#15822)</p></li>
<li><p>Prevent mixed case env vars from crashing processes like worker (#14380)</p></li>
<li><p>Fixed type annotations in DAG decorator (#15778)</p></li>
<li><p>Fix on_failure_callback when task receive SIGKILL (#15537)</p></li>
<li><p>Fix dags table overflow (#15660)</p></li>
<li><p>Fix changing the parent dag state on subdag clear (#15562)</p></li>
<li><p>Fix reading from zip package to default to text (#13962)</p></li>
<li><p>Fix wrong parameter for <code class="docutils literal notranslate"><span class="pre">drawDagStatsForDag</span></code> in dags.html (#13884)</p></li>
<li><p>Fix QueuedLocalWorker crashing with EOFError (#13215)</p></li>
<li><p>Fix typo in <code class="docutils literal notranslate"><span class="pre">NotPreviouslySkippedDep</span></code> (#13933)</p></li>
<li><p>Fix parallelism after KubeExecutor pod adoption (#15555)</p></li>
<li><p>Fix kube client on mac with keepalive enabled (#15551)</p></li>
<li><p>Fixes wrong limit for dask for python&gt;3.7 (should be &lt;3.7) (#15545)</p></li>
<li><p>Fix Task Adoption in <code class="docutils literal notranslate"><span class="pre">KubernetesExecutor</span></code> (#14795)</p></li>
<li><p>Fix timeout when using XCom with <code class="docutils literal notranslate"><span class="pre">KubernetesPodOperator</span></code> (#15388)</p></li>
<li><p>Fix deprecated provider aliases in “extras” not working (#15465)</p></li>
<li><p>Fixed default XCom deserialization. (#14827)</p></li>
<li><p>Fix used_group_ids in <code class="docutils literal notranslate"><span class="pre">dag.partial_subset</span></code> (#13700) (#15308)</p></li>
<li><p>Further fix trimmed <code class="docutils literal notranslate"><span class="pre">pod_id</span></code> for <code class="docutils literal notranslate"><span class="pre">KubernetesPodOperator</span></code> (#15445)</p></li>
<li><p>Bugfix: Invalid name when trimmed <code class="docutils literal notranslate"><span class="pre">pod_id</span></code> ends with hyphen in <code class="docutils literal notranslate"><span class="pre">KubernetesPodOperator</span></code> (#15443)</p></li>
<li><p>Fix incorrect slots stats when TI <code class="docutils literal notranslate"><span class="pre">pool_slots</span> <span class="pre">&gt;</span> <span class="pre">1</span></code> (#15426)</p></li>
<li><p>Fix DAG last run link (#15327)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">sync-perm</span></code> to work correctly when update_fab_perms = False (#14847)</p></li>
<li><p>Fixes limits on Arrow for plexus test (#14781)</p></li>
<li><p>Fix UI bugs in tree view (#14566)</p></li>
<li><p>Fix AzureDataFactoryHook failing to instantiate its connection (#14565)</p></li>
<li><p>Fix permission error on non-POSIX filesystem (#13121)</p></li>
<li><p>Fix spelling in “ignorable” (#14348)</p></li>
<li><p>Fix get_context_data doctest import (#14288)</p></li>
<li><p>Correct typo in <code class="docutils literal notranslate"><span class="pre">GCSObjectsWtihPrefixExistenceSensor</span></code>  (#14179)</p></li>
<li><p>Fix order of failed deps (#14036)</p></li>
<li><p>Fix critical <code class="docutils literal notranslate"><span class="pre">CeleryKubernetesExecutor</span></code> bug (#13247)</p></li>
<li><p>Fix four bugs in <code class="docutils literal notranslate"><span class="pre">StackdriverTaskHandler</span></code> (#13784)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">func.sum</span></code> may return <code class="docutils literal notranslate"><span class="pre">Decimal</span></code> that break rest APIs (#15585)</p></li>
<li><p>Persist tags params in pagination (#15411)</p></li>
<li><p>API: Raise <code class="docutils literal notranslate"><span class="pre">AlreadyExists</span></code> exception when the <code class="docutils literal notranslate"><span class="pre">execution_date</span></code> is same (#15174)</p></li>
<li><p>Remove duplicate call to <code class="docutils literal notranslate"><span class="pre">sync_metadata</span></code> inside <code class="docutils literal notranslate"><span class="pre">DagFileProcessorManager</span></code> (#15121)</p></li>
<li><p>Extra <code class="docutils literal notranslate"><span class="pre">docker-py</span></code> update to resolve docker op issues (#15731)</p></li>
<li><p>Ensure executors end method is called (#14085)</p></li>
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">user_id</span></code> from API schema (#15117)</p></li>
<li><p>Prevent clickable bad links on disabled pagination (#15074)</p></li>
<li><p>Acquire lock on db for the time of migration (#10151)</p></li>
<li><p>Skip SLA check only if SLA is None (#14064)</p></li>
<li><p>Print right version in airflow info command (#14560)</p></li>
<li><p>Make <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">info</span></code> work with pipes (#14528)</p></li>
<li><p>Rework client-side script for connection form. (#14052)</p></li>
<li><p>API: Add <code class="docutils literal notranslate"><span class="pre">CollectionInfo</span></code> in all Collections that have <code class="docutils literal notranslate"><span class="pre">total_entries</span></code> (#14366)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">task_instance_mutation_hook</span></code> when importing airflow.models.dagrun (#15851)</p></li>
</ul>
</section>
<section id="id194">
<h3>Doc only changes<a class="headerlink" href="#id194" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix docstring of SqlSensor (#15466)</p></li>
<li><p>Small changes on “DAGs and Tasks documentation” (#14853)</p></li>
<li><p>Add note on changes to configuration options (#15696)</p></li>
<li><p>Add docs to the <code class="docutils literal notranslate"><span class="pre">markdownlint</span></code> and <code class="docutils literal notranslate"><span class="pre">yamllint</span></code> config files (#15682)</p></li>
<li><p>Rename old “Experimental” API to deprecated in the docs. (#15653)</p></li>
<li><p>Fix documentation error in <code class="docutils literal notranslate"><span class="pre">git_sync_template.yaml</span></code> (#13197)</p></li>
<li><p>Fix doc link permission name (#14972)</p></li>
<li><p>Fix link to Helm chart docs (#14652)</p></li>
<li><p>Fix docstrings for Kubernetes code (#14605)</p></li>
<li><p>docs: Capitalize &amp; minor fixes (#14283) (#14534)</p></li>
<li><p>Fixed reading from zip package to default to text. (#13984)</p></li>
<li><p>An initial rework of the “Concepts” docs (#15444)</p></li>
<li><p>Improve docstrings for various modules (#15047)</p></li>
<li><p>Add documentation on database connection URI (#14124)</p></li>
<li><p>Add Helm Chart logo to docs index (#14762)</p></li>
<li><p>Create a new documentation package for Helm Chart (#14643)</p></li>
<li><p>Add docs about supported logging levels (#14507)</p></li>
<li><p>Update docs about tableau and salesforce provider (#14495)</p></li>
<li><p>Replace deprecated doc links to the correct one (#14429)</p></li>
<li><p>Refactor redundant doc url logic to use utility (#14080)</p></li>
<li><p>docs: NOTICE: Updated 2016-2019 to 2016-now (#14248)</p></li>
<li><p>Skip DAG perm sync during parsing if possible (#15464)</p></li>
<li><p>Add picture and examples for Edge Labels (#15310)</p></li>
<li><p>Add example DAG &amp; how-to guide for sqlite (#13196)</p></li>
<li><p>Add links to new modules for deprecated modules (#15316)</p></li>
<li><p>Add note in Updating.md about FAB data model change (#14478)</p></li>
</ul>
</section>
<section id="id195">
<h3>Misc/Internal<a class="headerlink" href="#id195" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">logging.exception</span></code> redundancy (#14823)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">stylelint</span></code> to remove vulnerable sub-dependency (#15784)</p></li>
<li><p>Add resolution to force dependencies to use patched version of lodash (#15777)</p></li>
<li><p>Update croniter to 1.0.x series (#15769)</p></li>
<li><p>Get rid of Airflow 1.10 in Breeze (#15712)</p></li>
<li><p>Run helm chart tests in parallel (#15706)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">ssri</span></code> from 6.0.1 to 6.0.2 in /airflow/www (#15437)</p></li>
<li><p>Remove the limit on Gunicorn dependency (#15611)</p></li>
<li><p>Better “dependency already registered” warning message for tasks #14613 (#14860)</p></li>
<li><p>Pin pandas-gbq to &lt;0.15.0 (#15114)</p></li>
<li><p>Use Pip 21.* to install airflow officially (#15513)</p></li>
<li><p>Bump mysqlclient to support the 1.4.x and 2.x series (#14978)</p></li>
<li><p>Finish refactor of DAG resource name helper (#15511)</p></li>
<li><p>Refactor/Cleanup Presentation of Graph Task and Path Highlighting (#15257)</p></li>
<li><p>Standardize default fab perms (#14946)</p></li>
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">datepicker</span></code> for task instance detail view (#15284)</p></li>
<li><p>Turn provider’s import warnings into debug logs (#14903)</p></li>
<li><p>Remove left-over fields from required in provider_info schema. (#14119)</p></li>
<li><p>Deprecate <code class="docutils literal notranslate"><span class="pre">tableau</span></code> extra (#13595)</p></li>
<li><p>Use built-in <code class="docutils literal notranslate"><span class="pre">cached_property</span></code> on Python 3.8 where possible (#14606)</p></li>
<li><p>Clean-up JS code in UI templates (#14019)</p></li>
<li><p>Bump elliptic from 6.5.3 to 6.5.4 in /airflow/www (#14668)</p></li>
<li><p>Switch to f-strings using <code class="docutils literal notranslate"><span class="pre">flynt</span></code>. (#13732)</p></li>
<li><p>use <code class="docutils literal notranslate"><span class="pre">jquery</span></code> ready instead of vanilla js (#15258)</p></li>
<li><p>Migrate task instance log (ti_log) js (#15309)</p></li>
<li><p>Migrate graph js (#15307)</p></li>
<li><p>Migrate dags.html javascript (#14692)</p></li>
<li><p>Removes unnecessary AzureContainerInstance connection type (#15514)</p></li>
<li><p>Separate Kubernetes pod_launcher from core airflow (#15165)</p></li>
<li><p>update remaining old import paths of operators (#15127)</p></li>
<li><p>Remove broken and undocumented “demo mode” feature (#14601)</p></li>
<li><p>Simplify configuration/legibility of <code class="docutils literal notranslate"><span class="pre">Webpack</span></code> entries (#14551)</p></li>
<li><p>remove inline tree js (#14552)</p></li>
<li><p>Js linting and inline migration for simple scripts (#14215)</p></li>
<li><p>Remove use of repeated constant in AirflowConfigParser (#14023)</p></li>
<li><p>Deprecate email credentials from environment variables. (#13601)</p></li>
<li><p>Remove unused ‘context’ variable in task_instance.py (#14049)</p></li>
<li><p>Disable suppress_logs_and_warning in cli when debugging (#13180)</p></li>
</ul>
</section>
</section>
<section id="airflow-2-0-2-2021-04-19">
<h2><a class="toc-backref" href="#id263" role="doc-backlink">Airflow 2.0.2 (2021-04-19)</a><a class="headerlink" href="#airflow-2-0-2-2021-04-19" title="Link to this heading">¶</a></h2>
<section id="id196">
<h3>Significant Changes<a class="headerlink" href="#id196" title="Link to this heading">¶</a></h3>
<section id="default-kubernetes-enable-tcp-keepalive-is-changed-to-true">
<h4>Default <code class="docutils literal notranslate"><span class="pre">[kubernetes]</span> <span class="pre">enable_tcp_keepalive</span></code> is changed to <code class="docutils literal notranslate"><span class="pre">True</span></code><a class="headerlink" href="#default-kubernetes-enable-tcp-keepalive-is-changed-to-true" title="Link to this heading">¶</a></h4>
<p>This allows Airflow to work more reliably with some environments (like Azure) by default.</p>
</section>
<section id="sync-perm-cli-no-longer-syncs-dag-specific-permissions-by-default">
<h4><code class="docutils literal notranslate"><span class="pre">sync-perm</span></code> CLI no longer syncs DAG specific permissions by default<a class="headerlink" href="#sync-perm-cli-no-longer-syncs-dag-specific-permissions-by-default" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">sync-perm</span></code> CLI command will no longer sync DAG specific permissions by default as they are now being handled during
DAG parsing. If you need or want the old behavior, you can pass <code class="docutils literal notranslate"><span class="pre">--include-dags</span></code> to have <code class="docutils literal notranslate"><span class="pre">sync-perm</span></code> also sync DAG
specific permissions.</p>
</section>
</section>
<section id="id197">
<h3>Bug Fixes<a class="headerlink" href="#id197" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Bugfix: <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> when Serializing &amp; sorting iterable properties of DAGs (#15395)</p></li>
<li><p>Fix missing <code class="docutils literal notranslate"><span class="pre">on_load</span></code> trigger for folder-based plugins (#15208)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">kubernetes</span> <span class="pre">cleanup-pods</span></code> subcommand will only clean up Airflow-created Pods (#15204)</p></li>
<li><p>Fix password masking in CLI action_logging (#15143)</p></li>
<li><p>Fix url generation for TriggerDagRunOperatorLink (#14990)</p></li>
<li><p>Restore base lineage backend (#14146)</p></li>
<li><p>Unable to trigger backfill or manual jobs with Kubernetes executor. (#14160)</p></li>
<li><p>Bugfix: Task docs are not shown in the Task Instance Detail View (#15191)</p></li>
<li><p>Bugfix: Fix overriding <code class="docutils literal notranslate"><span class="pre">pod_template_file</span></code> in KubernetesExecutor (#15197)</p></li>
<li><p>Bugfix: resources in <code class="docutils literal notranslate"><span class="pre">executor_config</span></code> breaks Graph View in UI (#15199)</p></li>
<li><p>Fix celery executor bug trying to call len on map (#14883)</p></li>
<li><p>Fix bug in airflow.stats timing that broke dogstatsd mode (#15132)</p></li>
<li><p>Avoid scheduler/parser manager deadlock by using non-blocking IO (#15112)</p></li>
<li><p>Re-introduce <code class="docutils literal notranslate"><span class="pre">dagrun.schedule_delay</span></code> metric (#15105)</p></li>
<li><p>Compare string values, not if strings are the same object in Kube executor(#14942)</p></li>
<li><p>Pass queue to BaseExecutor.execute_async like in airflow 1.10 (#14861)</p></li>
<li><p>Scheduler: Remove TIs from starved pools from the critical path. (#14476)</p></li>
<li><p>Remove extra/needless deprecation warnings from airflow.contrib module (#15065)</p></li>
<li><p>Fix support for long dag_id and task_id in KubernetesExecutor (#14703)</p></li>
<li><p>Sort lists, sets and tuples in Serialized DAGs (#14909)</p></li>
<li><p>Simplify cleaning string passed to origin param (#14738) (#14905)</p></li>
<li><p>Fix error when running tasks with Sentry integration enabled. (#13929)</p></li>
<li><p>Webserver: Sanitize string passed to origin param (#14738)</p></li>
<li><p>Fix losing duration &lt; 1 secs in tree (#13537)</p></li>
<li><p>Pin SQLAlchemy to &lt;1.4 due to breakage of sqlalchemy-utils (#14812)</p></li>
<li><p>Fix KubernetesExecutor issue with deleted pending pods (#14810)</p></li>
<li><p>Default to Celery Task model when backend model does not exist (#14612)</p></li>
<li><p>Bugfix: Plugins endpoint was unauthenticated (#14570)</p></li>
<li><p>BugFix: fix DAG doc display (especially for TaskFlow DAGs) (#14564)</p></li>
<li><p>BugFix: TypeError in airflow.kubernetes.pod_launcher’s monitor_pod (#14513)</p></li>
<li><p>Bugfix: Fix wrong output of tags and owners in dag detail API endpoint (#14490)</p></li>
<li><p>Fix logging error with task error when JSON logging is enabled (#14456)</p></li>
<li><p>Fix StatsD metrics not sending when using daemon mode (#14454)</p></li>
<li><p>Gracefully handle missing start_date and end_date for DagRun (#14452)</p></li>
<li><p>BugFix: Serialize max_retry_delay as a timedelta (#14436)</p></li>
<li><p>Fix crash when user clicks on  “Task Instance Details” caused by start_date being None (#14416)</p></li>
<li><p>BugFix: Fix TaskInstance API call fails if a task is removed from running DAG (#14381)</p></li>
<li><p>Scheduler should not fail when invalid <code class="docutils literal notranslate"><span class="pre">executor_config</span></code> is passed (#14323)</p></li>
<li><p>Fix bug allowing task instances to survive when dagrun_timeout is exceeded (#14321)</p></li>
<li><p>Fix bug where DAG timezone was not always shown correctly in UI tooltips (#14204)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">Lax</span></code> for <code class="docutils literal notranslate"><span class="pre">cookie_samesite</span></code> when empty string is passed (#14183)</p></li>
<li><p>[AIRFLOW-6076] fix <code class="docutils literal notranslate"><span class="pre">dag.cli()</span></code> KeyError (#13647)</p></li>
<li><p>Fix running child tasks in a subdag after clearing a successful subdag (#14776)</p></li>
</ul>
</section>
<section id="id198">
<h3>Improvements<a class="headerlink" href="#id198" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Remove unused JS packages causing false security alerts (#15383)</p></li>
<li><p>Change default of <code class="docutils literal notranslate"><span class="pre">[kubernetes]</span> <span class="pre">enable_tcp_keepalive</span></code> for new installs to <code class="docutils literal notranslate"><span class="pre">True</span></code> (#15338)</p></li>
<li><p>Fixed #14270: Add error message in OOM situations (#15207)</p></li>
<li><p>Better compatibility/diagnostics for arbitrary UID in docker image (#15162)</p></li>
<li><p>Updates 3.6 limits for latest versions of a few libraries (#15209)</p></li>
<li><p>Adds Blinker dependency which is missing after recent changes (#15182)</p></li>
<li><p>Remove ‘conf’ from search_columns in DagRun View (#15099)</p></li>
<li><p>More proper default value for namespace in K8S cleanup-pods CLI (#15060)</p></li>
<li><p>Faster default role syncing during webserver start (#15017)</p></li>
<li><p>Speed up webserver start when there are many DAGs (#14993)</p></li>
<li><p>Much easier to use and better documented Docker image (#14911)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">libyaml</span></code> C library when available. (#14577)</p></li>
<li><p>Don’t create unittest.cfg when not running in unit test mode (#14420)</p></li>
<li><p>Webserver: Allow Filtering TaskInstances by queued_dttm (#14708)</p></li>
<li><p>Update Flask-AppBuilder dependency to allow 3.2 (and all 3.x series) (#14665)</p></li>
<li><p>Remember expanded task groups in browser local storage (#14661)</p></li>
<li><p>Add plain format output to cli tables (#14546)</p></li>
<li><p>Make <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">dags</span> <span class="pre">show</span></code> command display TaskGroups (#14269)</p></li>
<li><p>Increase maximum size of <code class="docutils literal notranslate"><span class="pre">extra</span></code> connection field. (#12944)</p></li>
<li><p>Speed up clear_task_instances by doing a single sql delete for TaskReschedule (#14048)</p></li>
<li><p>Add more flexibility with FAB menu links (#13903)</p></li>
<li><p>Add better description and guidance in case of sqlite version mismatch (#14209)</p></li>
</ul>
</section>
<section id="id199">
<h3>Doc only changes<a class="headerlink" href="#id199" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add documentation create/update community providers (#15061)</p></li>
<li><p>Fix mistake and typos in airflow.utils.timezone docstrings (#15180)</p></li>
<li><p>Replace new url for Stable Airflow Docs (#15169)</p></li>
<li><p>Docs: Clarify behavior of delete_worker_pods_on_failure (#14958)</p></li>
<li><p>Create a documentation package for Docker image (#14846)</p></li>
<li><p>Multiple minor doc (OpenAPI) fixes (#14917)</p></li>
<li><p>Replace Graph View Screenshot to show Auto-refresh (#14571)</p></li>
</ul>
</section>
<section id="id200">
<h3>Misc/Internal<a class="headerlink" href="#id200" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Import Connection lazily in hooks to avoid cycles (#15361)</p></li>
<li><p>Rename last_scheduler_run into last_parsed_time, and ensure it’s updated in DB (#14581)</p></li>
<li><p>Make TaskInstance.pool_slots not nullable with a default of 1 (#14406)</p></li>
<li><p>Log migrations info in consistent way (#14158)</p></li>
</ul>
</section>
</section>
<section id="airflow-2-0-1-2021-02-08">
<h2><a class="toc-backref" href="#id264" role="doc-backlink">Airflow 2.0.1 (2021-02-08)</a><a class="headerlink" href="#airflow-2-0-1-2021-02-08" title="Link to this heading">¶</a></h2>
<section id="id201">
<h3>Significant Changes<a class="headerlink" href="#id201" title="Link to this heading">¶</a></h3>
<section id="permission-to-view-airflow-configurations-has-been-removed-from-user-and-viewer-role">
<h4>Permission to view Airflow Configurations has been removed from <code class="docutils literal notranslate"><span class="pre">User</span></code> and <code class="docutils literal notranslate"><span class="pre">Viewer</span></code> role<a class="headerlink" href="#permission-to-view-airflow-configurations-has-been-removed-from-user-and-viewer-role" title="Link to this heading">¶</a></h4>
<p>Previously, Users with <code class="docutils literal notranslate"><span class="pre">User</span></code> or <code class="docutils literal notranslate"><span class="pre">Viewer</span></code> role were able to get/view configurations using
the REST API or in the Webserver. From Airflow 2.0.1, only users with <code class="docutils literal notranslate"><span class="pre">Admin</span></code> or <code class="docutils literal notranslate"><span class="pre">Op</span></code> role would be able
to get/view Configurations.</p>
<p>To allow users with other roles to view configuration, add <code class="docutils literal notranslate"><span class="pre">can</span> <span class="pre">read</span> <span class="pre">on</span> <span class="pre">Configurations</span></code> permissions to that role.</p>
<p>Note that if <code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">expose_config</span></code> is set to <code class="docutils literal notranslate"><span class="pre">False</span></code>, the API will throw a <code class="docutils literal notranslate"><span class="pre">403</span></code> response even if
the user has role with <code class="docutils literal notranslate"><span class="pre">can</span> <span class="pre">read</span> <span class="pre">on</span> <span class="pre">Configurations</span></code> permission.</p>
</section>
<section id="default-celery-worker-concurrency-is-changed-to-16">
<h4>Default <code class="docutils literal notranslate"><span class="pre">[celery]</span> <span class="pre">worker_concurrency</span></code> is changed to <code class="docutils literal notranslate"><span class="pre">16</span></code><a class="headerlink" href="#default-celery-worker-concurrency-is-changed-to-16" title="Link to this heading">¶</a></h4>
<p>The default value for <code class="docutils literal notranslate"><span class="pre">[celery]</span> <span class="pre">worker_concurrency</span></code> was <code class="docutils literal notranslate"><span class="pre">16</span></code> for Airflow &lt;2.0.0.
However, it was unintentionally changed to <code class="docutils literal notranslate"><span class="pre">8</span></code> in 2.0.0.</p>
<p>From Airflow 2.0.1, we revert to the old default of <code class="docutils literal notranslate"><span class="pre">16</span></code>.</p>
</section>
<section id="default-scheduler-min-file-process-interval-is-changed-to-30">
<h4>Default <code class="docutils literal notranslate"><span class="pre">[scheduler]</span> <span class="pre">min_file_process_interval</span></code> is changed to <code class="docutils literal notranslate"><span class="pre">30</span></code><a class="headerlink" href="#default-scheduler-min-file-process-interval-is-changed-to-30" title="Link to this heading">¶</a></h4>
<p>The default value for <code class="docutils literal notranslate"><span class="pre">[scheduler]</span> <span class="pre">min_file_process_interval</span></code> was <code class="docutils literal notranslate"><span class="pre">0</span></code>,
due to which the CPU Usage mostly stayed around 100% as the DAG files are parsed
constantly.</p>
<p>From Airflow 2.0.0, the scheduling decisions have been moved from
DagFileProcessor to Scheduler, so we can keep the default a bit higher: <code class="docutils literal notranslate"><span class="pre">30</span></code>.</p>
</section>
</section>
<section id="id202">
<h3>Bug Fixes<a class="headerlink" href="#id202" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Bugfix: Return XCom Value in the XCom Endpoint API (#13684)</p></li>
<li><p>Bugfix: Import error when using custom backend and <code class="docutils literal notranslate"><span class="pre">sql_alchemy_conn_secret</span></code> (#13260)</p></li>
<li><p>Allow PID file path to be relative when daemonize a process (scheduler, kerberos, etc) (#13232)</p></li>
<li><p>Bugfix: no generic <code class="docutils literal notranslate"><span class="pre">DROP</span> <span class="pre">CONSTRAINT</span></code> in MySQL during <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">db</span> <span class="pre">upgrade</span></code> (#13239)</p></li>
<li><p>Bugfix: Sync Access Control defined in DAGs when running <code class="docutils literal notranslate"><span class="pre">sync-perm</span></code> (#13377)</p></li>
<li><p>Stop sending Callback Requests if no callbacks are defined on DAG (#13163)</p></li>
<li><p>BugFix: Dag-level Callback Requests were not run (#13651)</p></li>
<li><p>Stop creating duplicate Dag File Processors (#13662)</p></li>
<li><p>Filter DagRuns with Task Instances in removed State while Scheduling (#13165)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">datatables.net</span></code> from 1.10.21 to 1.10.22 in /airflow/www (#13143)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">datatables.net</span></code> JS to 1.10.23 (#13253)</p></li>
<li><p>Bump <code class="docutils literal notranslate"><span class="pre">dompurify</span></code> from 2.0.12 to 2.2.6 in /airflow/www (#13164)</p></li>
<li><p>Update minimum <code class="docutils literal notranslate"><span class="pre">cattrs</span></code> version (#13223)</p></li>
<li><p>Remove inapplicable arg ‘output’ for CLI pools import/export (#13071)</p></li>
<li><p>Webserver: Fix the behavior to deactivate the authentication option and add docs (#13191)</p></li>
<li><p>Fix: add support for no-menu plugin views (#11742)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">python-daemon</span></code> limit for Python 3.8+ to fix daemon crash (#13540)</p></li>
<li><p>Change the default celery <code class="docutils literal notranslate"><span class="pre">worker_concurrency</span></code> to 16 (#13612)</p></li>
<li><p>Audit Log records View should not contain link if <code class="docutils literal notranslate"><span class="pre">dag_id</span></code> is None (#13619)</p></li>
<li><p>Fix invalid <code class="docutils literal notranslate"><span class="pre">continue_token</span></code> for cleanup list pods (#13563)</p></li>
<li><p>Switches to latest version of snowflake connector (#13654)</p></li>
<li><p>Fix backfill crash on task retry or reschedule (#13712)</p></li>
<li><p>Setting <code class="docutils literal notranslate"><span class="pre">max_tis_per_query</span></code> to <code class="docutils literal notranslate"><span class="pre">0</span></code> now correctly removes the limit (#13512)</p></li>
<li><p>Fix race conditions in task callback invocations (#10917)</p></li>
<li><p>Fix webserver exiting when gunicorn master crashes (#13518)(#13780)</p></li>
<li><p>Fix SQL syntax to check duplicate connections (#13783)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BaseBranchOperator</span></code> will push to xcom by default (#13704) (#13763)</p></li>
<li><p>Fix Deprecation for <code class="docutils literal notranslate"><span class="pre">configuration.getsection</span></code> (#13804)</p></li>
<li><p>Fix TaskNotFound in log endpoint (#13872)</p></li>
<li><p>Fix race condition when using Dynamic DAGs (#13893)</p></li>
<li><p>Fix: Linux/Chrome window bouncing in Webserver</p></li>
<li><p>Fix db shell for sqlite (#13907)</p></li>
<li><p>Only compare updated time when Serialized DAG exists (#13899)</p></li>
<li><p>Fix dag run type enum query for mysqldb driver (#13278)</p></li>
<li><p>Add authentication to lineage endpoint for experimental API (#13870)</p></li>
<li><p>Do not add User role perms to custom roles. (#13856)</p></li>
<li><p>Do not add <code class="docutils literal notranslate"><span class="pre">Website.can_read</span></code> access to default roles. (#13923)</p></li>
<li><p>Fix invalid value error caused by long Kubernetes pod name (#13299)</p></li>
<li><p>Fix DB Migration for SQLite to upgrade to 2.0 (#13921)</p></li>
<li><p>Bugfix: Manual DagRun trigger should not skip scheduled runs (#13963)</p></li>
<li><p>Stop loading Extra Operator links in Scheduler (#13932)</p></li>
<li><p>Added missing return parameter in read function of <code class="docutils literal notranslate"><span class="pre">FileTaskHandler</span></code> (#14001)</p></li>
<li><p>Bugfix: Do not try to create a duplicate Dag Run in Scheduler (#13920)</p></li>
<li><p>Make <code class="docutils literal notranslate"><span class="pre">v1/config</span></code> endpoint respect webserver <code class="docutils literal notranslate"><span class="pre">expose_config</span></code> setting (#14020)</p></li>
<li><p>Disable row level locking for Mariadb and MySQL &lt;8 (#14031)</p></li>
<li><p>Bugfix: Fix permissions to triggering only specific DAGs (#13922)</p></li>
<li><p>Fix broken SLA Mechanism (#14056)</p></li>
<li><p>Bugfix: Scheduler fails if task is removed at runtime (#14057)</p></li>
<li><p>Remove permissions to read Configurations for User and Viewer roles (#14067)</p></li>
<li><p>Fix DB Migration from 2.0.1rc1</p></li>
</ul>
</section>
<section id="id203">
<h3>Improvements<a class="headerlink" href="#id203" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Increase the default <code class="docutils literal notranslate"><span class="pre">min_file_process_interval</span></code> to decrease CPU Usage (#13664)</p></li>
<li><p>Dispose connections when running tasks with <code class="docutils literal notranslate"><span class="pre">os.fork</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">CeleryExecutor</span></code> (#13265)</p></li>
<li><p>Make function purpose clearer in <code class="docutils literal notranslate"><span class="pre">example_kubernetes_executor</span></code> example dag (#13216)</p></li>
<li><p>Remove unused libraries - <code class="docutils literal notranslate"><span class="pre">flask-swagger</span></code>, <code class="docutils literal notranslate"><span class="pre">funcsigs</span></code> (#13178)</p></li>
<li><p>Display alternative tooltip when a Task has yet to run (no TI) (#13162)</p></li>
<li><p>User werkzeug’s own type conversion for request args (#13184)</p></li>
<li><p>UI: Add <code class="docutils literal notranslate"><span class="pre">queued_by_job_id</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">external_executor_id</span></code> Columns to TI View (#13266)</p></li>
<li><p>Make <code class="docutils literal notranslate"><span class="pre">json-merge-patch</span></code> an optional library and unpin it (#13175)</p></li>
<li><p>Adds missing LDAP “extra” dependencies to ldap provider. (#13308)</p></li>
<li><p>Refactor <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> to better reflect changes in providers (#13314)</p></li>
<li><p>Pin <code class="docutils literal notranslate"><span class="pre">pyjwt</span></code> and Add integration tests for Apache Pinot (#13195)</p></li>
<li><p>Removes provider-imposed requirements from <code class="docutils literal notranslate"><span class="pre">setup.cfg</span></code> (#13409)</p></li>
<li><p>Replace deprecated decorator (#13443)</p></li>
<li><p>Streamline &amp; simplify <code class="docutils literal notranslate"><span class="pre">__eq__</span></code> methods in models Dag and BaseOperator (#13449)</p></li>
<li><p>Additional properties should be allowed in provider schema (#13440)</p></li>
<li><p>Remove unused dependency - <code class="docutils literal notranslate"><span class="pre">contextdecorator</span></code> (#13455)</p></li>
<li><p>Remove ‘typing’ dependency (#13472)</p></li>
<li><p>Log migrations info in consistent way (#13458)</p></li>
<li><p>Unpin <code class="docutils literal notranslate"><span class="pre">mysql-connector-python</span></code> to allow <code class="docutils literal notranslate"><span class="pre">8.0.22</span></code> (#13370)</p></li>
<li><p>Remove thrift as a core dependency (#13471)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">NotFound</span></code> response for DELETE methods in OpenAPI YAML (#13550)</p></li>
<li><p>Stop Log Spamming when <code class="docutils literal notranslate"><span class="pre">[core]</span> <span class="pre">lazy_load_plugins</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code> (#13578)</p></li>
<li><p>Display message and docs link when no plugins are loaded (#13599)</p></li>
<li><p>Unpin restriction for <code class="docutils literal notranslate"><span class="pre">colorlog</span></code> dependency (#13176)</p></li>
<li><p>Add missing Dag Tag for Example DAGs (#13665)</p></li>
<li><p>Support tables in DAG docs (#13533)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">python3-openid</span></code> dependency (#13714)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">__repr__</span></code> for Executors (#13753)</p></li>
<li><p>Add description to hint if <code class="docutils literal notranslate"><span class="pre">conn_type</span></code> is missing (#13778)</p></li>
<li><p>Upgrade Azure blob to v12 (#12188)</p></li>
<li><p>Add extra field to <code class="docutils literal notranslate"><span class="pre">get_connnection</span></code> REST endpoint (#13885)</p></li>
<li><p>Make Smart Sensors DB Migration idempotent (#13892)</p></li>
<li><p>Improve the error when DAG does not exist when running dag pause command (#13900)</p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">airflow_local_settings.py</span></code> to fix an error message (#13927)</p></li>
<li><p>Only allow passing JSON Serializable conf to <code class="docutils literal notranslate"><span class="pre">TriggerDagRunOperator</span></code> (#13964)</p></li>
<li><p>Bugfix: Allow getting details of a DAG with null <code class="docutils literal notranslate"><span class="pre">start_date</span></code> (REST API) (#13959)</p></li>
<li><p>Add params to the DAG details endpoint (#13790)</p></li>
<li><p>Make the role assigned to anonymous users customizable (#14042)</p></li>
<li><p>Retry critical methods in Scheduler loop in case of <code class="docutils literal notranslate"><span class="pre">OperationalError</span></code> (#14032)</p></li>
</ul>
</section>
<section id="id204">
<h3>Doc only changes<a class="headerlink" href="#id204" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add Missing StatsD Metrics in Docs (#13708)</p></li>
<li><p>Add Missing Email configs in Configuration doc (#13709)</p></li>
<li><p>Add quick start for Airflow on Docker (#13660)</p></li>
<li><p>Describe which Python versions are supported (#13259)</p></li>
<li><p>Add note block to 2.x migration docs (#13094)</p></li>
<li><p>Add documentation about webserver_config.py (#13155)</p></li>
<li><p>Add missing version information to recently added configs (#13161)</p></li>
<li><p>API: Use generic information in UpdateMask component (#13146)</p></li>
<li><p>Add Airflow 2.0.0 to requirements table (#13140)</p></li>
<li><p>Avoid confusion in doc for CeleryKubernetesExecutor (#13116)</p></li>
<li><p>Update docs link in REST API spec (#13107)</p></li>
<li><p>Add link to PyPI Repository to provider docs (#13064)</p></li>
<li><p>Fix link to Airflow master branch documentation (#13179)</p></li>
<li><p>Minor enhancements to Sensors docs (#13381)</p></li>
<li><p>Use 2.0.0 in Airflow docs &amp; Breeze (#13379)</p></li>
<li><p>Improves documentation regarding providers and custom connections (#13375)(#13410)</p></li>
<li><p>Fix malformed table in production-deployment.rst (#13395)</p></li>
<li><p>Update celery.rst to fix broken links (#13400)</p></li>
<li><p>Remove reference to scheduler run_duration param in docs (#13346)</p></li>
<li><p>Set minimum SQLite version supported (#13412)</p></li>
<li><p>Fix installation doc (#13462)</p></li>
<li><p>Add docs about mocking variables and connections (#13502)</p></li>
<li><p>Add docs about Flask CLI (#13500)</p></li>
<li><p>Fix Upgrading to 2 guide to use <code class="docutils literal notranslate"><span class="pre">rbac</span></code> UI (#13569)</p></li>
<li><p>Make docs clear that Auth can not be disabled for Stable API (#13568)</p></li>
<li><p>Remove archived links from docs &amp; add link for AIPs (#13580)</p></li>
<li><p>Minor fixes in upgrading-to-2.rst (#13583)</p></li>
<li><p>Fix Link in Upgrading to 2.0 guide (#13584)</p></li>
<li><p>Fix heading for Mocking section in best-practices.rst (#13658)</p></li>
<li><p>Add docs on how to use custom operators within plugins folder (#13186)</p></li>
<li><p>Update docs to register Operator Extra Links (#13683)</p></li>
<li><p>Improvements for database setup docs (#13696)</p></li>
<li><p>Replace module path to Class with just Class Name (#13719)</p></li>
<li><p>Update DAG Serialization docs (#13722)</p></li>
<li><p>Fix link to Apache Airflow docs in webserver (#13250)</p></li>
<li><p>Clarifies differences between extras and provider packages (#13810)</p></li>
<li><p>Add information about all access methods to the environment (#13940)</p></li>
<li><p>Docs: Fix FAQ on scheduler latency (#13969)</p></li>
<li><p>Updated taskflow api doc to show dependency with sensor (#13968)</p></li>
<li><p>Add deprecated config options to docs (#13883)</p></li>
<li><p>Added a FAQ section to the Upgrading to 2 doc (#13979)</p></li>
</ul>
</section>
</section>
<section id="airflow-2-0-0-2020-12-18">
<h2><a class="toc-backref" href="#id265" role="doc-backlink">Airflow 2.0.0 (2020-12-18)</a><a class="headerlink" href="#airflow-2-0-0-2020-12-18" title="Link to this heading">¶</a></h2>
<p>The full changelog is about 3,000 lines long (already excluding everything backported to 1.10)
so please check <a class="reference external" href="https://airflow.apache.org/blog/airflow-two-point-oh-is-here/">Airflow 2.0.0 Highlights Blog Post</a>
instead.</p>
<section id="id205">
<h3>Significant Changes<a class="headerlink" href="#id205" title="Link to this heading">¶</a></h3>
<p>The 2.0 release of the Airflow is a significant upgrade, and includes substantial major changes,
and some of them may be breaking. Existing code written for earlier versions of this project will may require updates
to use this version. Sometimes necessary configuration changes are also required.
This document describes the changes that have been made, and what you need to do to update your usage.</p>
<p>If you experience issues or have questions, please file <a class="reference external" href="https://github.com/apache/airflow/issues/new/choose">an issue</a>.</p>
<section id="major-changes">
<h4>Major changes<a class="headerlink" href="#major-changes" title="Link to this heading">¶</a></h4>
<p>This section describes the major changes that have been made in this release.</p>
</section>
<section id="the-experimental-rest-api-is-disabled-by-default">
<h4>The experimental REST API is disabled by default<a class="headerlink" href="#the-experimental-rest-api-is-disabled-by-default" title="Link to this heading">¶</a></h4>
<p>The experimental REST API is disabled by default. To restore these APIs while migrating to
the stable REST API, set <code class="docutils literal notranslate"><span class="pre">enable_experimental_api</span></code> option in <code class="docutils literal notranslate"><span class="pre">[api]</span></code> section to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>Please note that the experimental REST API do not have access control.
The authenticated user has full access.</p>
</section>
<section id="sparkjdbchook-default-connection">
<h4>SparkJDBCHook default connection<a class="headerlink" href="#sparkjdbchook-default-connection" title="Link to this heading">¶</a></h4>
<p>For SparkJDBCHook default connection was <code class="docutils literal notranslate"><span class="pre">spark-default</span></code>, and for SparkSubmitHook it was
<code class="docutils literal notranslate"><span class="pre">spark_default</span></code>. Both hooks now use the <code class="docutils literal notranslate"><span class="pre">spark_default</span></code> which is a common pattern for the connection
names used across all providers.</p>
</section>
<section id="changes-to-output-argument-in-commands">
<h4>Changes to output argument in commands<a class="headerlink" href="#changes-to-output-argument-in-commands" title="Link to this heading">¶</a></h4>
<p>From Airflow 2.0, We are replacing <a class="reference external" href="https://pypi.org/project/tabulate/">tabulate</a> with <a class="reference external" href="https://github.com/willmcgugan/rich">rich</a> to render commands output. Due to this change, the <code class="docutils literal notranslate"><span class="pre">--output</span></code> argument
will no longer accept formats of tabulate tables. Instead, it now accepts:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">table</span></code> - will render the output in predefined table</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">json</span></code> - will render the output as a json</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">yaml</span></code> - will render the output as yaml</p></li>
</ul>
<p>By doing this we increased consistency and gave users possibility to manipulate the
output programmatically (when using json or yaml).</p>
<p>Affected commands:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">dags</span> <span class="pre">list</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">dags</span> <span class="pre">report</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">dags</span> <span class="pre">list-runs</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">dags</span> <span class="pre">list-jobs</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">connections</span> <span class="pre">list</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">connections</span> <span class="pre">get</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">pools</span> <span class="pre">list</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">pools</span> <span class="pre">get</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">pools</span> <span class="pre">set</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">pools</span> <span class="pre">delete</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">pools</span> <span class="pre">import</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">pools</span> <span class="pre">export</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">role</span> <span class="pre">list</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">providers</span> <span class="pre">list</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">providers</span> <span class="pre">get</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">providers</span> <span class="pre">hooks</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">tasks</span> <span class="pre">states-for-dag-run</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">users</span> <span class="pre">list</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">variables</span> <span class="pre">list</span></code></p></li>
</ul>
</section>
<section id="azure-wasb-hook-does-not-work-together-with-snowflake-hook">
<h4>Azure Wasb Hook does not work together with Snowflake hook<a class="headerlink" href="#azure-wasb-hook-does-not-work-together-with-snowflake-hook" title="Link to this heading">¶</a></h4>
<p>The WasbHook in Apache Airflow use a legacy version of Azure library. While the conflict is not
significant for most of the Azure hooks, it is a problem for Wasb Hook because the <code class="docutils literal notranslate"><span class="pre">blob</span></code> folders
for both libraries overlap. Installing both Snowflake and Azure extra will result in non-importable
WasbHook.</p>
</section>
<section id="rename-all-to-devel-all-extra">
<h4>Rename <code class="docutils literal notranslate"><span class="pre">all</span></code> to <code class="docutils literal notranslate"><span class="pre">devel_all</span></code> extra<a class="headerlink" href="#rename-all-to-devel-all-extra" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">all</span></code> extras were reduced to include only user-facing dependencies. This means
that this extra does not contain development dependencies. If you were relying on
<code class="docutils literal notranslate"><span class="pre">all</span></code> extra then you should use now <code class="docutils literal notranslate"><span class="pre">devel_all</span></code> or figure out if you need development
extras at all.</p>
</section>
<section id="context-variables-prev-execution-date-success-and-prev-execution-date-success-are-now-pendulum-datetime">
<h4>Context variables <code class="docutils literal notranslate"><span class="pre">prev_execution_date_success</span></code> and <code class="docutils literal notranslate"><span class="pre">prev_execution_date_success</span></code> are now <code class="docutils literal notranslate"><span class="pre">pendulum.DateTime</span></code><a class="headerlink" href="#context-variables-prev-execution-date-success-and-prev-execution-date-success-are-now-pendulum-datetime" title="Link to this heading">¶</a></h4>
</section>
<section id="rename-policy-to-task-policy">
<h4>Rename policy to task_policy<a class="headerlink" href="#rename-policy-to-task-policy" title="Link to this heading">¶</a></h4>
<p>Because Airflow introduced DAG level policy (<code class="docutils literal notranslate"><span class="pre">dag_policy</span></code>) we decided to rename existing <code class="docutils literal notranslate"><span class="pre">policy</span></code>
function to <code class="docutils literal notranslate"><span class="pre">task_policy</span></code> to make the distinction more profound and avoid any confusion.</p>
<p>Users using cluster policy need to rename their <code class="docutils literal notranslate"><span class="pre">policy</span></code> functions in <code class="docutils literal notranslate"><span class="pre">airflow_local_settings.py</span></code>
to <code class="docutils literal notranslate"><span class="pre">task_policy</span></code>.</p>
</section>
<section id="default-value-for-celery-operation-timeout-has-changed-to-1-0">
<h4>Default value for <code class="docutils literal notranslate"><span class="pre">[celery]</span> <span class="pre">operation_timeout</span></code> has changed to <code class="docutils literal notranslate"><span class="pre">1.0</span></code><a class="headerlink" href="#default-value-for-celery-operation-timeout-has-changed-to-1-0" title="Link to this heading">¶</a></h4>
<p>From Airflow 2, by default Airflow will retry 3 times to publish task to Celery broker. This is controlled by
<code class="docutils literal notranslate"><span class="pre">[celery]</span> <span class="pre">task_publish_max_retries</span></code>. Because of this we can now have a lower Operation timeout that raises
<code class="docutils literal notranslate"><span class="pre">AirflowTaskTimeout</span></code>. This generally occurs during network blips or intermittent DNS issues.</p>
</section>
<section id="adding-operators-and-sensors-via-plugins-is-no-longer-supported">
<h4>Adding Operators and Sensors via plugins is no longer supported<a class="headerlink" href="#adding-operators-and-sensors-via-plugins-is-no-longer-supported" title="Link to this heading">¶</a></h4>
<p>Operators and Sensors should no longer be registered or imported via Airflow’s plugin mechanism – these types of classes are just treated as plain python classes by Airflow, so there is no need to register them with Airflow.</p>
<p>If you previously had a <code class="docutils literal notranslate"><span class="pre">plugins/my_plugin.py</span></code> and you used it like this in a DAG:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">airflow.operators.my_plugin</span><span class="w"> </span><span class="kn">import</span> <span class="n">MyOperator</span>
</pre></div>
</div>
<p>You should instead import it as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">my_plugin</span><span class="w"> </span><span class="kn">import</span> <span class="n">MyOperator</span>
</pre></div>
</div>
<p>The name under <code class="docutils literal notranslate"><span class="pre">airflow.operators.</span></code> was the plugin name, where as in the second example it is the python module name where the operator is defined.</p>
<p>See <a class="reference external" href="https://airflow.apache.org/docs/apache-airflow/stable/howto/custom-operator.html">https://airflow.apache.org/docs/apache-airflow/stable/howto/custom-operator.html</a> for more info.</p>
</section>
<section id="importing-hooks-via-plugins-is-no-longer-supported">
<h4>Importing Hooks via plugins is no longer supported<a class="headerlink" href="#importing-hooks-via-plugins-is-no-longer-supported" title="Link to this heading">¶</a></h4>
<p>Importing hooks added in plugins via <code class="docutils literal notranslate"><span class="pre">airflow.hooks.&lt;plugin_name&gt;</span></code> is no longer supported, and hooks should just be imported as regular python modules.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">airflow.hooks.my_plugin</span><span class="w"> </span><span class="kn">import</span> <span class="n">MyHook</span>
</pre></div>
</div>
<p>You should instead import it as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">my_plugin</span><span class="w"> </span><span class="kn">import</span> <span class="n">MyHook</span>
</pre></div>
</div>
<p>It is still possible (but not required) to “register” hooks in plugins. This is to allow future support for dynamically populating the Connections form in the UI.</p>
<p>See <a class="reference external" href="https://airflow.apache.org/docs/apache-airflow/stable/howto/custom-operator.html">https://airflow.apache.org/docs/apache-airflow/stable/howto/custom-operator.html</a> for more info.</p>
</section>
<section id="the-default-value-for-core-enable-xcom-pickling-has-been-changed-to-false">
<h4>The default value for <code class="docutils literal notranslate"><span class="pre">[core]</span> <span class="pre">enable_xcom_pickling</span></code> has been changed to <code class="docutils literal notranslate"><span class="pre">False</span></code><a class="headerlink" href="#the-default-value-for-core-enable-xcom-pickling-has-been-changed-to-false" title="Link to this heading">¶</a></h4>
<p>The pickle type for XCom messages has been replaced to JSON by default to prevent RCE attacks.
Note that JSON serialization is stricter than pickling, so for example if you want to pass
raw bytes through XCom you must encode them using an encoding like <code class="docutils literal notranslate"><span class="pre">base64</span></code>.
If you understand the risk and still want to use <a class="reference external" href="https://docs.python.org/3/library/pickle.html">pickling</a>,
set <code class="docutils literal notranslate"><span class="pre">enable_xcom_pickling</span> <span class="pre">=</span> <span class="pre">True</span></code> in your Airflow config’s <code class="docutils literal notranslate"><span class="pre">core</span></code> section.</p>
</section>
<section id="airflowignore-of-base-path">
<h4>Airflowignore of base path<a class="headerlink" href="#airflowignore-of-base-path" title="Link to this heading">¶</a></h4>
<p>There was a bug fixed in <a class="reference external" href="https://github.com/apache/airflow/pull/11993">https://github.com/apache/airflow/pull/11993</a> that the “airflowignore” checked
the base path of the dag folder for forbidden dags, not only the relative part. This had the effect
that if the base path contained the excluded word the whole dag folder could have been excluded. For
example if the airflowignore file contained x, and the dags folder was ‘/var/x/dags’, then all dags in
the folder would be excluded. The fix only matches the relative path only now which means that if you
previously used full path as ignored, you should change it to relative one. For example if your dag
folder was ‘/var/dags/’ and your airflowignore contained ‘/var/dag/excluded/’, you should change it
to ‘excluded/’.</p>
</section>
<section id="externaltasksensor-provides-all-task-context-variables-to-execution-date-fn-as-keyword-arguments">
<h4><code class="docutils literal notranslate"><span class="pre">ExternalTaskSensor</span></code> provides all task context variables to <code class="docutils literal notranslate"><span class="pre">execution_date_fn</span></code> as keyword arguments<a class="headerlink" href="#externaltasksensor-provides-all-task-context-variables-to-execution-date-fn-as-keyword-arguments" title="Link to this heading">¶</a></h4>
<p>The old syntax of passing <code class="docutils literal notranslate"><span class="pre">context</span></code> as a dictionary will continue to work with the caveat that the argument must be named <code class="docutils literal notranslate"><span class="pre">context</span></code>. The following will break. To fix it, change <code class="docutils literal notranslate"><span class="pre">ctx</span></code> to <code class="docutils literal notranslate"><span class="pre">context</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">execution_date_fn</span><span class="p">(</span><span class="n">execution_date</span><span class="p">,</span> <span class="n">ctx</span><span class="p">):</span> <span class="o">...</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">execution_date_fn</span></code> can take in any number of keyword arguments available in the task context dictionary. The following forms of <code class="docutils literal notranslate"><span class="pre">execution_date_fn</span></code> are all supported:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">execution_date_fn</span><span class="p">(</span><span class="n">dt</span><span class="p">):</span> <span class="o">...</span>


<span class="k">def</span><span class="w"> </span><span class="nf">execution_date_fn</span><span class="p">(</span><span class="n">execution_date</span><span class="p">):</span> <span class="o">...</span>


<span class="k">def</span><span class="w"> </span><span class="nf">execution_date_fn</span><span class="p">(</span><span class="n">execution_date</span><span class="p">,</span> <span class="n">ds_nodash</span><span class="p">):</span> <span class="o">...</span>


<span class="k">def</span><span class="w"> </span><span class="nf">execution_date_fn</span><span class="p">(</span><span class="n">execution_date</span><span class="p">,</span> <span class="n">ds_nodash</span><span class="p">,</span> <span class="n">dag</span><span class="p">):</span> <span class="o">...</span>
</pre></div>
</div>
</section>
<section id="the-default-value-for-webserver-cookie-samesite-has-been-changed-to-lax">
<h4>The default value for <code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">cookie_samesite</span></code> has been changed to <code class="docutils literal notranslate"><span class="pre">Lax</span></code><a class="headerlink" href="#the-default-value-for-webserver-cookie-samesite-has-been-changed-to-lax" title="Link to this heading">¶</a></h4>
<p>As <a class="reference external" href="https://flask.palletsprojects.com/en/1.1.x/config/#SESSION_COOKIE_SAMESITE">recommended</a> by Flask, the
<code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">cookie_samesite</span></code> has been changed to <code class="docutils literal notranslate"><span class="pre">Lax</span></code> from <code class="docutils literal notranslate"><span class="pre">''</span></code> (empty string) .</p>
<section id="changes-to-import-paths">
<h5>Changes to import paths<a class="headerlink" href="#changes-to-import-paths" title="Link to this heading">¶</a></h5>
<p>Formerly the core code was maintained by the original creators - Airbnb. The code that was in the contrib
package was supported by the community. The project was passed to the Apache community and currently the
entire code is maintained by the community, so now the division has no justification, and it is only due
to historical reasons. In Airflow 2.0, we want to organize packages and move integrations
with third party services to the <code class="docutils literal notranslate"><span class="pre">airflow.providers</span></code> package.</p>
<p>All changes made are backward compatible, but if you use the old import paths you will
see a deprecation warning. The old import paths can be abandoned in the future.</p>
<p>According to <a class="reference external" href="https://cwiki.apache.org/confluence/display/AIRFLOW/AIP-21%3A+Changes+in+import+paths">AIP-21</a>
<code class="docutils literal notranslate"><span class="pre">_operator</span></code> suffix has been removed from operators. A deprecation warning has also been raised for paths
importing with the suffix.</p>
<p>The following table shows changes in import paths.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Old path</p></th>
<th class="head"><p>New path</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.hooks.base_hook.BaseHook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.hooks.base.BaseHook</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.hooks.dbapi_hook.DbApiHook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.hooks.dbapi.DbApiHook</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.operators.dummy_operator.DummyOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.operators.dummy.DummyOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.operators.dagrun_operator.TriggerDagRunOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.operators.trigger_dagrun.TriggerDagRunOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.operators.branch_operator.BaseBranchOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.operators.branch.BaseBranchOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.operators.subdag_operator.SubDagOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.operators.subdag.SubDagOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.sensors.base_sensor_operator.BaseSensorOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.sensors.base.BaseSensorOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.sensors.date_time_sensor.DateTimeSensor</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.sensors.date_time.DateTimeSensor</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.sensors.external_task_sensor.ExternalTaskMarker</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.sensors.external_task.ExternalTaskMarker</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.sensors.external_task_sensor.ExternalTaskSensor</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.sensors.external_task.ExternalTaskSensor</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.sensors.sql_sensor.SqlSensor</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.sensors.sql.SqlSensor</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.sensors.time_delta_sensor.TimeDeltaSensor</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.sensors.time_delta.TimeDeltaSensor</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.sensors.weekday_sensor.DayOfWeekSensor</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.sensors.weekday.DayOfWeekSensor</span></code></p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="database-schema-changes">
<h4>Database schema changes<a class="headerlink" href="#database-schema-changes" title="Link to this heading">¶</a></h4>
<p>In order to migrate the database, you should use the command <code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">db</span> <span class="pre">upgrade</span></code>, but in
some cases manual steps are required.</p>
<section id="unique-conn-id-in-connection-table">
<h5>Unique conn_id in connection table<a class="headerlink" href="#unique-conn-id-in-connection-table" title="Link to this heading">¶</a></h5>
<p>Previously, Airflow allowed users to add more than one connection with the same <code class="docutils literal notranslate"><span class="pre">conn_id</span></code> and on access it would choose one connection randomly. This acted as a basic load balancing and fault tolerance technique, when used in conjunction with retries.</p>
<p>This behavior caused some confusion for users, and there was no clear evidence if it actually worked well or not.</p>
<p>Now the <code class="docutils literal notranslate"><span class="pre">conn_id</span></code> will be unique. If you already have duplicates in your metadata database, you will have to manage those duplicate connections before upgrading the database.</p>
</section>
<section id="not-nullable-conn-type-column-in-connection-table">
<h5>Not-nullable conn_type column in connection table<a class="headerlink" href="#not-nullable-conn-type-column-in-connection-table" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">conn_type</span></code> column in the <code class="docutils literal notranslate"><span class="pre">connection</span></code> table must contain content. Previously, this rule was enforced
by application logic, but was not enforced by the database schema.</p>
<p>If you made any modifications to the table directly, make sure you don’t have
null in the <code class="docutils literal notranslate"><span class="pre">conn_type</span></code> column.</p>
</section>
</section>
<section id="configuration-changes">
<h4>Configuration changes<a class="headerlink" href="#configuration-changes" title="Link to this heading">¶</a></h4>
<p>This release contains many changes that require a change in the configuration of this application or
other application that integrate with it.</p>
<p>This section describes the changes that have been made, and what you need to do to.</p>
<section id="airflow-contrib-utils-log-has-been-moved">
<h5>airflow.contrib.utils.log has been moved<a class="headerlink" href="#airflow-contrib-utils-log-has-been-moved" title="Link to this heading">¶</a></h5>
<p>Formerly the core code was maintained by the original creators - Airbnb. The code that was in the contrib
package was supported by the community. The project was passed to the Apache community and currently the
entire code is maintained by the community, so now the division has no justification, and it is only due
to historical reasons. In Airflow 2.0, we want to organize packages and move integrations
with third party services to the <code class="docutils literal notranslate"><span class="pre">airflow.providers</span></code> package.</p>
<p>To clean up, the following packages were moved:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Old package</p></th>
<th class="head"><p>New package</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.utils.log</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.utils.log</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.utils.log.gcs_task_handler</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.log.gcs_task_handler</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.utils.log.wasb_task_handler</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.microsoft.azure.log.wasb_task_handler</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.utils.log.stackdriver_task_handler</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.log.stackdriver_task_handler</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.utils.log.s3_task_handler</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.log.s3_task_handler</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.utils.log.es_task_handler</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.elasticsearch.log.es_task_handler</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.utils.log.cloudwatch_task_handler</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.log.cloudwatch_task_handler</span></code></p></td>
</tr>
</tbody>
</table>
<p>You should update the import paths if you are setting log configurations with the <code class="docutils literal notranslate"><span class="pre">logging_config_class</span></code> option.
The old import paths still works but can be abandoned.</p>
</section>
<section id="sendgrid-emailer-has-been-moved">
<h5>SendGrid emailer has been moved<a class="headerlink" href="#sendgrid-emailer-has-been-moved" title="Link to this heading">¶</a></h5>
<p>Formerly the core code was maintained by the original creators - Airbnb. The code that was in the contrib
package was supported by the community. The project was passed to the Apache community and currently the
entire code is maintained by the community, so now the division has no justification, and it is only due
to historical reasons.</p>
<p>To clean up, the <code class="docutils literal notranslate"><span class="pre">send_mail</span></code> function from the <code class="docutils literal notranslate"><span class="pre">airflow.contrib.utils.sendgrid</span></code> module has been moved.</p>
<p>If your configuration file looks like this:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[email]</span>
<span class="na">email_backend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">airflow.contrib.utils.sendgrid.send_email</span>
</pre></div>
</div>
<p>It should look like this now:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[email]</span>
<span class="na">email_backend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">airflow.providers.sendgrid.utils.emailer.send_email</span>
</pre></div>
</div>
<p>The old configuration still works but can be abandoned.</p>
</section>
<section id="unify-hostname-callable-option-in-core-section">
<h5>Unify <code class="docutils literal notranslate"><span class="pre">hostname_callable</span></code> option in <code class="docutils literal notranslate"><span class="pre">core</span></code> section<a class="headerlink" href="#unify-hostname-callable-option-in-core-section" title="Link to this heading">¶</a></h5>
<p>The previous option used a colon(<code class="docutils literal notranslate"><span class="pre">:</span></code>) to split the module from function. Now the dot(<code class="docutils literal notranslate"><span class="pre">.</span></code>) is used.</p>
<p>The change aims to unify the format of all options that refer to objects in the <code class="docutils literal notranslate"><span class="pre">airflow.cfg</span></code> file.</p>
</section>
<section id="custom-executors-is-loaded-using-full-import-path">
<h5>Custom executors is loaded using full import path<a class="headerlink" href="#custom-executors-is-loaded-using-full-import-path" title="Link to this heading">¶</a></h5>
<p>In previous versions of Airflow it was possible to use plugins to load custom executors. It is still
possible, but the configuration has changed. Now you don’t have to create a plugin to configure a
custom executor, but you need to provide the full path to the module in the <code class="docutils literal notranslate"><span class="pre">executor</span></code> option
in the <code class="docutils literal notranslate"><span class="pre">core</span></code> section. The purpose of this change is to simplify the plugin mechanism and make
it easier to configure executor.</p>
<p>If your module was in the path <code class="docutils literal notranslate"><span class="pre">my_acme_company.executors.MyCustomExecutor</span></code>  and the plugin was
called <code class="docutils literal notranslate"><span class="pre">my_plugin</span></code> then your configuration looks like this</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[core]</span>
<span class="na">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">my_plugin.MyCustomExecutor</span>
</pre></div>
</div>
<p>And now it should look like this:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[core]</span>
<span class="na">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">my_acme_company.executors.MyCustomExecutor</span>
</pre></div>
</div>
<p>The old configuration is still works but can be abandoned at any time.</p>
</section>
<section id="use-customsqlainterface-instead-of-sqlainterface-for-custom-data-models">
<h5>Use <code class="docutils literal notranslate"><span class="pre">CustomSQLAInterface</span></code> instead of <code class="docutils literal notranslate"><span class="pre">SQLAInterface</span></code> for custom data models.<a class="headerlink" href="#use-customsqlainterface-instead-of-sqlainterface-for-custom-data-models" title="Link to this heading">¶</a></h5>
<p>From Airflow 2.0, if you want to define your own Flask App Builder data models you need to use CustomSQLAInterface
instead of SQLAInterface.</p>
<p>For Non-RBAC replace:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">flask_appbuilder.models.sqla.interface</span><span class="w"> </span><span class="kn">import</span> <span class="n">SQLAInterface</span>

<span class="n">datamodel</span> <span class="o">=</span> <span class="n">SQLAInterface</span><span class="p">(</span><span class="n">your_data_model</span><span class="p">)</span>
</pre></div>
</div>
<p>with RBAC (in 1.10):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">airflow.www_rbac.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">CustomSQLAInterface</span>

<span class="n">datamodel</span> <span class="o">=</span> <span class="n">CustomSQLAInterface</span><span class="p">(</span><span class="n">your_data_model</span><span class="p">)</span>
</pre></div>
</div>
<p>and in 2.0:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">airflow.www.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">CustomSQLAInterface</span>

<span class="n">datamodel</span> <span class="o">=</span> <span class="n">CustomSQLAInterface</span><span class="p">(</span><span class="n">your_data_model</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="drop-plugin-support-for-stat-name-handler">
<h5>Drop plugin support for stat_name_handler<a class="headerlink" href="#drop-plugin-support-for-stat-name-handler" title="Link to this heading">¶</a></h5>
<p>In previous version, you could use plugins mechanism to configure <code class="docutils literal notranslate"><span class="pre">stat_name_handler</span></code>. You should now use the <code class="docutils literal notranslate"><span class="pre">stat_name_handler</span></code>
option in <code class="docutils literal notranslate"><span class="pre">[scheduler]</span></code> section to achieve the same effect.</p>
<p>If your plugin looked like this and was available through the <code class="docutils literal notranslate"><span class="pre">test_plugin</span></code> path:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">my_stat_name_handler</span><span class="p">(</span><span class="n">stat</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">stat</span>


<span class="k">class</span><span class="w"> </span><span class="nc">AirflowTestPlugin</span><span class="p">(</span><span class="n">AirflowPlugin</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;test_plugin&quot;</span>
    <span class="n">stat_name_handler</span> <span class="o">=</span> <span class="n">my_stat_name_handler</span>
</pre></div>
</div>
<p>then your <code class="docutils literal notranslate"><span class="pre">airflow.cfg</span></code> file should look like this:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[scheduler]</span>
<span class="na">stat_name_handler</span><span class="o">=</span><span class="s">test_plugin.my_stat_name_handler</span>
</pre></div>
</div>
<p>This change is intended to simplify the statsd configuration.</p>
</section>
<section id="logging-configuration-has-been-moved-to-new-section">
<h5>Logging configuration has been moved to new section<a class="headerlink" href="#logging-configuration-has-been-moved-to-new-section" title="Link to this heading">¶</a></h5>
<p>The following configurations have been moved from <code class="docutils literal notranslate"><span class="pre">[core]</span></code> to the new <code class="docutils literal notranslate"><span class="pre">[logging]</span></code> section.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">base_log_folder</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">remote_logging</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">remote_log_conn_id</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">remote_base_log_folder</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">encrypt_s3_logs</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">logging_level</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fab_logging_level</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">logging_config_class</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">colored_console_log</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">colored_log_format</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">colored_formatter_class</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">log_format</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">simple_log_format</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">task_log_prefix_template</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">log_filename_template</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">log_processor_filename_template</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dag_processor_manager_log_location</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">task_log_reader</span></code></p></li>
</ul>
</section>
<section id="metrics-configuration-has-been-moved-to-new-section">
<h5>Metrics configuration has been moved to new section<a class="headerlink" href="#metrics-configuration-has-been-moved-to-new-section" title="Link to this heading">¶</a></h5>
<p>The following configurations have been moved from <code class="docutils literal notranslate"><span class="pre">[scheduler]</span></code> to the new <code class="docutils literal notranslate"><span class="pre">[metrics]</span></code> section.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">statsd_on</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">statsd_host</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">statsd_port</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">statsd_prefix</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">statsd_allow_list</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stat_name_handler</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">statsd_datadog_enabled</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">statsd_datadog_tags</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">statsd_custom_client_path</span></code></p></li>
</ul>
</section>
<section id="changes-to-elasticsearch-logging-provider">
<h5>Changes to Elasticsearch logging provider<a class="headerlink" href="#changes-to-elasticsearch-logging-provider" title="Link to this heading">¶</a></h5>
<p>When JSON output to stdout is enabled, log lines will now contain the <code class="docutils literal notranslate"><span class="pre">log_id</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">offset</span></code> fields, this should make reading task logs from elasticsearch on the webserver work out of the box. Example configuration:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[logging]</span>
<span class="na">remote_logging</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">True</span>
<span class="k">[elasticsearch]</span>
<span class="na">host</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">http://es-host:9200</span>
<span class="na">write_stdout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">True</span>
<span class="na">json_format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">True</span>
</pre></div>
</div>
<p>Note that the webserver expects the log line data itself to be present in the <code class="docutils literal notranslate"><span class="pre">message</span></code> field of the document.</p>
</section>
<section id="remove-gcp-service-account-keys-option-in-airflow-cfg-file">
<h5>Remove gcp_service_account_keys option in airflow.cfg file<a class="headerlink" href="#remove-gcp-service-account-keys-option-in-airflow-cfg-file" title="Link to this heading">¶</a></h5>
<p>This option has been removed because it is no longer supported by the Google Kubernetes Engine. The new
recommended service account keys for the Google Cloud management method is
<a class="reference external" href="https://cloud.google.com/kubernetes-engine/docs/how-to/workload-identity">Workload Identity</a>.</p>
</section>
<section id="fernet-is-enabled-by-default">
<h5>Fernet is enabled by default<a class="headerlink" href="#fernet-is-enabled-by-default" title="Link to this heading">¶</a></h5>
<p>The fernet mechanism is enabled by default to increase the security of the default installation.  In order to
restore the previous behavior, the user must consciously set an empty key in the <code class="docutils literal notranslate"><span class="pre">fernet_key</span></code> option of
section <code class="docutils literal notranslate"><span class="pre">[core]</span></code> in the <code class="docutils literal notranslate"><span class="pre">airflow.cfg</span></code> file.</p>
<p>At the same time, this means that the <code class="docutils literal notranslate"><span class="pre">apache-airflow[crypto]</span></code> extra-packages are always installed.
However, this requires that your operating system has <code class="docutils literal notranslate"><span class="pre">libffi-dev</span></code> installed.</p>
</section>
<section id="changes-to-propagating-kubernetes-worker-annotations">
<h5>Changes to propagating Kubernetes worker annotations<a class="headerlink" href="#changes-to-propagating-kubernetes-worker-annotations" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">kubernetes_annotations</span></code> configuration section has been removed.
A new key <code class="docutils literal notranslate"><span class="pre">worker_annotations</span></code> has been added to existing <code class="docutils literal notranslate"><span class="pre">kubernetes</span></code> section instead.
That is to remove restriction on the character set for k8s annotation keys.
All key/value pairs from <code class="docutils literal notranslate"><span class="pre">kubernetes_annotations</span></code> should now go to <code class="docutils literal notranslate"><span class="pre">worker_annotations</span></code> as a json. I.e. instead of e.g.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">kubernetes_annotations</span><span class="p">]</span>
<span class="n">annotation_key</span> <span class="o">=</span> <span class="n">annotation_value</span>
<span class="n">annotation_key2</span> <span class="o">=</span> <span class="n">annotation_value2</span>
</pre></div>
</div>
<p>it should be rewritten to</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">kubernetes</span><span class="p">]</span>
<span class="n">worker_annotations</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;annotation_key&quot;</span> <span class="p">:</span> <span class="s2">&quot;annotation_value&quot;</span><span class="p">,</span> <span class="s2">&quot;annotation_key2&quot;</span> <span class="p">:</span> <span class="s2">&quot;annotation_value2&quot;</span> <span class="p">}</span>
</pre></div>
</div>
</section>
<section id="remove-run-duration">
<h5>Remove run_duration<a class="headerlink" href="#remove-run-duration" title="Link to this heading">¶</a></h5>
<p>We should not use the <code class="docutils literal notranslate"><span class="pre">run_duration</span></code> option anymore. This used to be for restarting the scheduler from time to time, but right now the scheduler is getting more stable and therefore using this setting is considered bad and might cause an inconsistent state.</p>
</section>
<section id="rename-pool-statsd-metrics">
<h5>Rename pool statsd metrics<a class="headerlink" href="#rename-pool-statsd-metrics" title="Link to this heading">¶</a></h5>
<p>Used slot has been renamed to running slot to make the name self-explanatory
and the code more maintainable.</p>
<p>This means <code class="docutils literal notranslate"><span class="pre">pool.used_slots.&lt;pool_name&gt;</span></code> metric has been renamed to
<code class="docutils literal notranslate"><span class="pre">pool.running_slots.&lt;pool_name&gt;</span></code>. The <code class="docutils literal notranslate"><span class="pre">Used</span> <span class="pre">Slots</span></code> column in Pools Web UI view
has also been changed to <code class="docutils literal notranslate"><span class="pre">Running</span> <span class="pre">Slots</span></code>.</p>
</section>
<section id="removal-of-mesos-executor">
<h5>Removal of Mesos Executor<a class="headerlink" href="#removal-of-mesos-executor" title="Link to this heading">¶</a></h5>
<p>The Mesos Executor is removed from the code base as it was not widely used and not maintained. <a class="reference external" href="https://lists.apache.org/thread.html/daa9500026b820c6aaadeffd66166eae558282778091ebbc68819fb7&#64;%3Cdev.airflow.apache.org%3E">Mailing List Discussion on deleting it</a>.</p>
</section>
<section id="change-dag-loading-duration-metric-name">
<h5>Change dag loading duration metric name<a class="headerlink" href="#change-dag-loading-duration-metric-name" title="Link to this heading">¶</a></h5>
<p>Change DAG file loading duration metric from
<code class="docutils literal notranslate"><span class="pre">dag.loading-duration.&lt;dag_id&gt;</span></code> to <code class="docutils literal notranslate"><span class="pre">dag.loading-duration.&lt;dag_file&gt;</span></code>. This is to
better handle the case when a DAG file has multiple DAGs.</p>
</section>
<section id="sentry-is-disabled-by-default">
<h5>Sentry is disabled by default<a class="headerlink" href="#sentry-is-disabled-by-default" title="Link to this heading">¶</a></h5>
<p>Sentry is disabled by default. To enable these integrations, you need set <code class="docutils literal notranslate"><span class="pre">sentry_on</span></code> option
in <code class="docutils literal notranslate"><span class="pre">[sentry]</span></code> section to <code class="docutils literal notranslate"><span class="pre">&quot;True&quot;</span></code>.</p>
</section>
<section id="simplified-gcstaskhandler-configuration">
<h5>Simplified GCSTaskHandler configuration<a class="headerlink" href="#simplified-gcstaskhandler-configuration" title="Link to this heading">¶</a></h5>
<p>In previous versions, in order to configure the service account key file, you had to create a connection entry.
In the current version, you can configure <code class="docutils literal notranslate"><span class="pre">google_key_path</span></code> option in <code class="docutils literal notranslate"><span class="pre">[logging]</span></code> section to set
the key file path.</p>
<p>Users using Application Default Credentials (ADC) need not take any action.</p>
<p>The change aims to simplify the configuration of logging, to prevent corruption of
the instance configuration by changing the value controlled by the user - connection entry. If you
configure a backend secret, it also means the webserver doesn’t need to connect to it. This
simplifies setups with multiple GCP projects, because only one project will require the Secret Manager API
to be enabled.</p>
</section>
</section>
<section id="changes-to-the-core-operators-hooks">
<h4>Changes to the core operators/hooks<a class="headerlink" href="#changes-to-the-core-operators-hooks" title="Link to this heading">¶</a></h4>
<p>We strive to ensure that there are no changes that may affect the end user and your files, but this
release may contain changes that will require changes to your DAG files.</p>
<p>This section describes the changes that have been made, and what you need to do to update your DAG File,
if you use core operators or any other.</p>
<section id="basesensoroperator-now-respects-the-trigger-rule-of-downstream-tasks">
<h5>BaseSensorOperator now respects the trigger_rule of downstream tasks<a class="headerlink" href="#basesensoroperator-now-respects-the-trigger-rule-of-downstream-tasks" title="Link to this heading">¶</a></h5>
<p>Previously, BaseSensorOperator with setting <code class="docutils literal notranslate"><span class="pre">soft_fail=True</span></code> skips itself
and skips all its downstream tasks unconditionally, when it fails i.e the trigger_rule of downstream tasks is not
respected.</p>
<p>In the new behavior, the trigger_rule of downstream tasks is respected.
User can preserve/achieve the original behaviour by setting the trigger_rule of each downstream task to <code class="docutils literal notranslate"><span class="pre">all_success</span></code>.</p>
</section>
<section id="baseoperator-uses-metaclass">
<h5>BaseOperator uses metaclass<a class="headerlink" href="#baseoperator-uses-metaclass" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">BaseOperator</span></code> class uses a <code class="docutils literal notranslate"><span class="pre">BaseOperatorMeta</span></code> as a metaclass. This meta class is based on
<code class="docutils literal notranslate"><span class="pre">abc.ABCMeta</span></code>. If your custom operator uses different metaclass then you will have to adjust it.</p>
</section>
<section id="remove-sql-support-in-basehook">
<h5>Remove SQL support in BaseHook<a class="headerlink" href="#remove-sql-support-in-basehook" title="Link to this heading">¶</a></h5>
<p>Remove <code class="docutils literal notranslate"><span class="pre">get_records</span></code> and <code class="docutils literal notranslate"><span class="pre">get_pandas_df</span></code> and <code class="docutils literal notranslate"><span class="pre">run</span></code> from BaseHook, which only apply for SQL-like hook,
If want to use them, or your custom hook inherit them, please use <code class="docutils literal notranslate"><span class="pre">airflow.hooks.dbapi.DbApiHook</span></code></p>
</section>
<section id="assigning-task-to-a-dag-using-bitwise-shift-bit-shift-operators-are-no-longer-supported">
<h5>Assigning task to a DAG using bitwise shift (bit-shift) operators are no longer supported<a class="headerlink" href="#assigning-task-to-a-dag-using-bitwise-shift-bit-shift-operators-are-no-longer-supported" title="Link to this heading">¶</a></h5>
<p>Previously, you could assign a task to a DAG as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dag</span> <span class="o">=</span> <span class="n">DAG</span><span class="p">(</span><span class="s2">&quot;my_dag&quot;</span><span class="p">)</span>
<span class="n">dummy</span> <span class="o">=</span> <span class="n">DummyOperator</span><span class="p">(</span><span class="n">task_id</span><span class="o">=</span><span class="s2">&quot;dummy&quot;</span><span class="p">)</span>

<span class="n">dag</span> <span class="o">&gt;&gt;</span> <span class="n">dummy</span>
</pre></div>
</div>
<p>This is no longer supported. Instead, we recommend using the DAG as context manager:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">DAG</span><span class="p">(</span><span class="s2">&quot;my_dag&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">dag</span><span class="p">:</span>
    <span class="n">dummy</span> <span class="o">=</span> <span class="n">DummyOperator</span><span class="p">(</span><span class="n">task_id</span><span class="o">=</span><span class="s2">&quot;dummy&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="removed-deprecated-import-mechanism">
<h5>Removed deprecated import mechanism<a class="headerlink" href="#removed-deprecated-import-mechanism" title="Link to this heading">¶</a></h5>
<p>The deprecated import mechanism has been removed so the import of modules becomes more consistent and explicit.</p>
<p>For example: <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">airflow.operators</span> <span class="pre">import</span> <span class="pre">BashOperator</span></code>
becomes <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">airflow.operators.bash_operator</span> <span class="pre">import</span> <span class="pre">BashOperator</span></code></p>
</section>
<section id="changes-to-sensor-imports">
<h5>Changes to sensor imports<a class="headerlink" href="#changes-to-sensor-imports" title="Link to this heading">¶</a></h5>
<p>Sensors are now accessible via <code class="docutils literal notranslate"><span class="pre">airflow.sensors</span></code> and no longer via <code class="docutils literal notranslate"><span class="pre">airflow.operators.sensors</span></code>.</p>
<p>For example: <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">airflow.operators.sensors</span> <span class="pre">import</span> <span class="pre">BaseSensorOperator</span></code>
becomes <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">airflow.sensors.base</span> <span class="pre">import</span> <span class="pre">BaseSensorOperator</span></code></p>
</section>
<section id="skipped-tasks-can-satisfy-wait-for-downstream">
<h5>Skipped tasks can satisfy wait_for_downstream<a class="headerlink" href="#skipped-tasks-can-satisfy-wait-for-downstream" title="Link to this heading">¶</a></h5>
<p>Previously, a task instance with <code class="docutils literal notranslate"><span class="pre">wait_for_downstream=True</span></code> will only run if the downstream task of
the previous task instance is successful. Meanwhile, a task instance with <code class="docutils literal notranslate"><span class="pre">depends_on_past=True</span></code>
will run if the previous task instance is either successful or skipped. These two flags are close siblings
yet they have different behavior. This inconsistency in behavior made the API less intuitive to users.
To maintain consistent behavior, both successful or skipped downstream task can now satisfy the
<code class="docutils literal notranslate"><span class="pre">wait_for_downstream=True</span></code> flag.</p>
</section>
<section id="airflow-utils-helpers-cross-downstream">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.utils.helpers.cross_downstream</span></code><a class="headerlink" href="#airflow-utils-helpers-cross-downstream" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-utils-helpers-chain">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.utils.helpers.chain</span></code><a class="headerlink" href="#airflow-utils-helpers-chain" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">chain</span></code> and <code class="docutils literal notranslate"><span class="pre">cross_downstream</span></code> methods are now moved to airflow.models.baseoperator module from
<code class="docutils literal notranslate"><span class="pre">airflow.utils.helpers</span></code> module.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">baseoperator</span></code> module seems to be a better choice to keep
closely coupled methods together. Helpers module is supposed to contain standalone helper methods
that can be imported by all classes.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">chain</span></code> method and <code class="docutils literal notranslate"><span class="pre">cross_downstream</span></code> method both use BaseOperator. If any other package imports
any classes or functions from helpers module, then it automatically has an
implicit dependency to BaseOperator. That can often lead to cyclic dependencies.</p>
<p>More information in <a class="reference external" href="https://issues.apache.org/jira/browse/AIRFLOW-6392">AIRFLOW-6392</a></p>
<p>In Airflow &lt; 2.0 you imported those two methods like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">airflow.utils.helpers</span><span class="w"> </span><span class="kn">import</span> <span class="n">chain</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">airflow.utils.helpers</span><span class="w"> </span><span class="kn">import</span> <span class="n">cross_downstream</span>
</pre></div>
</div>
<p>In Airflow 2.0 it should be changed to:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">airflow.models.baseoperator</span><span class="w"> </span><span class="kn">import</span> <span class="n">chain</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">airflow.models.baseoperator</span><span class="w"> </span><span class="kn">import</span> <span class="n">cross_downstream</span>
</pre></div>
</div>
</section>
<section id="airflow-operators-python-branchpythonoperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.operators.python.BranchPythonOperator</span></code><a class="headerlink" href="#airflow-operators-python-branchpythonoperator" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">BranchPythonOperator</span></code> will now return a value equal to the <code class="docutils literal notranslate"><span class="pre">task_id</span></code> of the chosen branch,
where previously it returned None. Since it inherits from BaseOperator it will do an
<code class="docutils literal notranslate"><span class="pre">xcom_push</span></code> of this value if <code class="docutils literal notranslate"><span class="pre">do_xcom_push=True</span></code>. This is useful for downstream decision-making.</p>
</section>
<section id="airflow-sensors-sql-sensor-sqlsensor">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.sensors.sql_sensor.SqlSensor</span></code><a class="headerlink" href="#airflow-sensors-sql-sensor-sqlsensor" title="Link to this heading">¶</a></h5>
<p>SQLSensor now consistent with python <code class="docutils literal notranslate"><span class="pre">bool()</span></code> function and the <code class="docutils literal notranslate"><span class="pre">allow_null</span></code> parameter has been removed.</p>
<p>It will resolve after receiving any value  that is casted to <code class="docutils literal notranslate"><span class="pre">True</span></code> with python <code class="docutils literal notranslate"><span class="pre">bool(value)</span></code>. That
changes the previous response receiving <code class="docutils literal notranslate"><span class="pre">NULL</span></code> or <code class="docutils literal notranslate"><span class="pre">'0'</span></code>. Earlier <code class="docutils literal notranslate"><span class="pre">'0'</span></code> has been treated as success
criteria. <code class="docutils literal notranslate"><span class="pre">NULL</span></code> has been treated depending on value of <code class="docutils literal notranslate"><span class="pre">allow_null</span></code>parameter.  But all the previous
behaviour is still achievable setting param <code class="docutils literal notranslate"><span class="pre">success</span></code> to <code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">x:</span> <span class="pre">x</span> <span class="pre">is</span> <span class="pre">None</span> <span class="pre">or</span> <span class="pre">str(x)</span> <span class="pre">not</span> <span class="pre">in</span> <span class="pre">('0',</span> <span class="pre">'')</span></code>.</p>
</section>
<section id="airflow-operators-trigger-dagrun-triggerdagrunoperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.operators.trigger_dagrun.TriggerDagRunOperator</span></code><a class="headerlink" href="#airflow-operators-trigger-dagrun-triggerdagrunoperator" title="Link to this heading">¶</a></h5>
<p>The TriggerDagRunOperator now takes a <code class="docutils literal notranslate"><span class="pre">conf</span></code> argument to which a dict can be provided as conf for the DagRun.
As a result, the <code class="docutils literal notranslate"><span class="pre">python_callable</span></code> argument was removed. PR: <a class="reference external" href="https://github.com/apache/airflow/pull/6317">https://github.com/apache/airflow/pull/6317</a>.</p>
</section>
<section id="airflow-operators-python-pythonoperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.operators.python.PythonOperator</span></code><a class="headerlink" href="#airflow-operators-python-pythonoperator" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">provide_context</span></code> argument on the PythonOperator was removed. The signature of the callable passed to the PythonOperator is now inferred and argument values are always automatically provided. There is no need to explicitly provide or not provide the context anymore. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">myfunc</span><span class="p">(</span><span class="n">execution_date</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">execution_date</span><span class="p">)</span>


<span class="n">python_operator</span> <span class="o">=</span> <span class="n">PythonOperator</span><span class="p">(</span><span class="n">task_id</span><span class="o">=</span><span class="s2">&quot;mytask&quot;</span><span class="p">,</span> <span class="n">python_callable</span><span class="o">=</span><span class="n">myfunc</span><span class="p">,</span> <span class="n">dag</span><span class="o">=</span><span class="n">dag</span><span class="p">)</span>
</pre></div>
</div>
<p>Notice you don’t have to set provide_context=True, variables from the task context are now automatically detected and provided.</p>
<p>All context variables can still be provided with a double-asterisk argument:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">myfunc</span><span class="p">(</span><span class="o">**</span><span class="n">context</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>  <span class="c1"># all variables will be provided to context</span>


<span class="n">python_operator</span> <span class="o">=</span> <span class="n">PythonOperator</span><span class="p">(</span><span class="n">task_id</span><span class="o">=</span><span class="s2">&quot;mytask&quot;</span><span class="p">,</span> <span class="n">python_callable</span><span class="o">=</span><span class="n">myfunc</span><span class="p">)</span>
</pre></div>
</div>
<p>The task context variable names are reserved names in the callable function, hence a clash with <code class="docutils literal notranslate"><span class="pre">op_args</span></code> and <code class="docutils literal notranslate"><span class="pre">op_kwargs</span></code> results in an exception:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">myfunc</span><span class="p">(</span><span class="n">dag</span><span class="p">):</span>
    <span class="c1"># raises a ValueError because &quot;dag&quot; is a reserved name</span>
    <span class="c1"># valid signature example: myfunc(mydag)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;output&quot;</span><span class="p">)</span>


<span class="n">python_operator</span> <span class="o">=</span> <span class="n">PythonOperator</span><span class="p">(</span>
    <span class="n">task_id</span><span class="o">=</span><span class="s2">&quot;mytask&quot;</span><span class="p">,</span>
    <span class="n">op_args</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
    <span class="n">python_callable</span><span class="o">=</span><span class="n">myfunc</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The change is backwards compatible, setting <code class="docutils literal notranslate"><span class="pre">provide_context</span></code> will add the <code class="docutils literal notranslate"><span class="pre">provide_context</span></code> variable to the <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> (but won’t do anything).</p>
<p>PR: <a class="reference external" href="https://github.com/apache/airflow/pull/5990">#5990</a></p>
</section>
<section id="airflow-providers-standard-sensors-filesystem-filesensor">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.standard.sensors.filesystem.FileSensor</span></code><a class="headerlink" href="#airflow-providers-standard-sensors-filesystem-filesensor" title="Link to this heading">¶</a></h5>
<p>FileSensor is now takes a glob pattern, not just a filename. If the filename you are looking for has <code class="docutils literal notranslate"><span class="pre">*</span></code>, <code class="docutils literal notranslate"><span class="pre">?</span></code>, or <code class="docutils literal notranslate"><span class="pre">[</span></code> in it then you should replace these with <code class="docutils literal notranslate"><span class="pre">[*]</span></code>, <code class="docutils literal notranslate"><span class="pre">[?]</span></code>, and <code class="docutils literal notranslate"><span class="pre">[[]</span></code>.</p>
</section>
<section id="airflow-operators-subdag-operator-subdagoperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.operators.subdag_operator.SubDagOperator</span></code><a class="headerlink" href="#airflow-operators-subdag-operator-subdagoperator" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">SubDagOperator</span></code> is changed to use Airflow scheduler instead of backfill
to schedule tasks in the subdag. User no longer need to specify the executor
in <code class="docutils literal notranslate"><span class="pre">SubDagOperator</span></code>.</p>
</section>
<section id="airflow-providers-google-cloud-operators-datastore-clouddatastoreexportentitiesoperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.datastore.CloudDatastoreExportEntitiesOperator</span></code><a class="headerlink" href="#airflow-providers-google-cloud-operators-datastore-clouddatastoreexportentitiesoperator" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-providers-google-cloud-operators-datastore-clouddatastoreimportentitiesoperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.datastore.CloudDatastoreImportEntitiesOperator</span></code><a class="headerlink" href="#airflow-providers-google-cloud-operators-datastore-clouddatastoreimportentitiesoperator" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-providers-cncf-kubernetes-operators-kubernetes-pod-kubernetespodoperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.cncf.kubernetes.operators.kubernetes_pod.KubernetesPodOperator</span></code><a class="headerlink" href="#airflow-providers-cncf-kubernetes-operators-kubernetes-pod-kubernetespodoperator" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-providers-ssh-operators-ssh-sshoperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.ssh.operators.ssh.SSHOperator</span></code><a class="headerlink" href="#airflow-providers-ssh-operators-ssh-sshoperator" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-providers-microsoft-winrm-operators-winrm-winrmoperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.microsoft.winrm.operators.winrm.WinRMOperator</span></code><a class="headerlink" href="#airflow-providers-microsoft-winrm-operators-winrm-winrmoperator" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-operators-bash-bashoperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.operators.bash.BashOperator</span></code><a class="headerlink" href="#airflow-operators-bash-bashoperator" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-providers-docker-operators-docker-dockeroperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.docker.operators.docker.DockerOperator</span></code><a class="headerlink" href="#airflow-providers-docker-operators-docker-dockeroperator" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-providers-http-operators-http-simplehttpoperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.http.operators.http.SimpleHttpOperator</span></code><a class="headerlink" href="#airflow-providers-http-operators-http-simplehttpoperator" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">do_xcom_push</span></code> flag (a switch to push the result of an operator to xcom or not) was appearing in different incarnations in different operators. It’s function has been unified under a common name (<code class="docutils literal notranslate"><span class="pre">do_xcom_push</span></code>) on <code class="docutils literal notranslate"><span class="pre">BaseOperator</span></code>. This way it is also easy to globally disable pushing results to xcom.</p>
<p>The following operators were affected:</p>
<ul class="simple">
<li><p>DatastoreExportOperator (Backwards compatible)</p></li>
<li><p>DatastoreImportOperator (Backwards compatible)</p></li>
<li><p>KubernetesPodOperator (Not backwards compatible)</p></li>
<li><p>SSHOperator (Not backwards compatible)</p></li>
<li><p>WinRMOperator (Not backwards compatible)</p></li>
<li><p>BashOperator (Not backwards compatible)</p></li>
<li><p>DockerOperator (Not backwards compatible)</p></li>
<li><p>SimpleHttpOperator (Not backwards compatible)</p></li>
</ul>
<p>See <a class="reference external" href="https://jira.apache.org/jira/browse/AIRFLOW-3249">AIRFLOW-3249</a> for details</p>
</section>
<section id="airflow-operators-latest-only-operator-latestonlyoperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.operators.latest_only_operator.LatestOnlyOperator</span></code><a class="headerlink" href="#airflow-operators-latest-only-operator-latestonlyoperator" title="Link to this heading">¶</a></h5>
<p>In previous versions, the <code class="docutils literal notranslate"><span class="pre">LatestOnlyOperator</span></code> forcefully skipped all (direct and indirect) downstream tasks on its own. From this version on the operator will <strong>only skip direct downstream</strong> tasks and the scheduler will handle skipping any further downstream dependencies.</p>
<p>No change is needed if only the default trigger rule <code class="docutils literal notranslate"><span class="pre">all_success</span></code> is being used.</p>
<p>If the DAG relies on tasks with other trigger rules (i.e. <code class="docutils literal notranslate"><span class="pre">all_done</span></code>) being skipped by the <code class="docutils literal notranslate"><span class="pre">LatestOnlyOperator</span></code>, adjustments to the DAG need to be made to accommodate the change in behaviour, i.e. with additional edges from the <code class="docutils literal notranslate"><span class="pre">LatestOnlyOperator</span></code>.</p>
<p>The goal of this change is to achieve a more consistent and configurable cascading behaviour based on the <code class="docutils literal notranslate"><span class="pre">BaseBranchOperator</span></code> (see <a class="reference external" href="https://jira.apache.org/jira/browse/AIRFLOW-2923">AIRFLOW-2923</a> and <a class="reference external" href="https://jira.apache.org/jira/browse/AIRFLOW-1784">AIRFLOW-1784</a>).</p>
</section>
</section>
<section id="changes-to-the-core-python-api">
<h4>Changes to the core Python API<a class="headerlink" href="#changes-to-the-core-python-api" title="Link to this heading">¶</a></h4>
<p>We strive to ensure that there are no changes that may affect the end user, and your Python files, but this
release may contain changes that will require changes to your plugins, DAG File or other integration.</p>
<p>Only changes unique to this provider are described here. You should still pay attention to the changes that
have been made to the core (including core operators) as they can affect the integration behavior
of this provider.</p>
<p>This section describes the changes that have been made, and what you need to do to update your Python files.</p>
<section id="removed-sub-package-imports-from-airflow-init-py">
<h5>Removed sub-package imports from <code class="docutils literal notranslate"><span class="pre">airflow/__init__.py</span></code><a class="headerlink" href="#removed-sub-package-imports-from-airflow-init-py" title="Link to this heading">¶</a></h5>
<p>The imports <code class="docutils literal notranslate"><span class="pre">LoggingMixin</span></code>, <code class="docutils literal notranslate"><span class="pre">conf</span></code>, and <code class="docutils literal notranslate"><span class="pre">AirflowException</span></code> have been removed from <code class="docutils literal notranslate"><span class="pre">airflow/__init__.py</span></code>.
All implicit references of these objects will no longer be valid. To migrate, all usages of each old path must be
replaced with its corresponding new path.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Old Path (Implicit Import)</p></th>
<th class="head"><p>New Path (Explicit Import)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.LoggingMixin</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.utils.log.logging_mixin.LoggingMixin</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.conf</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.configuration.conf</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.AirflowException</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.exceptions.AirflowException</span></code></p></td>
</tr>
</tbody>
</table>
</section>
<section id="variables-removed-from-the-task-instance-context">
<h5>Variables removed from the task instance context<a class="headerlink" href="#variables-removed-from-the-task-instance-context" title="Link to this heading">¶</a></h5>
<p>The following variables were removed from the task instance context:</p>
<ul class="simple">
<li><p>end_date</p></li>
<li><p>latest_date</p></li>
<li><p>tables</p></li>
</ul>
</section>
<section id="airflow-contrib-utils-weekday">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.contrib.utils.Weekday</span></code><a class="headerlink" href="#airflow-contrib-utils-weekday" title="Link to this heading">¶</a></h5>
<p>Formerly the core code was maintained by the original creators - Airbnb. The code that was in the contrib
package was supported by the community. The project was passed to the Apache community and currently the
entire code is maintained by the community, so now the division has no justification, and it is only due
to historical reasons.</p>
<p>To clean up, <code class="docutils literal notranslate"><span class="pre">Weekday</span></code> enum has been moved from <code class="docutils literal notranslate"><span class="pre">airflow.contrib.utils</span></code> into <code class="docutils literal notranslate"><span class="pre">airflow.utils</span></code> module.</p>
</section>
<section id="airflow-models-connection-connection">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.models.connection.Connection</span></code><a class="headerlink" href="#airflow-models-connection-connection" title="Link to this heading">¶</a></h5>
<p>The connection module has new deprecated methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Connection.parse_from_uri</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Connection.log_info</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Connection.debug_info</span></code></p></li>
</ul>
<p>and one deprecated function:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">parse_netloc_to_hostname</span></code></p></li>
</ul>
<p>Previously, users could create a connection object in two ways</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conn_1</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">conn_id</span><span class="o">=</span><span class="s2">&quot;conn_a&quot;</span><span class="p">,</span> <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;mysql://AAA/&quot;</span><span class="p">)</span>
<span class="c1"># or</span>
<span class="n">conn_2</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">conn_id</span><span class="o">=</span><span class="s2">&quot;conn_a&quot;</span><span class="p">)</span>
<span class="n">conn_2</span><span class="o">.</span><span class="n">parse_uri</span><span class="p">(</span><span class="n">uri</span><span class="o">=</span><span class="s2">&quot;mysql://AAA/&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now the second way is not supported.</p>
<p><code class="docutils literal notranslate"><span class="pre">Connection.log_info</span></code> and <code class="docutils literal notranslate"><span class="pre">Connection.debug_info</span></code> method have been deprecated. Read each Connection field individually or use the
default representation (<code class="docutils literal notranslate"><span class="pre">__repr__</span></code>).</p>
<p>The old method is still works but can be abandoned at any time. The changes are intended to delete method
that are rarely used.</p>
</section>
<section id="airflow-models-dag-dag-create-dagrun">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.models.dag.DAG.create_dagrun</span></code><a class="headerlink" href="#airflow-models-dag-dag-create-dagrun" title="Link to this heading">¶</a></h5>
<p>DAG.create_dagrun accepts run_type and does not require run_id
This change is caused by adding <code class="docutils literal notranslate"><span class="pre">run_type</span></code> column to <code class="docutils literal notranslate"><span class="pre">DagRun</span></code>.</p>
<p>Previous signature:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">create_dagrun</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">run_id</span><span class="p">,</span>
    <span class="n">state</span><span class="p">,</span>
    <span class="n">execution_date</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">start_date</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">external_trigger</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">conf</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">session</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="p">):</span> <span class="o">...</span>
</pre></div>
</div>
<p>current:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">create_dagrun</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">state</span><span class="p">,</span>
    <span class="n">execution_date</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">run_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">start_date</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">external_trigger</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">conf</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">run_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">session</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="p">):</span> <span class="o">...</span>
</pre></div>
</div>
<p>If user provides <code class="docutils literal notranslate"><span class="pre">run_id</span></code> then the <code class="docutils literal notranslate"><span class="pre">run_type</span></code> will be derived from it by checking prefix, allowed types
: <code class="docutils literal notranslate"><span class="pre">manual</span></code>, <code class="docutils literal notranslate"><span class="pre">scheduled</span></code>, <code class="docutils literal notranslate"><span class="pre">backfill</span></code> (defined by <code class="docutils literal notranslate"><span class="pre">airflow.utils.types.DagRunType</span></code>).</p>
<p>If user provides <code class="docutils literal notranslate"><span class="pre">run_type</span></code> and <code class="docutils literal notranslate"><span class="pre">execution_date</span></code> then <code class="docutils literal notranslate"><span class="pre">run_id</span></code> is constructed as
<code class="docutils literal notranslate"><span class="pre">{run_type}__{execution_data.isoformat()}</span></code>.</p>
<p>Airflow should construct dagruns using <code class="docutils literal notranslate"><span class="pre">run_type</span></code> and <code class="docutils literal notranslate"><span class="pre">execution_date</span></code>, creation using
<code class="docutils literal notranslate"><span class="pre">run_id</span></code> is preserved for user actions.</p>
</section>
<section id="airflow-models-dagrun-dagrun">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.models.dagrun.DagRun</span></code><a class="headerlink" href="#airflow-models-dagrun-dagrun" title="Link to this heading">¶</a></h5>
<p>Use DagRunType.SCHEDULED.value instead of DagRun.ID_PREFIX</p>
<p>All the run_id prefixes for different kind of DagRuns have been grouped into a single
enum in <code class="docutils literal notranslate"><span class="pre">airflow.utils.types.DagRunType</span></code>.</p>
<p>Previously, there were defined in various places, example as <code class="docutils literal notranslate"><span class="pre">ID_PREFIX</span></code> class variables for
<code class="docutils literal notranslate"><span class="pre">DagRun</span></code>, <code class="docutils literal notranslate"><span class="pre">BackfillJob</span></code> and in <code class="docutils literal notranslate"><span class="pre">_trigger_dag</span></code> function.</p>
<p>Was:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt; from airflow.models.dagrun import DagRun</span>
<span class="go">&gt;&gt; DagRun.ID_PREFIX</span>
<span class="go">scheduled__</span>
</pre></div>
</div>
<p>Replaced by:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt; from airflow.utils.types import DagRunType</span>
<span class="go">&gt;&gt; DagRunType.SCHEDULED.value</span>
<span class="go">scheduled</span>
</pre></div>
</div>
</section>
<section id="airflow-utils-file-temporarydirectory">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.utils.file.TemporaryDirectory</span></code><a class="headerlink" href="#airflow-utils-file-temporarydirectory" title="Link to this heading">¶</a></h5>
<p>We remove <code class="docutils literal notranslate"><span class="pre">airflow.utils.file.TemporaryDirectory</span></code>
Since Airflow dropped support for Python &lt; 3.5 there’s no need to have this custom
implementation of <code class="docutils literal notranslate"><span class="pre">TemporaryDirectory</span></code> because the same functionality is provided by
<code class="docutils literal notranslate"><span class="pre">tempfile.TemporaryDirectory</span></code>.</p>
<p>Now users instead of <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">from</span> <span class="pre">airflow.utils.files</span> <span class="pre">import</span> <span class="pre">TemporaryDirectory</span></code> should
do <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">tempfile</span> <span class="pre">import</span> <span class="pre">TemporaryDirectory</span></code>. Both context managers provide the same
interface, thus no additional changes should be required.</p>
</section>
<section id="airflow-airflowmacroplugin">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.AirflowMacroPlugin</span></code><a class="headerlink" href="#airflow-airflowmacroplugin" title="Link to this heading">¶</a></h5>
<p>We removed <code class="docutils literal notranslate"><span class="pre">airflow.AirflowMacroPlugin</span></code> class. The class was there in airflow package but it has not been used (apparently since 2015).
It has been removed.</p>
</section>
<section id="airflow-settings-context-manager-dag">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.settings.CONTEXT_MANAGER_DAG</span></code><a class="headerlink" href="#airflow-settings-context-manager-dag" title="Link to this heading">¶</a></h5>
<p>CONTEXT_MANAGER_DAG was removed from settings. Its role has been taken by <code class="docutils literal notranslate"><span class="pre">DagContext</span></code> in
‘airflow.models.dag’. One of the reasons was that settings should be rather static than store
dynamic context from the DAG, but the main one is that moving the context out of settings allowed to
untangle cyclic imports between DAG, BaseOperator, SerializedDAG, SerializedBaseOperator which was
part of AIRFLOW-6010.</p>
</section>
<section id="airflow-utils-log-logging-mixin-redirect-stderr">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.utils.log.logging_mixin.redirect_stderr</span></code><a class="headerlink" href="#airflow-utils-log-logging-mixin-redirect-stderr" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-utils-log-logging-mixin-redirect-stdout">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.utils.log.logging_mixin.redirect_stdout</span></code><a class="headerlink" href="#airflow-utils-log-logging-mixin-redirect-stdout" title="Link to this heading">¶</a></h5>
<p>Function <code class="docutils literal notranslate"><span class="pre">redirect_stderr</span></code> and <code class="docutils literal notranslate"><span class="pre">redirect_stdout</span></code> from <code class="docutils literal notranslate"><span class="pre">airflow.utils.log.logging_mixin</span></code> module has
been deleted because it can be easily replaced by the standard library.
The functions of the standard library are more flexible and can be used in larger cases.</p>
<p>The code below</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">airflow.utils.log.logging_mixin</span><span class="w"> </span><span class="kn">import</span> <span class="n">redirect_stderr</span><span class="p">,</span> <span class="n">redirect_stdout</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;custom-logger&quot;</span><span class="p">)</span>
<span class="k">with</span> <span class="n">redirect_stdout</span><span class="p">(</span><span class="n">logger</span><span class="p">,</span> <span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">),</span> <span class="n">redirect_stderr</span><span class="p">(</span><span class="n">logger</span><span class="p">,</span> <span class="n">logging</span><span class="o">.</span><span class="n">WARN</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;I love Airflow&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>can be replaced by the following code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">contextlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">redirect_stdout</span><span class="p">,</span> <span class="n">redirect_stderr</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">airflow.utils.log.logging_mixin</span><span class="w"> </span><span class="kn">import</span> <span class="n">StreamLogWriter</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;custom-logger&quot;</span><span class="p">)</span>

<span class="k">with</span> <span class="p">(</span>
    <span class="n">redirect_stdout</span><span class="p">(</span><span class="n">StreamLogWriter</span><span class="p">(</span><span class="n">logger</span><span class="p">,</span> <span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)),</span>
    <span class="n">redirect_stderr</span><span class="p">(</span><span class="n">StreamLogWriter</span><span class="p">(</span><span class="n">logger</span><span class="p">,</span> <span class="n">logging</span><span class="o">.</span><span class="n">WARN</span><span class="p">)),</span>
<span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;I Love Airflow&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="airflow-models-baseoperator-baseoperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.models.baseoperator.BaseOperator</span></code><a class="headerlink" href="#airflow-models-baseoperator-baseoperator" title="Link to this heading">¶</a></h5>
<p>Now, additional arguments passed to BaseOperator cause an exception. Previous versions of Airflow took additional arguments and displayed a message on the console. When the
message was not noticed by users, it caused very difficult to detect errors.</p>
<p>In order to restore the previous behavior, you must set an <code class="docutils literal notranslate"><span class="pre">True</span></code> in  the <code class="docutils literal notranslate"><span class="pre">allow_illegal_arguments</span></code>
option of section <code class="docutils literal notranslate"><span class="pre">[operators]</span></code> in the <code class="docutils literal notranslate"><span class="pre">airflow.cfg</span></code> file. In the future it is possible to completely
delete this option.</p>
</section>
<section id="airflow-models-dagbag-dagbag">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.models.dagbag.DagBag</span></code><a class="headerlink" href="#airflow-models-dagbag-dagbag" title="Link to this heading">¶</a></h5>
<p>Passing <code class="docutils literal notranslate"><span class="pre">store_serialized_dags</span></code> argument to DagBag.<strong>init</strong> and accessing <code class="docutils literal notranslate"><span class="pre">DagBag.store_serialized_dags</span></code> property
are deprecated and will be removed in future versions.</p>
<p><strong>Previous signature</strong>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="n">dag_folder</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">include_examples</span><span class="o">=</span><span class="n">conf</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="s2">&quot;core&quot;</span><span class="p">,</span> <span class="s2">&quot;LOAD_EXAMPLES&quot;</span><span class="p">),</span>
    <span class="n">safe_mode</span><span class="o">=</span><span class="n">conf</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="s2">&quot;core&quot;</span><span class="p">,</span> <span class="s2">&quot;DAG_DISCOVERY_SAFE_MODE&quot;</span><span class="p">),</span>
    <span class="n">store_serialized_dags</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">):</span> <span class="o">...</span>
</pre></div>
</div>
<p><strong>current</strong>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="n">dag_folder</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">include_examples</span><span class="o">=</span><span class="n">conf</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="s2">&quot;core&quot;</span><span class="p">,</span> <span class="s2">&quot;LOAD_EXAMPLES&quot;</span><span class="p">),</span>
    <span class="n">safe_mode</span><span class="o">=</span><span class="n">conf</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="s2">&quot;core&quot;</span><span class="p">,</span> <span class="s2">&quot;DAG_DISCOVERY_SAFE_MODE&quot;</span><span class="p">),</span>
    <span class="n">read_dags_from_db</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">):</span> <span class="o">...</span>
</pre></div>
</div>
<p>If you were using positional arguments, it requires no change but if you were using keyword
arguments, please change <code class="docutils literal notranslate"><span class="pre">store_serialized_dags</span></code> to <code class="docutils literal notranslate"><span class="pre">read_dags_from_db</span></code>.</p>
<p>Similarly, if you were using <code class="docutils literal notranslate"><span class="pre">DagBag().store_serialized_dags</span></code> property, change it to
<code class="docutils literal notranslate"><span class="pre">DagBag().read_dags_from_db</span></code>.</p>
</section>
</section>
<section id="changes-in-google-provider-package">
<h4>Changes in <code class="docutils literal notranslate"><span class="pre">google</span></code> provider package<a class="headerlink" href="#changes-in-google-provider-package" title="Link to this heading">¶</a></h4>
<p>We strive to ensure that there are no changes that may affect the end user and your Python files, but this
release may contain changes that will require changes to your configuration, DAG Files or other integration
e.g. custom operators.</p>
<p>Only changes unique to this provider are described here. You should still pay attention to the changes that
have been made to the core (including core operators) as they can affect the integration behavior
of this provider.</p>
<p>This section describes the changes that have been made, and what you need to do to update your if
you use operators or hooks which integrate with Google services (including Google Cloud - GCP).</p>
<section id="direct-impersonation-added-to-operators-communicating-with-google-services">
<h5>Direct impersonation added to operators communicating with Google services<a class="headerlink" href="#direct-impersonation-added-to-operators-communicating-with-google-services" title="Link to this heading">¶</a></h5>
<p><a class="reference external" href="https://cloud.google.com/iam/docs/understanding-service-accounts#directly_impersonating_a_service_account">Directly impersonating a service account</a>
has been made possible for operators communicating with Google services via new argument called <code class="docutils literal notranslate"><span class="pre">impersonation_chain</span></code>
(<code class="docutils literal notranslate"><span class="pre">google_impersonation_chain</span></code> in case of operators that also communicate with services of other cloud providers).
As a result, GCSToS3Operator no longer derivatives from GCSListObjectsOperator.</p>
</section>
<section id="normalize-gcp-conn-id-for-google-cloud">
<h5>Normalize gcp_conn_id for Google Cloud<a class="headerlink" href="#normalize-gcp-conn-id-for-google-cloud" title="Link to this heading">¶</a></h5>
<p>Previously not all hooks and operators related to Google Cloud use
<code class="docutils literal notranslate"><span class="pre">gcp_conn_id</span></code> as parameter for GCP connection. There is currently one parameter
which apply to most services. Parameters like <code class="docutils literal notranslate"><span class="pre">datastore_conn_id</span></code>, <code class="docutils literal notranslate"><span class="pre">bigquery_conn_id</span></code>,
<code class="docutils literal notranslate"><span class="pre">google_cloud_storage_conn_id</span></code> and similar have been deprecated. Operators that require two connections are not changed.</p>
<p>Following components were affected by normalization:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.datastore.DatastoreHook</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.gcs.GoogleCloudStorageHook</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigquery.BigQueryCheckOperator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigquery.BigQueryValueCheckOperator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigquery.BigQueryIntervalCheckOperator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigquery.BigQueryGetDataOperator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigquery.BigQueryOperator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigquery.BigQueryDeleteDatasetOperator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigquery.BigQueryCreateEmptyDatasetOperator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigquery.BigQueryTableDeleteOperator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.gcs.GoogleCloudStorageCreateBucketOperator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.gcs.GoogleCloudStorageListOperator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.gcs.GoogleCloudStorageDownloadOperator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.gcs.GoogleCloudStorageDeleteOperator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.gcs.GoogleCloudStorageBucketCreateAclEntryOperator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.gcs.GoogleCloudStorageObjectCreateAclEntryOperator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.operators.sql_to_gcs.BaseSQLToGoogleCloudStorageOperator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.operators.adls_to_gcs.AdlsToGoogleCloudStorageOperator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.operators.gcs_to_s3.GoogleCloudStorageToS3Operator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.operators.gcs_to_gcs.GoogleCloudStorageToGoogleCloudStorageOperator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.operators.bigquery_to_gcs.BigQueryToCloudStorageOperator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.operators.local_to_gcs.FileToGoogleCloudStorageOperator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.operators.cassandra_to_gcs.CassandraToGoogleCloudStorageOperator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.operators.bigquery_to_bigquery.BigQueryToBigQueryOperator</span></code></p></li>
</ul>
</section>
<section id="changes-to-import-paths-and-names-of-gcp-operators-and-hooks">
<h5>Changes to import paths and names of GCP operators and hooks<a class="headerlink" href="#changes-to-import-paths-and-names-of-gcp-operators-and-hooks" title="Link to this heading">¶</a></h5>
<p>According to <a class="reference external" href="https://cwiki.apache.org/confluence/display/AIRFLOW/AIP-21%3A+Changes+in+import+paths">AIP-21</a>
operators related to Google Cloud has been moved from contrib to core.
The following table shows changes in import paths.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Old path</p></th>
<th class="head"><p>New path</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.hooks.bigquery_hook.BigQueryHook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.hooks.datastore_hook.DatastoreHook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.datastore.DatastoreHook</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.hooks.gcp_bigtable_hook.BigtableHook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigtable.BigtableHook</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.hooks.gcp_cloud_build_hook.CloudBuildHook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.cloud_build.CloudBuildHook</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.hooks.gcp_container_hook.GKEClusterHook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.kubernetes_engine.GKEHook</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.hooks.gcp_compute_hook.GceHook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.compute.ComputeEngineHook</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.hooks.gcp_dataflow_hook.DataFlowHook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.dataflow.DataflowHook</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.hooks.gcp_dataproc_hook.DataProcHook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.dataproc.DataprocHook</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.hooks.gcp_dlp_hook.CloudDLPHook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.dlp.CloudDLPHook</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.hooks.gcp_function_hook.GcfHook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.functions.CloudFunctionsHook</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.hooks.gcp_kms_hook.GoogleCloudKMSHook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.kms.CloudKMSHook</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.hooks.gcp_mlengine_hook.MLEngineHook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.mlengine.MLEngineHook</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.hooks.gcp_natural_language_hook.CloudNaturalLanguageHook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.natural_language.CloudNaturalLanguageHook</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.hooks.gcp_pubsub_hook.PubSubHook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.pubsub.PubSubHook</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.hooks.gcp_speech_to_text_hook.GCPSpeechToTextHook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.speech_to_text.CloudSpeechToTextHook</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.hooks.gcp_spanner_hook.CloudSpannerHook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.spanner.SpannerHook</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.hooks.gcp_sql_hook.CloudSqlDatabaseHook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.cloud_sql.CloudSQLDatabaseHook</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.hooks.gcp_sql_hook.CloudSqlHook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.cloud_sql.CloudSQLHook</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.hooks.gcp_tasks_hook.CloudTasksHook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.tasks.CloudTasksHook</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.hooks.gcp_text_to_speech_hook.GCPTextToSpeechHook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.text_to_speech.CloudTextToSpeechHook</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.hooks.gcp_transfer_hook.GCPTransferServiceHook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.cloud_storage_transfer_service.CloudDataTransferServiceHook</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.hooks.gcp_translate_hook.CloudTranslateHook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.translate.CloudTranslateHook</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.hooks.gcp_video_intelligence_hook.CloudVideoIntelligenceHook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.video_intelligence.CloudVideoIntelligenceHook</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.hooks.gcp_vision_hook.CloudVisionHook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.vision.CloudVisionHook</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.gcs.GCSHook</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.adls_to_gcs.AdlsToGoogleCloudStorageOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.operators.adls_to_gcs.AdlsToGoogleCloudStorageOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.bigquery_check_operator.BigQueryCheckOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigquery.BigQueryCheckOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.bigquery_check_operator.BigQueryIntervalCheckOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigquery.BigQueryIntervalCheckOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.bigquery_check_operator.BigQueryValueCheckOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigquery.BigQueryValueCheckOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.bigquery_get_data.BigQueryGetDataOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigquery.BigQueryGetDataOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.bigquery_operator.BigQueryCreateEmptyDatasetOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigquery.BigQueryCreateEmptyDatasetOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.bigquery_operator.BigQueryCreateEmptyTableOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigquery.BigQueryCreateEmptyTableOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.bigquery_operator.BigQueryCreateExternalTableOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigquery.BigQueryCreateExternalTableOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.bigquery_operator.BigQueryDeleteDatasetOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigquery.BigQueryDeleteDatasetOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.bigquery_operator.BigQueryOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigquery.BigQueryExecuteQueryOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.bigquery_table_delete_operator.BigQueryTableDeleteOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigquery.BigQueryDeleteTableOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.bigquery_to_bigquery.BigQueryToBigQueryOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.operators.bigquery_to_bigquery.BigQueryToBigQueryOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.bigquery_to_gcs.BigQueryToCloudStorageOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.operators.bigquery_to_gcs.BigQueryToCloudStorageOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.bigquery_to_mysql_operator.BigQueryToMySqlOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.operators.bigquery_to_mysql.BigQueryToMySqlOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.dataflow_operator.DataFlowJavaOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataflow.DataFlowJavaOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.dataflow_operator.DataFlowPythonOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataflow.DataFlowPythonOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.dataflow_operator.DataflowTemplateOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataflow.DataflowTemplateOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.dataproc_operator.DataProcHadoopOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocSubmitHadoopJobOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.dataproc_operator.DataProcHiveOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocSubmitHiveJobOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.dataproc_operator.DataProcJobBaseOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocJobBaseOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.dataproc_operator.DataProcPigOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocSubmitPigJobOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.dataproc_operator.DataProcPySparkOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocSubmitPySparkJobOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.dataproc_operator.DataProcSparkOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocSubmitSparkJobOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.dataproc_operator.DataProcSparkSqlOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocSubmitSparkSqlJobOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.dataproc_operator.DataprocClusterCreateOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocCreateClusterOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.dataproc_operator.DataprocClusterDeleteOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocDeleteClusterOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.dataproc_operator.DataprocClusterScaleOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocScaleClusterOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.dataproc_operator.DataprocOperationBaseOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocOperationBaseOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.dataproc_operator.DataprocWorkflowTemplateInstantiateInlineOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocInstantiateInlineWorkflowTemplateOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.dataproc_operator.DataprocWorkflowTemplateInstantiateOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocInstantiateWorkflowTemplateOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.datastore_export_operator.DatastoreExportOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.datastore.DatastoreExportOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.datastore_import_operator.DatastoreImportOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.datastore.DatastoreImportOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.file_to_gcs.FileToGoogleCloudStorageOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.transfers.local_to_gcs.FileToGoogleCloudStorageOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_bigtable_operator.BigtableClusterUpdateOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigtable.BigtableUpdateClusterOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_bigtable_operator.BigtableInstanceCreateOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigtable.BigtableCreateInstanceOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_bigtable_operator.BigtableInstanceDeleteOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigtable.BigtableDeleteInstanceOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_bigtable_operator.BigtableTableCreateOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigtable.BigtableCreateTableOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_bigtable_operator.BigtableTableDeleteOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigtable.BigtableDeleteTableOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_bigtable_operator.BigtableTableWaitForReplicationSensor</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.sensors.bigtable.BigtableTableReplicationCompletedSensor</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_cloud_build_operator.CloudBuildCreateBuildOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.cloud_build.CloudBuildCreateBuildOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_compute_operator.GceBaseOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.compute.GceBaseOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_compute_operator.GceInstanceGroupManagerUpdateTemplateOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.compute.GceInstanceGroupManagerUpdateTemplateOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_compute_operator.GceInstanceStartOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.compute.GceInstanceStartOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_compute_operator.GceInstanceStopOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.compute.GceInstanceStopOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_compute_operator.GceInstanceTemplateCopyOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.compute.GceInstanceTemplateCopyOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_compute_operator.GceSetMachineTypeOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.compute.GceSetMachineTypeOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_container_operator.GKEClusterCreateOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.kubernetes_engine.GKECreateClusterOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_container_operator.GKEClusterDeleteOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.kubernetes_engine.GKEDeleteClusterOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_container_operator.GKEPodOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.kubernetes_engine.GKEStartPodOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_dlp_operator.CloudDLPCancelDLPJobOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dlp.CloudDLPCancelDLPJobOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_dlp_operator.CloudDLPCreateDLPJobOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dlp.CloudDLPCreateDLPJobOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_dlp_operator.CloudDLPCreateDeidentifyTemplateOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dlp.CloudDLPCreateDeidentifyTemplateOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_dlp_operator.CloudDLPCreateInspectTemplateOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dlp.CloudDLPCreateInspectTemplateOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_dlp_operator.CloudDLPCreateJobTriggerOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dlp.CloudDLPCreateJobTriggerOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_dlp_operator.CloudDLPCreateStoredInfoTypeOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dlp.CloudDLPCreateStoredInfoTypeOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_dlp_operator.CloudDLPDeidentifyContentOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dlp.CloudDLPDeidentifyContentOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_dlp_operator.CloudDLPDeleteDeidentifyTemplateOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dlp.CloudDLPDeleteDeidentifyTemplateOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_dlp_operator.CloudDLPDeleteDlpJobOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dlp.CloudDLPDeleteDLPJobOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_dlp_operator.CloudDLPDeleteInspectTemplateOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dlp.CloudDLPDeleteInspectTemplateOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_dlp_operator.CloudDLPDeleteJobTriggerOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dlp.CloudDLPDeleteJobTriggerOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_dlp_operator.CloudDLPDeleteStoredInfoTypeOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dlp.CloudDLPDeleteStoredInfoTypeOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_dlp_operator.CloudDLPGetDeidentifyTemplateOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dlp.CloudDLPGetDeidentifyTemplateOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_dlp_operator.CloudDLPGetDlpJobOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dlp.CloudDLPGetDLPJobOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_dlp_operator.CloudDLPGetInspectTemplateOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dlp.CloudDLPGetInspectTemplateOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_dlp_operator.CloudDLPGetJobTripperOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dlp.CloudDLPGetJobTriggerOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_dlp_operator.CloudDLPGetStoredInfoTypeOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dlp.CloudDLPGetStoredInfoTypeOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_dlp_operator.CloudDLPInspectContentOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dlp.CloudDLPInspectContentOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_dlp_operator.CloudDLPListDeidentifyTemplatesOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dlp.CloudDLPListDeidentifyTemplatesOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_dlp_operator.CloudDLPListDlpJobsOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dlp.CloudDLPListDLPJobsOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_dlp_operator.CloudDLPListInfoTypesOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dlp.CloudDLPListInfoTypesOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_dlp_operator.CloudDLPListInspectTemplatesOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dlp.CloudDLPListInspectTemplatesOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_dlp_operator.CloudDLPListJobTriggersOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dlp.CloudDLPListJobTriggersOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_dlp_operator.CloudDLPListStoredInfoTypesOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dlp.CloudDLPListStoredInfoTypesOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_dlp_operator.CloudDLPRedactImageOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dlp.CloudDLPRedactImageOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_dlp_operator.CloudDLPReidentifyContentOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dlp.CloudDLPReidentifyContentOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_dlp_operator.CloudDLPUpdateDeidentifyTemplateOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dlp.CloudDLPUpdateDeidentifyTemplateOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_dlp_operator.CloudDLPUpdateInspectTemplateOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dlp.CloudDLPUpdateInspectTemplateOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_dlp_operator.CloudDLPUpdateJobTriggerOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dlp.CloudDLPUpdateJobTriggerOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_dlp_operator.CloudDLPUpdateStoredInfoTypeOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dlp.CloudDLPUpdateStoredInfoTypeOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_function_operator.GcfFunctionDeleteOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.functions.GcfFunctionDeleteOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_function_operator.GcfFunctionDeployOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.functions.GcfFunctionDeployOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_natural_language_operator.CloudNaturalLanguageAnalyzeEntitiesOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.natural_language.CloudNaturalLanguageAnalyzeEntitiesOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_natural_language_operator.CloudNaturalLanguageAnalyzeEntitySentimentOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.natural_language.CloudNaturalLanguageAnalyzeEntitySentimentOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_natural_language_operator.CloudNaturalLanguageAnalyzeSentimentOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.natural_language.CloudNaturalLanguageAnalyzeSentimentOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_natural_language_operator.CloudNaturalLanguageClassifyTextOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.natural_language.CloudNaturalLanguageClassifyTextOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_spanner_operator.CloudSpannerInstanceDatabaseDeleteOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.spanner.SpannerDeleteDatabaseInstanceOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_spanner_operator.CloudSpannerInstanceDatabaseDeployOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.spanner.SpannerDeployDatabaseInstanceOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_spanner_operator.CloudSpannerInstanceDatabaseQueryOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.spanner.SpannerQueryDatabaseInstanceOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_spanner_operator.CloudSpannerInstanceDatabaseUpdateOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.spanner.SpannerUpdateDatabaseInstanceOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_spanner_operator.CloudSpannerInstanceDeleteOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.spanner.SpannerDeleteInstanceOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_spanner_operator.CloudSpannerInstanceDeployOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.spanner.SpannerDeployInstanceOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_speech_to_text_operator.GcpSpeechToTextRecognizeSpeechOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.speech_to_text.CloudSpeechToTextRecognizeSpeechOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_text_to_speech_operator.GcpTextToSpeechSynthesizeOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.text_to_speech.CloudTextToSpeechSynthesizeOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_transfer_operator.GcpTransferServiceJobCreateOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.cloud_storage_transfer_service.CloudDataTransferServiceCreateJobOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_transfer_operator.GcpTransferServiceJobDeleteOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.cloud_storage_transfer_service.CloudDataTransferServiceDeleteJobOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_transfer_operator.GcpTransferServiceJobUpdateOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.cloud_storage_transfer_service.CloudDataTransferServiceUpdateJobOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_transfer_operator.GcpTransferServiceOperationCancelOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.cloud_storage_transfer_service.CloudDataTransferServiceCancelOperationOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_transfer_operator.GcpTransferServiceOperationGetOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.cloud_storage_transfer_service.CloudDataTransferServiceGetOperationOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_transfer_operator.GcpTransferServiceOperationPauseOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.cloud_storage_transfer_service.CloudDataTransferServicePauseOperationOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_transfer_operator.GcpTransferServiceOperationResumeOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.cloud_storage_transfer_service.CloudDataTransferServiceResumeOperationOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_transfer_operator.GcpTransferServiceOperationsListOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.cloud_storage_transfer_service.CloudDataTransferServiceListOperationsOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_transfer_operator.GoogleCloudStorageToGoogleCloudStorageTransferOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.cloud_storage_transfer_service.CloudDataTransferServiceGCSToGCSOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_translate_operator.CloudTranslateTextOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.translate.CloudTranslateTextOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_translate_speech_operator.GcpTranslateSpeechOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.translate_speech.GcpTranslateSpeechOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_video_intelligence_operator.CloudVideoIntelligenceDetectVideoExplicitContentOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.video_intelligence.CloudVideoIntelligenceDetectVideoExplicitContentOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_video_intelligence_operator.CloudVideoIntelligenceDetectVideoLabelsOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.video_intelligence.CloudVideoIntelligenceDetectVideoLabelsOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_video_intelligence_operator.CloudVideoIntelligenceDetectVideoShotsOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.video_intelligence.CloudVideoIntelligenceDetectVideoShotsOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_vision_operator.CloudVisionAddProductToProductSetOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.vision.CloudVisionAddProductToProductSetOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_vision_operator.CloudVisionAnnotateImageOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.vision.CloudVisionImageAnnotateOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_vision_operator.CloudVisionDetectDocumentTextOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.vision.CloudVisionTextDetectOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_vision_operator.CloudVisionDetectImageLabelsOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.vision.CloudVisionDetectImageLabelsOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_vision_operator.CloudVisionDetectImageSafeSearchOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.vision.CloudVisionDetectImageSafeSearchOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_vision_operator.CloudVisionDetectTextOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.vision.CloudVisionDetectTextOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_vision_operator.CloudVisionProductCreateOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.vision.CloudVisionCreateProductOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_vision_operator.CloudVisionProductDeleteOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.vision.CloudVisionDeleteProductOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_vision_operator.CloudVisionProductGetOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.vision.CloudVisionGetProductOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_vision_operator.CloudVisionProductSetCreateOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.vision.CloudVisionCreateProductSetOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_vision_operator.CloudVisionProductSetDeleteOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.vision.CloudVisionDeleteProductSetOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_vision_operator.CloudVisionProductSetGetOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.vision.CloudVisionGetProductSetOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_vision_operator.CloudVisionProductSetUpdateOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.vision.CloudVisionUpdateProductSetOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_vision_operator.CloudVisionProductUpdateOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.vision.CloudVisionUpdateProductOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_vision_operator.CloudVisionReferenceImageCreateOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.vision.CloudVisionCreateReferenceImageOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcp_vision_operator.CloudVisionRemoveProductFromProductSetOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.vision.CloudVisionRemoveProductFromProductSetOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcs_acl_operator.GoogleCloudStorageBucketCreateAclEntryOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.gcs.GCSBucketCreateAclEntryOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcs_acl_operator.GoogleCloudStorageObjectCreateAclEntryOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.gcs.GCSObjectCreateAclEntryOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcs_delete_operator.GoogleCloudStorageDeleteOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.gcs.GCSDeleteObjectsOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcs_download_operator.GoogleCloudStorageDownloadOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.gcs.GCSToLocalFilesystemOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcs_list_operator.GoogleCloudStorageListOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.gcs.GCSListObjectsOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcs_operator.GoogleCloudStorageCreateBucketOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.gcs.GCSCreateBucketOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcs_to_bq.GoogleCloudStorageToBigQueryOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.operators.gcs_to_bq.GoogleCloudStorageToBigQueryOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcs_to_gcs.GoogleCloudStorageToGoogleCloudStorageOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.operators.gcs_to_gcs.GoogleCloudStorageToGoogleCloudStorageOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.gcs_to_s3.GoogleCloudStorageToS3Operator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.operators.gcs_to_s3.GCSToS3Operator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.mlengine_operator.MLEngineBatchPredictionOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.mlengine.MLEngineStartBatchPredictionJobOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.mlengine_operator.MLEngineModelOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.mlengine.MLEngineManageModelOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.mlengine_operator.MLEngineTrainingOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.mlengine.MLEngineStartTrainingJobOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.mlengine_operator.MLEngineVersionOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.mlengine.MLEngineManageVersionOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.mssql_to_gcs.MsSqlToGoogleCloudStorageOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.operators.mssql_to_gcs.MsSqlToGoogleCloudStorageOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.mysql_to_gcs.MySqlToGoogleCloudStorageOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.operators.mysql_to_gcs.MySqlToGoogleCloudStorageOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.postgres_to_gcs_operator.PostgresToGoogleCloudStorageOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.operators.postgres_to_gcs.PostgresToGoogleCloudStorageOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.pubsub_operator.PubSubPublishOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.pubsub.PubSubPublishMessageOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.pubsub_operator.PubSubSubscriptionCreateOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.pubsub.PubSubCreateSubscriptionOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.pubsub_operator.PubSubSubscriptionDeleteOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.pubsub.PubSubDeleteSubscriptionOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.pubsub_operator.PubSubTopicCreateOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.pubsub.PubSubCreateTopicOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.pubsub_operator.PubSubTopicDeleteOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.pubsub.PubSubDeleteTopicOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.sql_to_gcs.BaseSQLToGoogleCloudStorageOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.operators.sql_to_gcs.BaseSQLToGoogleCloudStorageOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.sensors.bigquery_sensor.BigQueryTableSensor</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.sensors.bigquery.BigQueryTableExistenceSensor</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.sensors.gcp_transfer_sensor.GCPTransferServiceWaitForJobStatusSensor</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.sensors.cloud_storage_transfer_service.DataTransferServiceJobStatusSensor</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.sensors.gcs_sensor.GoogleCloudStorageObjectSensor</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.sensors.gcs.GCSObjectExistenceSensor</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.sensors.gcs_sensor.GoogleCloudStorageObjectUpdatedSensor</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.sensors.gcs.GCSObjectUpdateSensor</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.sensors.gcs_sensor.GoogleCloudStoragePrefixSensor</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.sensors.gcs.GCSObjectsWithPrefixExistenceSensor</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.sensors.gcs_sensor.GoogleCloudStorageUploadSessionCompleteSensor</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.sensors.gcs.GCSUploadSessionCompleteSensor</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.sensors.pubsub_sensor.PubSubPullSensor</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.sensors.pubsub.PubSubPullSensor</span></code></p></td>
</tr>
</tbody>
</table>
</section>
<section id="unify-default-conn-id-for-google-cloud">
<h5>Unify default conn_id for Google Cloud<a class="headerlink" href="#unify-default-conn-id-for-google-cloud" title="Link to this heading">¶</a></h5>
<p>Previously not all hooks and operators related to Google Cloud use
<code class="docutils literal notranslate"><span class="pre">google_cloud_default</span></code> as a default conn_id. There is currently one default
variant. Values like <code class="docutils literal notranslate"><span class="pre">google_cloud_storage_default</span></code>, <code class="docutils literal notranslate"><span class="pre">bigquery_default</span></code>,
<code class="docutils literal notranslate"><span class="pre">google_cloud_datastore_default</span></code> have been deprecated. The configuration of
existing relevant connections in the database have been preserved. To use those
deprecated GCP conn_id, you need to explicitly pass their conn_id into
operators/hooks. Otherwise, <code class="docutils literal notranslate"><span class="pre">google_cloud_default</span></code> will be used as GCP’s conn_id
by default.</p>
</section>
<section id="airflow-providers-google-cloud-hooks-dataflow-dataflowhook">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.dataflow.DataflowHook</span></code><a class="headerlink" href="#airflow-providers-google-cloud-hooks-dataflow-dataflowhook" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-providers-google-cloud-operators-dataflow-dataflowcreatejavajoboperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataflow.DataflowCreateJavaJobOperator</span></code><a class="headerlink" href="#airflow-providers-google-cloud-operators-dataflow-dataflowcreatejavajoboperator" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-providers-google-cloud-operators-dataflow-dataflowtemplatedjobstartoperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataflow.DataflowTemplatedJobStartOperator</span></code><a class="headerlink" href="#airflow-providers-google-cloud-operators-dataflow-dataflowtemplatedjobstartoperator" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-providers-google-cloud-operators-dataflow-dataflowcreatepythonjoboperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataflow.DataflowCreatePythonJobOperator</span></code><a class="headerlink" href="#airflow-providers-google-cloud-operators-dataflow-dataflowcreatepythonjoboperator" title="Link to this heading">¶</a></h5>
<p>To use project_id argument consistently across GCP hooks and operators, we did the following changes:</p>
<ul class="simple">
<li><dl class="simple">
<dt>Changed order of arguments in DataflowHook.start_python_dataflow. Uses</dt><dd><p>with positional arguments may break.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Changed order of arguments in DataflowHook.is_job_dataflow_running. Uses</dt><dd><p>with positional arguments may break.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Changed order of arguments in DataflowHook.cancel_job. Uses</dt><dd><p>with positional arguments may break.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Added optional project_id argument to DataflowCreateJavaJobOperator</dt><dd><p>constructor.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Added optional project_id argument to DataflowTemplatedJobStartOperator</dt><dd><p>constructor.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Added optional project_id argument to DataflowCreatePythonJobOperator</dt><dd><p>constructor.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="airflow-providers-google-cloud-sensors-gcs-gcsuploadsessioncompletesensor">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.sensors.gcs.GCSUploadSessionCompleteSensor</span></code><a class="headerlink" href="#airflow-providers-google-cloud-sensors-gcs-gcsuploadsessioncompletesensor" title="Link to this heading">¶</a></h5>
<p>To provide more precise control in handling of changes to objects in
underlying GCS Bucket the constructor of this sensor now has changed.</p>
<ul class="simple">
<li><p>Old Behavior: This constructor used to optionally take <code class="docutils literal notranslate"><span class="pre">previous_num_objects:</span> <span class="pre">int</span></code>.</p></li>
<li><p>New replacement constructor kwarg: <code class="docutils literal notranslate"><span class="pre">previous_objects:</span> <span class="pre">Optional[Set[str]]</span></code>.</p></li>
</ul>
<p>Most users would not specify this argument because the bucket begins empty
and the user wants to treat any files as new.</p>
<p>Example of Updating usage of this sensor:
Users who used to call:</p>
<p><code class="docutils literal notranslate"><span class="pre">GCSUploadSessionCompleteSensor(bucket='my_bucket',</span> <span class="pre">prefix='my_prefix',</span> <span class="pre">previous_num_objects=1)</span></code></p>
<p>Will now call:</p>
<p><code class="docutils literal notranslate"><span class="pre">GCSUploadSessionCompleteSensor(bucket='my_bucket',</span> <span class="pre">prefix='my_prefix',</span> <span class="pre">previous_num_objects={'.keep'})</span></code></p>
<p>Where ‘.keep’ is a single file at your prefix that the sensor should not consider new.</p>
</section>
<section id="airflow-providers-google-cloud-hooks-bigquery-bigquerybasecursor">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor</span></code><a class="headerlink" href="#airflow-providers-google-cloud-hooks-bigquery-bigquerybasecursor" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-providers-google-cloud-hooks-bigquery-bigqueryhook">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook</span></code><a class="headerlink" href="#airflow-providers-google-cloud-hooks-bigquery-bigqueryhook" title="Link to this heading">¶</a></h5>
<p>To simplify BigQuery operators (no need of <code class="docutils literal notranslate"><span class="pre">Cursor</span></code>) and standardize usage of hooks within all GCP integration methods from <code class="docutils literal notranslate"><span class="pre">BiqQueryBaseCursor</span></code>
were moved to <code class="docutils literal notranslate"><span class="pre">BigQueryHook</span></code>. Using them by from <code class="docutils literal notranslate"><span class="pre">Cursor</span></code> object is still possible due to preserved backward compatibility but they will raise <code class="docutils literal notranslate"><span class="pre">DeprecationWarning</span></code>.
The following methods were moved:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Old path</p></th>
<th class="head"><p>New path</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor.cancel_query</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook.cancel_query</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor.create_empty_dataset</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook.create_empty_dataset</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor.create_empty_table</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook.create_empty_table</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor.create_external_table</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook.create_external_table</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor.delete_dataset</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook.delete_dataset</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor.get_dataset</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook.get_dataset</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor.get_dataset_tables</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook.get_dataset_tables</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor.get_dataset_tables_list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook.get_dataset_tables_list</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor.get_datasets_list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook.get_datasets_list</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor.get_schema</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook.get_schema</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor.get_tabledata</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook.get_tabledata</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor.insert_all</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook.insert_all</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor.patch_dataset</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook.patch_dataset</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor.patch_table</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook.patch_table</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor.poll_job_complete</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook.poll_job_complete</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor.run_copy</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook.run_copy</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor.run_extract</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook.run_extract</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor.run_grant_dataset_view_access</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook.run_grant_dataset_view_access</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor.run_load</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook.run_load</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor.run_query</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook.run_query</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor.run_table_delete</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook.run_table_delete</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor.run_table_upsert</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook.run_table_upsert</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor.run_with_configuration</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook.run_with_configuration</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor.update_dataset</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook.update_dataset</span></code></p></td>
</tr>
</tbody>
</table>
</section>
<section id="id208">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor</span></code><a class="headerlink" href="#id208" title="Link to this heading">¶</a></h5>
<p>Since BigQuery is the part of the GCP it was possible to simplify the code by handling the exceptions
by usage of the <code class="docutils literal notranslate"><span class="pre">airflow.providers.google.common.hooks.base.GoogleBaseHook.catch_http_exception</span></code> decorator however it changes
exceptions raised by the following methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor.run_table_delete</span></code> raises <code class="docutils literal notranslate"><span class="pre">AirflowException</span></code> instead of <code class="docutils literal notranslate"><span class="pre">Exception</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor.create_empty_dataset</span></code> raises <code class="docutils literal notranslate"><span class="pre">AirflowException</span></code> instead of <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor.get_dataset</span></code> raises <code class="docutils literal notranslate"><span class="pre">AirflowException</span></code> instead of <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>.</p></li>
</ul>
</section>
<section id="airflow-providers-google-cloud-operators-bigquery-bigquerycreateemptytableoperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigquery.BigQueryCreateEmptyTableOperator</span></code><a class="headerlink" href="#airflow-providers-google-cloud-operators-bigquery-bigquerycreateemptytableoperator" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-providers-google-cloud-operators-bigquery-bigquerycreateemptydatasetoperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigquery.BigQueryCreateEmptyDatasetOperator</span></code><a class="headerlink" href="#airflow-providers-google-cloud-operators-bigquery-bigquerycreateemptydatasetoperator" title="Link to this heading">¶</a></h5>
<p>Idempotency was added to <code class="docutils literal notranslate"><span class="pre">BigQueryCreateEmptyTableOperator</span></code> and <code class="docutils literal notranslate"><span class="pre">BigQueryCreateEmptyDatasetOperator</span></code>.
But to achieve that try / except clause was removed from <code class="docutils literal notranslate"><span class="pre">create_empty_dataset</span></code> and <code class="docutils literal notranslate"><span class="pre">create_empty_table</span></code>
methods of <code class="docutils literal notranslate"><span class="pre">BigQueryHook</span></code>.</p>
</section>
<section id="id209">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.dataflow.DataflowHook</span></code><a class="headerlink" href="#id209" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-providers-google-cloud-hooks-mlengine-mlenginehook">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.mlengine.MLEngineHook</span></code><a class="headerlink" href="#airflow-providers-google-cloud-hooks-mlengine-mlenginehook" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-providers-google-cloud-hooks-pubsub-pubsubhook">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.pubsub.PubSubHook</span></code><a class="headerlink" href="#airflow-providers-google-cloud-hooks-pubsub-pubsubhook" title="Link to this heading">¶</a></h5>
<p>The change in GCP operators implies that GCP Hooks for those operators require now keyword parameters rather
than positional ones in all methods where <code class="docutils literal notranslate"><span class="pre">project_id</span></code> is used. The methods throw an explanatory exception
in case they are called using positional parameters.</p>
<p>Other GCP hooks are unaffected.</p>
</section>
<section id="id210">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.pubsub.PubSubHook</span></code><a class="headerlink" href="#id210" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-providers-google-cloud-operators-pubsub-pubsubtopiccreateoperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.pubsub.PubSubTopicCreateOperator</span></code><a class="headerlink" href="#airflow-providers-google-cloud-operators-pubsub-pubsubtopiccreateoperator" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-providers-google-cloud-operators-pubsub-pubsubsubscriptioncreateoperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.pubsub.PubSubSubscriptionCreateOperator</span></code><a class="headerlink" href="#airflow-providers-google-cloud-operators-pubsub-pubsubsubscriptioncreateoperator" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-providers-google-cloud-operators-pubsub-pubsubtopicdeleteoperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.pubsub.PubSubTopicDeleteOperator</span></code><a class="headerlink" href="#airflow-providers-google-cloud-operators-pubsub-pubsubtopicdeleteoperator" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-providers-google-cloud-operators-pubsub-pubsubsubscriptiondeleteoperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.pubsub.PubSubSubscriptionDeleteOperator</span></code><a class="headerlink" href="#airflow-providers-google-cloud-operators-pubsub-pubsubsubscriptiondeleteoperator" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-providers-google-cloud-operators-pubsub-pubsubpublishoperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.pubsub.PubSubPublishOperator</span></code><a class="headerlink" href="#airflow-providers-google-cloud-operators-pubsub-pubsubpublishoperator" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-providers-google-cloud-sensors-pubsub-pubsubpullsensor">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.sensors.pubsub.PubSubPullSensor</span></code><a class="headerlink" href="#airflow-providers-google-cloud-sensors-pubsub-pubsubpullsensor" title="Link to this heading">¶</a></h5>
<p>In the <code class="docutils literal notranslate"><span class="pre">PubSubPublishOperator</span></code> and <code class="docutils literal notranslate"><span class="pre">PubSubHook.publish</span></code> method the data field in a message should be bytestring (utf-8 encoded) rather than base64 encoded string.</p>
<p>Due to the normalization of the parameters within GCP operators and hooks a parameters like <code class="docutils literal notranslate"><span class="pre">project</span></code> or <code class="docutils literal notranslate"><span class="pre">topic_project</span></code>
are deprecated and will be substituted by parameter <code class="docutils literal notranslate"><span class="pre">project_id</span></code>.
In <code class="docutils literal notranslate"><span class="pre">PubSubHook.create_subscription</span></code> hook method in the parameter <code class="docutils literal notranslate"><span class="pre">subscription_project</span></code> is replaced by <code class="docutils literal notranslate"><span class="pre">subscription_project_id</span></code>.
Template fields are updated accordingly and old ones may not work.</p>
<p>It is required now to pass key-word only arguments to <code class="docutils literal notranslate"><span class="pre">PubSub</span></code> hook.</p>
<p>These changes are not backward compatible.</p>
</section>
<section id="airflow-providers-google-cloud-operators-kubernetes-engine-gkestartpodoperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.kubernetes_engine.GKEStartPodOperator</span></code><a class="headerlink" href="#airflow-providers-google-cloud-operators-kubernetes-engine-gkestartpodoperator" title="Link to this heading">¶</a></h5>
<p>The gcp_conn_id parameter in GKEPodOperator is required. In previous versions, it was possible to pass
the <code class="docutils literal notranslate"><span class="pre">None</span></code> value to the <code class="docutils literal notranslate"><span class="pre">gcp_conn_id</span></code> in the GKEStartPodOperator
operator, which resulted in credentials being determined according to the
<a class="reference external" href="https://cloud.google.com/docs/authentication/production">Application Default Credentials</a> strategy.</p>
<p>Now this parameter requires a value. To restore the previous behavior, configure the connection without
specifying the service account.</p>
<p>Detailed information about connection management is available:
<a class="reference external" href="https://airflow.apache.org/howto/connection/gcp.html">Google Cloud Connection</a>.</p>
</section>
<section id="airflow-providers-google-cloud-hooks-gcs-gcshook">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.gcs.GCSHook</span></code><a class="headerlink" href="#airflow-providers-google-cloud-hooks-gcs-gcshook" title="Link to this heading">¶</a></h5>
<ul class="simple">
<li><p>The following parameters have been replaced in all the methods in GCSHook:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">bucket</span></code> is changed to <code class="docutils literal notranslate"><span class="pre">bucket_name</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">object</span></code> is changed to <code class="docutils literal notranslate"><span class="pre">object_name</span></code></p></li>
</ul>
</li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">maxResults</span></code> parameter in <code class="docutils literal notranslate"><span class="pre">GoogleCloudStorageHook.list</span></code> has been renamed to <code class="docutils literal notranslate"><span class="pre">max_results</span></code> for consistency.</p></li>
</ul>
</section>
<section id="airflow-providers-google-cloud-operators-dataproc-dataprocsubmitpigjoboperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocSubmitPigJobOperator</span></code><a class="headerlink" href="#airflow-providers-google-cloud-operators-dataproc-dataprocsubmitpigjoboperator" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-providers-google-cloud-operators-dataproc-dataprocsubmithivejoboperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocSubmitHiveJobOperator</span></code><a class="headerlink" href="#airflow-providers-google-cloud-operators-dataproc-dataprocsubmithivejoboperator" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-providers-google-cloud-operators-dataproc-dataprocsubmitsparksqljoboperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocSubmitSparkSqlJobOperator</span></code><a class="headerlink" href="#airflow-providers-google-cloud-operators-dataproc-dataprocsubmitsparksqljoboperator" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-providers-google-cloud-operators-dataproc-dataprocsubmitsparkjoboperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocSubmitSparkJobOperator</span></code><a class="headerlink" href="#airflow-providers-google-cloud-operators-dataproc-dataprocsubmitsparkjoboperator" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-providers-google-cloud-operators-dataproc-dataprocsubmithadoopjoboperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocSubmitHadoopJobOperator</span></code><a class="headerlink" href="#airflow-providers-google-cloud-operators-dataproc-dataprocsubmithadoopjoboperator" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-providers-google-cloud-operators-dataproc-dataprocsubmitpysparkjoboperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocSubmitPySparkJobOperator</span></code><a class="headerlink" href="#airflow-providers-google-cloud-operators-dataproc-dataprocsubmitpysparkjoboperator" title="Link to this heading">¶</a></h5>
<p>The ‘properties’ and ‘jars’ properties for the Dataproc related operators (<code class="docutils literal notranslate"><span class="pre">DataprocXXXOperator</span></code>) have been renamed from
<code class="docutils literal notranslate"><span class="pre">dataproc_xxxx_properties</span></code> and <code class="docutils literal notranslate"><span class="pre">dataproc_xxx_jars</span></code>  to <code class="docutils literal notranslate"><span class="pre">dataproc_properties</span></code>
and <code class="docutils literal notranslate"><span class="pre">dataproc_jars</span></code>respectively.
Arguments for dataproc_properties dataproc_jars</p>
</section>
<section id="airflow-providers-google-cloud-operators-cloud-storage-transfer-service-clouddatatransferservicecreatejoboperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.cloud_storage_transfer_service.CloudDataTransferServiceCreateJobOperator</span></code><a class="headerlink" href="#airflow-providers-google-cloud-operators-cloud-storage-transfer-service-clouddatatransferservicecreatejoboperator" title="Link to this heading">¶</a></h5>
<p>To obtain pylint compatibility the <code class="docutils literal notranslate"><span class="pre">filter</span></code> argument in <code class="docutils literal notranslate"><span class="pre">CloudDataTransferServiceCreateJobOperator</span></code>
has been renamed to <code class="docutils literal notranslate"><span class="pre">request_filter</span></code>.</p>
</section>
<section id="airflow-providers-google-cloud-hooks-cloud-storage-transfer-service-clouddatatransferservicehook">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.cloud_storage_transfer_service.CloudDataTransferServiceHook</span></code><a class="headerlink" href="#airflow-providers-google-cloud-hooks-cloud-storage-transfer-service-clouddatatransferservicehook" title="Link to this heading">¶</a></h5>
<blockquote>
<div><p>To obtain pylint compatibility the <code class="docutils literal notranslate"><span class="pre">filter</span></code> argument in <code class="docutils literal notranslate"><span class="pre">CloudDataTransferServiceHook.list_transfer_job</span></code> and
<code class="docutils literal notranslate"><span class="pre">CloudDataTransferServiceHook.list_transfer_operations</span></code> has been renamed to <code class="docutils literal notranslate"><span class="pre">request_filter</span></code>.</p>
</div></blockquote>
</section>
<section id="id211">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook</span></code><a class="headerlink" href="#id211" title="Link to this heading">¶</a></h5>
<p>In general all hook methods are decorated with <code class="docutils literal notranslate"><span class="pre">&#64;GoogleBaseHook.fallback_to_default_project_id</span></code> thus
parameters to hook can only be passed via keyword arguments.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">create_empty_table</span></code> method accepts now <code class="docutils literal notranslate"><span class="pre">table_resource</span></code> parameter. If provided all
other parameters are ignored.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">create_empty_dataset</span></code> will now use values from <code class="docutils literal notranslate"><span class="pre">dataset_reference</span></code> instead of raising error
if parameters were passed in <code class="docutils literal notranslate"><span class="pre">dataset_reference</span></code> and as arguments to method. Additionally validation
of <code class="docutils literal notranslate"><span class="pre">dataset_reference</span></code> is done using <code class="docutils literal notranslate"><span class="pre">Dataset.from_api_repr</span></code>. Exception and log messages has been
changed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">update_dataset</span></code> requires now new <code class="docutils literal notranslate"><span class="pre">fields</span></code> argument (breaking change)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">delete_dataset</span></code> has new signature (dataset_id, project_id, …)
previous one was (project_id, dataset_id, …) (breaking change)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_tabledata</span></code> returns list of rows instead of API response in dict format. This method is deprecated in
favor of <code class="docutils literal notranslate"><span class="pre">list_rows</span></code>. (breaking change)</p></li>
</ul>
</section>
<section id="airflow-providers-google-cloud-hooks-cloud-build-cloudbuildhook">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.cloud_build.CloudBuildHook</span></code><a class="headerlink" href="#airflow-providers-google-cloud-hooks-cloud-build-cloudbuildhook" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-providers-google-cloud-operators-cloud-build-cloudbuildcreatebuildoperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.cloud_build.CloudBuildCreateBuildOperator</span></code><a class="headerlink" href="#airflow-providers-google-cloud-operators-cloud-build-cloudbuildcreatebuildoperator" title="Link to this heading">¶</a></h5>
<dl class="simple">
<dt>The <code class="docutils literal notranslate"><span class="pre">api_version</span></code> has been removed and will not be used since we migrate <code class="docutils literal notranslate"><span class="pre">CloudBuildHook</span></code> from using</dt><dd><p>Discovery API to native google-cloud-build python library.</p>
</dd>
<dt>The <code class="docutils literal notranslate"><span class="pre">body</span></code> parameter in <code class="docutils literal notranslate"><span class="pre">CloudBuildCreateBuildOperator</span></code> has been deprecated.</dt><dd><p>Instead, you should pass body using the <code class="docutils literal notranslate"><span class="pre">build</span></code> parameter.</p>
</dd>
</dl>
</section>
<section id="airflow-providers-google-cloud-hooks-dataflow-dataflowhook-start-python-dataflow">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.dataflow.DataflowHook.start_python_dataflow</span></code><a class="headerlink" href="#airflow-providers-google-cloud-hooks-dataflow-dataflowhook-start-python-dataflow" title="Link to this heading">¶</a></h5>
</section>
<section id="id212">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.dataflow.DataflowHook.start_python_dataflow</span></code><a class="headerlink" href="#id212" title="Link to this heading">¶</a></h5>
</section>
<section id="id213">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataflow.DataflowCreatePythonJobOperator</span></code><a class="headerlink" href="#id213" title="Link to this heading">¶</a></h5>
<p>Change python3 as Dataflow Hooks/Operators default interpreter</p>
<p>Now the <code class="docutils literal notranslate"><span class="pre">py_interpreter</span></code> argument for DataFlow Hooks/Operators has been changed from python2 to python3.</p>
</section>
<section id="airflow-providers-google-common-hooks-base-google-googlebasehook">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.common.hooks.base_google.GoogleBaseHook</span></code><a class="headerlink" href="#airflow-providers-google-common-hooks-base-google-googlebasehook" title="Link to this heading">¶</a></h5>
<p>To simplify the code, the decorator provide_gcp_credential_file has been moved from the inner-class.</p>
<p>Instead of <code class="docutils literal notranslate"><span class="pre">&#64;GoogleBaseHook._Decorators.provide_gcp_credential_file</span></code>,
you should write <code class="docutils literal notranslate"><span class="pre">&#64;GoogleBaseHook.provide_gcp_credential_file</span></code></p>
</section>
<section id="airflow-providers-google-cloud-operators-dataproc-dataproccreateclusteroperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocCreateClusterOperator</span></code><a class="headerlink" href="#airflow-providers-google-cloud-operators-dataproc-dataproccreateclusteroperator" title="Link to this heading">¶</a></h5>
<p>It is highly recommended to have 1TB+ disk size for Dataproc to have sufficient throughput:
<a class="reference external" href="https://cloud.google.com/compute/docs/disks/performance">https://cloud.google.com/compute/docs/disks/performance</a></p>
<p>Hence, the default value for <code class="docutils literal notranslate"><span class="pre">master_disk_size</span></code> in <code class="docutils literal notranslate"><span class="pre">DataprocCreateClusterOperator</span></code> has been changed from 500GB to 1TB.</p>
</section>
</section>
<section id="generating-cluster-config">
<h4>Generating Cluster Config<a class="headerlink" href="#generating-cluster-config" title="Link to this heading">¶</a></h4>
<p>If you are upgrading from Airflow 1.10.x and are not using <strong>CLUSTER_CONFIG</strong>,
You can easily generate config using <strong>make()</strong> of <code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.ClusterGenerator</span></code></p>
<p>This has been proved specially useful if you are using <strong>metadata</strong> argument from older API, refer <a class="reference external" href="https://github.com/apache/airflow/issues/16911">AIRFLOW-16911</a> for details.</p>
<p>eg. your cluster creation may look like this in <strong>v1.10.x</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">path</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;gs://goog-dataproc-initialization-actions-us-central1/python/pip-install.sh&quot;</span>

<span class="n">create_cluster</span> <span class="o">=</span> <span class="n">DataprocClusterCreateOperator</span><span class="p">(</span>
    <span class="n">task_id</span><span class="o">=</span><span class="s2">&quot;create_dataproc_cluster&quot;</span><span class="p">,</span>
    <span class="n">cluster_name</span><span class="o">=</span><span class="s2">&quot;test&quot;</span><span class="p">,</span>
    <span class="n">project_id</span><span class="o">=</span><span class="s2">&quot;test&quot;</span><span class="p">,</span>
    <span class="n">zone</span><span class="o">=</span><span class="s2">&quot;us-central1-a&quot;</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="s2">&quot;us-central1&quot;</span><span class="p">,</span>
    <span class="n">master_machine_type</span><span class="o">=</span><span class="s2">&quot;n1-standard-4&quot;</span><span class="p">,</span>
    <span class="n">worker_machine_type</span><span class="o">=</span><span class="s2">&quot;n1-standard-4&quot;</span><span class="p">,</span>
    <span class="n">num_workers</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">storage_bucket</span><span class="o">=</span><span class="s2">&quot;test_bucket&quot;</span><span class="p">,</span>
    <span class="n">init_actions_uris</span><span class="o">=</span><span class="p">[</span><span class="n">path</span><span class="p">],</span>
    <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;PIP_PACKAGES&quot;</span><span class="p">:</span> <span class="s2">&quot;pyyaml requests pandas openpyxl&quot;</span><span class="p">},</span>
<span class="p">)</span>
</pre></div>
</div>
<p>After upgrading to <strong>v2.x.x</strong> and using <strong>CLUSTER_CONFIG</strong>, it will look like followed:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">path</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;gs://goog-dataproc-initialization-actions-us-central1/python/pip-install.sh&quot;</span>

<span class="n">CLUSTER_CONFIG</span> <span class="o">=</span> <span class="n">ClusterGenerator</span><span class="p">(</span>
    <span class="n">project_id</span><span class="o">=</span><span class="s2">&quot;test&quot;</span><span class="p">,</span>
    <span class="n">zone</span><span class="o">=</span><span class="s2">&quot;us-central1-a&quot;</span><span class="p">,</span>
    <span class="n">master_machine_type</span><span class="o">=</span><span class="s2">&quot;n1-standard-4&quot;</span><span class="p">,</span>
    <span class="n">worker_machine_type</span><span class="o">=</span><span class="s2">&quot;n1-standard-4&quot;</span><span class="p">,</span>
    <span class="n">num_workers</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">storage_bucket</span><span class="o">=</span><span class="s2">&quot;test&quot;</span><span class="p">,</span>
    <span class="n">init_actions_uris</span><span class="o">=</span><span class="p">[</span><span class="n">path</span><span class="p">],</span>
    <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;PIP_PACKAGES&quot;</span><span class="p">:</span> <span class="s2">&quot;pyyaml requests pandas openpyxl&quot;</span><span class="p">},</span>
<span class="p">)</span><span class="o">.</span><span class="n">make</span><span class="p">()</span>

<span class="n">create_cluster_operator</span> <span class="o">=</span> <span class="n">DataprocClusterCreateOperator</span><span class="p">(</span>
    <span class="n">task_id</span><span class="o">=</span><span class="s2">&quot;create_dataproc_cluster&quot;</span><span class="p">,</span>
    <span class="n">cluster_name</span><span class="o">=</span><span class="s2">&quot;test&quot;</span><span class="p">,</span>
    <span class="n">project_id</span><span class="o">=</span><span class="s2">&quot;test&quot;</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="s2">&quot;us-central1&quot;</span><span class="p">,</span>
    <span class="n">cluster_config</span><span class="o">=</span><span class="n">CLUSTER_CONFIG</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<section id="airflow-providers-google-cloud-operators-bigquery-bigquerygetdatasettablesoperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigquery.BigQueryGetDatasetTablesOperator</span></code><a class="headerlink" href="#airflow-providers-google-cloud-operators-bigquery-bigquerygetdatasettablesoperator" title="Link to this heading">¶</a></h5>
<p>We changed signature of <code class="docutils literal notranslate"><span class="pre">BigQueryGetDatasetTablesOperator</span></code>.</p>
<p>Before:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="n">dataset_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">dataset_resource</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span>
    <span class="c1"># ...</span>
<span class="p">):</span> <span class="o">...</span>
</pre></div>
</div>
<p>After:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="n">dataset_resource</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span>
    <span class="n">dataset_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="c1"># ...</span>
<span class="p">):</span> <span class="o">...</span>
</pre></div>
</div>
</section>
</section>
<section id="changes-in-amazon-provider-package">
<h4>Changes in <code class="docutils literal notranslate"><span class="pre">amazon</span></code> provider package<a class="headerlink" href="#changes-in-amazon-provider-package" title="Link to this heading">¶</a></h4>
<p>We strive to ensure that there are no changes that may affect the end user, and your Python files, but this
release may contain changes that will require changes to your configuration, DAG Files or other integration
e.g. custom operators.</p>
<p>Only changes unique to this provider are described here. You should still pay attention to the changes that
have been made to the core (including core operators) as they can affect the integration behavior
of this provider.</p>
<p>This section describes the changes that have been made, and what you need to do to update your if
you use operators or hooks which integrate with Amazon services (including Amazon Web Service - AWS).</p>
<section id="migration-of-aws-components">
<h5>Migration of AWS components<a class="headerlink" href="#migration-of-aws-components" title="Link to this heading">¶</a></h5>
<p>All AWS components (hooks, operators, sensors, example DAGs) will be grouped together as decided in
<a class="reference external" href="https://cwiki.apache.org/confluence/display/AIRFLOW/AIP-21%3A+Changes+in+import+paths">AIP-21</a>. Migrated
components remain backwards compatible but raise a <code class="docutils literal notranslate"><span class="pre">DeprecationWarning</span></code> when imported from the old module.
Migrated are:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Old path</p></th>
<th class="head"><p>New path</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.hooks.S3_hook.S3Hook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.hooks.s3.S3Hook</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.hooks.aws_athena_hook.AWSAthenaHook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.hooks.athena.AWSAthenaHook</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.hooks.aws_lambda_hook.AwsLambdaHook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.hooks.lambda_function.AwsLambdaHook</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.hooks.aws_sqs_hook.SQSHook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.hooks.sqs.SQSHook</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.hooks.aws_sns_hook.AwsSnsHook</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.hooks.sns.AwsSnsHook</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.aws_athena_operator.AWSAthenaOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.operators.athena.AWSAthenaOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.awsbatch.AWSBatchOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.operators.batch.AwsBatchOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.awsbatch.BatchProtocol</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.hooks.batch_client.AwsBatchProtocol</span></code></p></td>
</tr>
<tr class="row-even"><td><p>private attrs and methods on <code class="docutils literal notranslate"><span class="pre">AWSBatchOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.hooks.batch_client.AwsBatchClient</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>n/a</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.hooks.batch_waiters.AwsBatchWaiters</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.aws_sqs_publish_operator.SQSPublishOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.operators.sqs.SQSPublishOperator</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.operators.aws_sns_publish_operator.SnsPublishOperator</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.operators.sns.SnsPublishOperator</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.sensors.aws_athena_sensor.AthenaSensor</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.sensors.athena.AthenaSensor</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">airflow.contrib.sensors.aws_sqs_sensor.SQSSensor</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.sensors.sqs.SQSSensor</span></code></p></td>
</tr>
</tbody>
</table>
</section>
<section id="airflow-providers-amazon-aws-hooks-emr-emrhook">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.hooks.emr.EmrHook</span></code><a class="headerlink" href="#airflow-providers-amazon-aws-hooks-emr-emrhook" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-providers-amazon-aws-operators-emr-add-steps-emraddstepsoperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.operators.emr_add_steps.EmrAddStepsOperator</span></code><a class="headerlink" href="#airflow-providers-amazon-aws-operators-emr-add-steps-emraddstepsoperator" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-providers-amazon-aws-operators-emr-create-job-flow-emrcreatejobflowoperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.operators.emr_create_job_flow.EmrCreateJobFlowOperator</span></code><a class="headerlink" href="#airflow-providers-amazon-aws-operators-emr-create-job-flow-emrcreatejobflowoperator" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-providers-amazon-aws-operators-emr-terminate-job-flow-emrterminatejobflowoperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.operators.emr_terminate_job_flow.EmrTerminateJobFlowOperator</span></code><a class="headerlink" href="#airflow-providers-amazon-aws-operators-emr-terminate-job-flow-emrterminatejobflowoperator" title="Link to this heading">¶</a></h5>
<p>The default value for the <a class="reference external" href="https://airflow.apache.org/howto/manage-connections.html#amazon-web-services">aws_conn_id</a> was accidentally set to ‘s3_default’ instead of ‘aws_default’ in some of the emr operators in previous
versions. This was leading to EmrStepSensor not being able to find their corresponding emr cluster. With the new
changes in the EmrAddStepsOperator, EmrTerminateJobFlowOperator and EmrCreateJobFlowOperator this issue is
solved.</p>
</section>
<section id="airflow-providers-amazon-aws-operators-batch-awsbatchoperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.operators.batch.AwsBatchOperator</span></code><a class="headerlink" href="#airflow-providers-amazon-aws-operators-batch-awsbatchoperator" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">AwsBatchOperator</span></code> was refactored to extract an <code class="docutils literal notranslate"><span class="pre">AwsBatchClient</span></code> (and inherit from it).  The
changes are mostly backwards compatible and clarify the public API for these classes; some
private methods on <code class="docutils literal notranslate"><span class="pre">AwsBatchOperator</span></code> for polling a job status were relocated and renamed
to surface new public methods on <code class="docutils literal notranslate"><span class="pre">AwsBatchClient</span></code> (and via inheritance on <code class="docutils literal notranslate"><span class="pre">AwsBatchOperator</span></code>).  A
couple of job attributes are renamed on an instance of <code class="docutils literal notranslate"><span class="pre">AwsBatchOperator</span></code>; these were mostly
used like private attributes but they were surfaced in the public API, so any use of them needs
to be updated as follows:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">AwsBatchOperator().jobId</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">AwsBatchOperator().job_id</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AwsBatchOperator().jobName</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">AwsBatchOperator().job_name</span></code></p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">AwsBatchOperator</span></code> gets a new option to define a custom model for waiting on job status changes.
The <code class="docutils literal notranslate"><span class="pre">AwsBatchOperator</span></code> can use a new <code class="docutils literal notranslate"><span class="pre">waiters</span></code> parameter, an instance of <code class="docutils literal notranslate"><span class="pre">AwsBatchWaiters</span></code>, to
specify that custom job waiters will be used to monitor a batch job.  See the latest API
documentation for details.</p>
</section>
<section id="airflow-providers-amazon-aws-sensors-athena-athenasensor">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.sensors.athena.AthenaSensor</span></code><a class="headerlink" href="#airflow-providers-amazon-aws-sensors-athena-athenasensor" title="Link to this heading">¶</a></h5>
<p>Replace parameter <code class="docutils literal notranslate"><span class="pre">max_retires</span></code> with <code class="docutils literal notranslate"><span class="pre">max_retries</span></code> to fix typo.</p>
</section>
<section id="airflow-providers-amazon-aws-hooks-s3-s3hook">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.hooks.s3.S3Hook</span></code><a class="headerlink" href="#airflow-providers-amazon-aws-hooks-s3-s3hook" title="Link to this heading">¶</a></h5>
<p>Note: The order of arguments has changed for <code class="docutils literal notranslate"><span class="pre">check_for_prefix</span></code>.
The <code class="docutils literal notranslate"><span class="pre">bucket_name</span></code> is now optional. It falls back to the <code class="docutils literal notranslate"><span class="pre">connection</span> <span class="pre">schema</span></code> attribute.
The <code class="docutils literal notranslate"><span class="pre">delete_objects</span></code> now returns <code class="docutils literal notranslate"><span class="pre">None</span></code> instead of a response, since the method now makes multiple api requests when the keys list length is &gt; 1000.</p>
</section>
</section>
<section id="changes-in-other-provider-packages">
<h4>Changes in other provider packages<a class="headerlink" href="#changes-in-other-provider-packages" title="Link to this heading">¶</a></h4>
<p>We strive to ensure that there are no changes that may affect the end user and your Python files, but this
release may contain changes that will require changes to your configuration, DAG Files or other integration
e.g. custom operators.</p>
<p>Only changes unique to providers are described here. You should still pay attention to the changes that
have been made to the core (including core operators) as they can affect the integration behavior
of this provider.</p>
<p>This section describes the changes that have been made, and what you need to do to update your if
you use any code located in <code class="docutils literal notranslate"><span class="pre">airflow.providers</span></code> package.</p>
<section id="changed-return-type-of-list-prefixes-and-list-keys-methods-in-s3hook">
<h5>Changed return type of <code class="docutils literal notranslate"><span class="pre">list_prefixes</span></code> and <code class="docutils literal notranslate"><span class="pre">list_keys</span></code> methods in <code class="docutils literal notranslate"><span class="pre">S3Hook</span></code><a class="headerlink" href="#changed-return-type-of-list-prefixes-and-list-keys-methods-in-s3hook" title="Link to this heading">¶</a></h5>
<p>Previously, the <code class="docutils literal notranslate"><span class="pre">list_prefixes</span></code> and <code class="docutils literal notranslate"><span class="pre">list_keys</span></code> methods returned <code class="docutils literal notranslate"><span class="pre">None</span></code> when there were no
results. The behavior has been changed to return an empty list instead of <code class="docutils literal notranslate"><span class="pre">None</span></code> in this
case.</p>
</section>
<section id="removed-hipchat-integration">
<h5>Removed HipChat integration<a class="headerlink" href="#removed-hipchat-integration" title="Link to this heading">¶</a></h5>
<p>HipChat has reached end of life and is no longer available.</p>
<p>For more information please see
<a class="reference external" href="https://community.atlassian.com/t5/Stride-articles/Stride-and-Hipchat-Cloud-have-reached-End-of-Life-updated/ba-p/940248">https://community.atlassian.com/t5/Stride-articles/Stride-and-Hipchat-Cloud-have-reached-End-of-Life-updated/ba-p/940248</a></p>
</section>
<section id="airflow-providers-salesforce-hooks-salesforce-salesforcehook">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.salesforce.hooks.salesforce.SalesforceHook</span></code><a class="headerlink" href="#airflow-providers-salesforce-hooks-salesforce-salesforcehook" title="Link to this heading">¶</a></h5>
<p>Replace parameter <code class="docutils literal notranslate"><span class="pre">sandbox</span></code> with <code class="docutils literal notranslate"><span class="pre">domain</span></code>. According to change in simple-salesforce package.</p>
<p>Rename <code class="docutils literal notranslate"><span class="pre">sign_in</span></code> function to <code class="docutils literal notranslate"><span class="pre">get_conn</span></code>.</p>
</section>
<section id="airflow-providers-apache-pinot-hooks-pinot-pinotadminhook-create-segment">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.apache.pinot.hooks.pinot.PinotAdminHook.create_segment</span></code><a class="headerlink" href="#airflow-providers-apache-pinot-hooks-pinot-pinotadminhook-create-segment" title="Link to this heading">¶</a></h5>
<p>Rename parameter name from <code class="docutils literal notranslate"><span class="pre">format</span></code> to <code class="docutils literal notranslate"><span class="pre">segment_format</span></code> in PinotAdminHook function create_segment for pylint compatible</p>
</section>
<section id="airflow-providers-apache-hive-hooks-hive-hivemetastorehook-get-partitions">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.apache.hive.hooks.hive.HiveMetastoreHook.get_partitions</span></code><a class="headerlink" href="#airflow-providers-apache-hive-hooks-hive-hivemetastorehook-get-partitions" title="Link to this heading">¶</a></h5>
<p>Rename parameter name from <code class="docutils literal notranslate"><span class="pre">filter</span></code> to <code class="docutils literal notranslate"><span class="pre">partition_filter</span></code> in HiveMetastoreHook function get_partitions for pylint compatible</p>
</section>
<section id="airflow-providers-ftp-hooks-ftp-ftphook-list-directory">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.ftp.hooks.ftp.FTPHook.list_directory</span></code><a class="headerlink" href="#airflow-providers-ftp-hooks-ftp-ftphook-list-directory" title="Link to this heading">¶</a></h5>
<p>Remove unnecessary parameter <code class="docutils literal notranslate"><span class="pre">nlst</span></code> in FTPHook function <code class="docutils literal notranslate"><span class="pre">list_directory</span></code> for pylint compatible</p>
</section>
<section id="airflow-providers-postgres-hooks-postgres-postgreshook-copy-expert">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.postgres.hooks.postgres.PostgresHook.copy_expert</span></code><a class="headerlink" href="#airflow-providers-postgres-hooks-postgres-postgreshook-copy-expert" title="Link to this heading">¶</a></h5>
<p>Remove unnecessary parameter <code class="docutils literal notranslate"><span class="pre">open</span></code> in PostgresHook function <code class="docutils literal notranslate"><span class="pre">copy_expert</span></code> for pylint compatible</p>
</section>
<section id="airflow-providers-opsgenie-operators-opsgenie-alert-opsgeniealertoperator">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.opsgenie.operators.opsgenie_alert.OpsgenieAlertOperator</span></code><a class="headerlink" href="#airflow-providers-opsgenie-operators-opsgenie-alert-opsgeniealertoperator" title="Link to this heading">¶</a></h5>
<p>Change parameter name from <code class="docutils literal notranslate"><span class="pre">visibleTo</span></code> to <code class="docutils literal notranslate"><span class="pre">visible_to</span></code> in OpsgenieAlertOperator for pylint compatible</p>
</section>
<section id="airflow-providers-imap-hooks-imap-imaphook">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.imap.hooks.imap.ImapHook</span></code><a class="headerlink" href="#airflow-providers-imap-hooks-imap-imaphook" title="Link to this heading">¶</a></h5>
</section>
<section id="airflow-providers-imap-sensors-imap-attachment-imapattachmentsensor">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.imap.sensors.imap_attachment.ImapAttachmentSensor</span></code><a class="headerlink" href="#airflow-providers-imap-sensors-imap-attachment-imapattachmentsensor" title="Link to this heading">¶</a></h5>
<p>ImapHook:</p>
<ul class="simple">
<li><p>The order of arguments has changed for <code class="docutils literal notranslate"><span class="pre">has_mail_attachment</span></code>,
<code class="docutils literal notranslate"><span class="pre">retrieve_mail_attachments</span></code> and <code class="docutils literal notranslate"><span class="pre">download_mail_attachments</span></code>.</p></li>
<li><p>A new <code class="docutils literal notranslate"><span class="pre">mail_filter</span></code> argument has been added to each of those.</p></li>
</ul>
</section>
<section id="airflow-providers-http-hooks-http-httphook">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.http.hooks.http.HttpHook</span></code><a class="headerlink" href="#airflow-providers-http-hooks-http-httphook" title="Link to this heading">¶</a></h5>
<p>The HTTPHook is now secured by default: <code class="docutils literal notranslate"><span class="pre">verify=True</span></code> (before: <code class="docutils literal notranslate"><span class="pre">verify=False</span></code>)
This can be overwritten by using the extra_options param as <code class="docutils literal notranslate"><span class="pre">{'verify':</span> <span class="pre">False}</span></code>.</p>
</section>
<section id="airflow-providers-cloudant-hooks-cloudant-cloudanthook">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.cloudant.hooks.cloudant.CloudantHook</span></code><a class="headerlink" href="#airflow-providers-cloudant-hooks-cloudant-cloudanthook" title="Link to this heading">¶</a></h5>
<ul class="simple">
<li><p>upgraded cloudant version from <code class="docutils literal notranslate"><span class="pre">&gt;=0.5.9,&lt;2.0</span></code> to <code class="docutils literal notranslate"><span class="pre">&gt;=2.0</span></code></p></li>
<li><p>removed the use of the <code class="docutils literal notranslate"><span class="pre">schema</span></code> attribute in the connection</p></li>
<li><p>removed <code class="docutils literal notranslate"><span class="pre">db</span></code> function since the database object can also be retrieved by calling <code class="docutils literal notranslate"><span class="pre">cloudant_session['database_name']</span></code></p></li>
</ul>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">airflow.providers.cloudant.hooks.cloudant</span><span class="w"> </span><span class="kn">import</span> <span class="n">CloudantHook</span>

<span class="k">with</span> <span class="n">CloudantHook</span><span class="p">()</span><span class="o">.</span><span class="n">get_conn</span><span class="p">()</span> <span class="k">as</span> <span class="n">cloudant_session</span><span class="p">:</span>
    <span class="n">database</span> <span class="o">=</span> <span class="n">cloudant_session</span><span class="p">[</span><span class="s2">&quot;database_name&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>See the <a class="reference external" href="https://python-cloudant.readthedocs.io/en/latest/">docs</a> for more information on how to use the new cloudant version.</p>
</section>
<section id="airflow-providers-snowflake">
<h5><code class="docutils literal notranslate"><span class="pre">airflow.providers.snowflake</span></code><a class="headerlink" href="#airflow-providers-snowflake" title="Link to this heading">¶</a></h5>
<p>When initializing a Snowflake hook or operator, the value used for <code class="docutils literal notranslate"><span class="pre">snowflake_conn_id</span></code> was always <code class="docutils literal notranslate"><span class="pre">snowflake_conn_id</span></code>, regardless of whether or not you specified a value for it. The default <code class="docutils literal notranslate"><span class="pre">snowflake_conn_id</span></code> value is now switched to <code class="docutils literal notranslate"><span class="pre">snowflake_default</span></code> for consistency and will be properly overridden when specified.</p>
</section>
</section>
<section id="other-changes">
<h4>Other changes<a class="headerlink" href="#other-changes" title="Link to this heading">¶</a></h4>
<p>This release also includes changes that fall outside any of the sections above.</p>
<section id="standardized-extra-requirements">
<h5>Standardized “extra” requirements<a class="headerlink" href="#standardized-extra-requirements" title="Link to this heading">¶</a></h5>
<p>We standardized the Extras names and synchronized providers package names with the main airflow extras.</p>
<p>We deprecated a number of extras in 2.0.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Deprecated extras</p></th>
<th class="head"><p>New extras</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>atlas</p></td>
<td><p>apache.atlas</p></td>
</tr>
<tr class="row-odd"><td><p>aws</p></td>
<td><p>amazon</p></td>
</tr>
<tr class="row-even"><td><p>azure</p></td>
<td><p>microsoft.azure</p></td>
</tr>
<tr class="row-odd"><td><p>azure_blob_storage</p></td>
<td><p>microsoft.azure</p></td>
</tr>
<tr class="row-even"><td><p>azure_data_lake</p></td>
<td><p>microsoft.azure</p></td>
</tr>
<tr class="row-odd"><td><p>azure_cosmos</p></td>
<td><p>microsoft.azure</p></td>
</tr>
<tr class="row-even"><td><p>azure_container_instances</p></td>
<td><p>microsoft.azure</p></td>
</tr>
<tr class="row-odd"><td><p>cassandra</p></td>
<td><p>apache.cassandra</p></td>
</tr>
<tr class="row-even"><td><p>druid</p></td>
<td><p>apache.druid</p></td>
</tr>
<tr class="row-odd"><td><p>gcp</p></td>
<td><p>google</p></td>
</tr>
<tr class="row-even"><td><p>gcp_api</p></td>
<td><p>google</p></td>
</tr>
<tr class="row-odd"><td><p>hdfs</p></td>
<td><p>apache.hdfs</p></td>
</tr>
<tr class="row-even"><td><p>hive</p></td>
<td><p>apache.hive</p></td>
</tr>
<tr class="row-odd"><td><p>kubernetes</p></td>
<td><p>cncf.kubernetes</p></td>
</tr>
<tr class="row-even"><td><p>mssql</p></td>
<td><p>microsoft.mssql</p></td>
</tr>
<tr class="row-odd"><td><p>pinot</p></td>
<td><p>apache.pinot</p></td>
</tr>
<tr class="row-even"><td><p>webhdfs</p></td>
<td><p>apache.webhdfs</p></td>
</tr>
<tr class="row-odd"><td><p>winrm</p></td>
<td><p>apache.winrm</p></td>
</tr>
</tbody>
</table>
<p>For example:</p>
<p>If you want to install integration for Apache Atlas, then instead of <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">apache-airflow[atlas]</span></code>
you should use <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">apache-airflow[apache.atlas]</span></code>.</p>
<p>NOTE!</p>
<p>If you want to install integration for Microsoft Azure, then instead of</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="s1">&#39;apache-airflow[azure_blob_storage,azure_data_lake,azure_cosmos,azure_container_instances]&#39;</span>
</pre></div>
</div>
<p>you should run <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">'apache-airflow[microsoft.azure]'</span></code></p>
<p>If you want to install integration for Amazon Web Services, then instead of
<code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">'apache-airflow[s3,emr]'</span></code>, you should execute <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">'apache-airflow[aws]'</span></code></p>
<p>The deprecated extras will be removed in 3.0.</p>
</section>
<section id="simplify-the-response-payload-of-endpoints-dag-stats-and-task-stats">
<h5>Simplify the response payload of endpoints /dag_stats and /task_stats<a class="headerlink" href="#simplify-the-response-payload-of-endpoints-dag-stats-and-task-stats" title="Link to this heading">¶</a></h5>
<p>The response of endpoints <code class="docutils literal notranslate"><span class="pre">/dag_stats</span></code> and <code class="docutils literal notranslate"><span class="pre">/task_stats</span></code> help UI fetch brief statistics about DAGs and Tasks. The format was like</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;example_http_operator&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;dag_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;example_http_operator&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;color&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;green&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;running&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;dag_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;example_http_operator&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;color&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;lime&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">dag_id</span></code> was repeated in the payload, which makes the response payload unnecessarily bigger.</p>
<p>Now the <code class="docutils literal notranslate"><span class="pre">dag_id</span></code> will not appear repeated in the payload, and the response format is like</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;example_http_operator&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;color&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;green&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;running&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;color&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;lime&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
</section>
</section>
</section>


    <div class="pager" role="navigation" aria-label="related navigation">
            <a rel="prev" title="Airflow’s release process and version policy" href="release-process.html" >
                <button class="btn-hollow btn-blue bodytext__medium--cerulean-blue" accesskey="p">Previous</button>
            </a>
            <a rel="next" title="Privacy Notice" href="privacy_notice.html" >
                <button class="btn-hollow btn-blue bodytext__medium--cerulean-blue" accesskey="n">Next</button>
            </a>
    </div>
                                    </div>

                                </div>
                            </div>
                    </div>
                </div>
    <div class="rating-container">
        <p class="bodytext__medium--greyish-brown font-weight-500">Was this entry helpful?</p>
        <div class="rating">

            <div id="rate-star-5" class="rate-star">
                <svg xmlns="http://www.w3.org/2000/svg" width="21.05" height="20.02" viewBox="0 0 21.05 20.02">
                    <g id="Group_806" data-name="Group 806" transform="translate(-774.404 -13.178)">
                        <path id="Path_715" d="M791.434 33.2l-6.5-3.42-6.5 3.42 1.242-7.243-5.262-5.13 7.273-1.057 3.252-6.59 3.252 6.59 7.273 1.057-5.262 5.13z" fill="#017cee" data-name="Path 715"></path>
                    </g>
                </svg>

            </div>

            <div id="rate-star-4" class="rate-star">
                <svg xmlns="http://www.w3.org/2000/svg" width="21.05" height="20.02" viewBox="0 0 21.05 20.02">
                    <g id="Group_806" data-name="Group 806" transform="translate(-774.404 -13.178)">
                        <path id="Path_715" d="M791.434 33.2l-6.5-3.42-6.5 3.42 1.242-7.243-5.262-5.13 7.273-1.057 3.252-6.59 3.252 6.59 7.273 1.057-5.262 5.13z" fill="#017cee" data-name="Path 715"></path>
                    </g>
                </svg>

            </div>

            <div id="rate-star-3" class="rate-star">
                <svg xmlns="http://www.w3.org/2000/svg" width="21.05" height="20.02" viewBox="0 0 21.05 20.02">
                    <g id="Group_806" data-name="Group 806" transform="translate(-774.404 -13.178)">
                        <path id="Path_715" d="M791.434 33.2l-6.5-3.42-6.5 3.42 1.242-7.243-5.262-5.13 7.273-1.057 3.252-6.59 3.252 6.59 7.273 1.057-5.262 5.13z" fill="#017cee" data-name="Path 715"></path>
                    </g>
                </svg>

            </div>

            <div id="rate-star-2" class="rate-star">
                <svg xmlns="http://www.w3.org/2000/svg" width="21.05" height="20.02" viewBox="0 0 21.05 20.02">
                    <g id="Group_806" data-name="Group 806" transform="translate(-774.404 -13.178)">
                        <path id="Path_715" d="M791.434 33.2l-6.5-3.42-6.5 3.42 1.242-7.243-5.262-5.13 7.273-1.057 3.252-6.59 3.252 6.59 7.273 1.057-5.262 5.13z" fill="#017cee" data-name="Path 715"></path>
                    </g>
                </svg>

            </div>

            <div id="rate-star-1" class="rate-star">
                <svg xmlns="http://www.w3.org/2000/svg" width="21.05" height="20.02" viewBox="0 0 21.05 20.02">
                    <g id="Group_806" data-name="Group 806" transform="translate(-774.404 -13.178)">
                        <path id="Path_715" d="M791.434 33.2l-6.5-3.42-6.5 3.42 1.242-7.243-5.262-5.13 7.273-1.057 3.252-6.59 3.252 6.59 7.273 1.057-5.262 5.13z" fill="#017cee" data-name="Path 715"></path>
                    </g>
                </svg>

            </div>

        </div>
    </div>
                
            </main>
            

            
            
    <nav class="wy-nav-side-toc">
        <div class="wy-menu-vertical">
            <ul>
<li><a class="reference internal" href="#">Release Notes</a><ul>
<li><a class="reference internal" href="#airflow-3-0-0-2025-04-22">Airflow 3.0.0 (2025-04-22)</a><ul>
<li><a class="reference internal" href="#highlights">Highlights</a></li>
<li><a class="reference internal" href="#significant-changes">Significant Changes</a><ul>
<li><a class="reference internal" href="#task-execution-api-task-sdk-aip-72">Task Execution API &amp; Task SDK (AIP-72)</a></li>
<li><a class="reference internal" href="#edge-executor-aip-69">Edge Executor (AIP-69)</a></li>
<li><a class="reference internal" href="#scheduler-managed-backfills-aip-78">Scheduler-Managed Backfills (AIP-78)</a></li>
<li><a class="reference internal" href="#dag-versioning-aip-66">DAG Versioning (AIP-66)</a></li>
<li><a class="reference internal" href="#react-ui-rewrite-aip-38-aip-84">React UI Rewrite (AIP-38, AIP-84)</a></li>
<li><a class="reference internal" href="#asset-based-scheduling-terminology-alignment-aip-74-aip-75">Asset-Based Scheduling &amp; Terminology Alignment (AIP-74, AIP-75)</a></li>
<li><a class="reference internal" href="#unified-scheduling-field">Unified Scheduling Field</a></li>
<li><a class="reference internal" href="#updated-scheduling-defaults">Updated Scheduling Defaults</a></li>
<li><a class="reference internal" href="#restricted-metadata-database-access">Restricted Metadata Database Access</a></li>
<li><a class="reference internal" href="#future-logical-dates-no-longer-supported">Future Logical Dates No Longer Supported</a></li>
<li><a class="reference internal" href="#context-behavior-for-asset-and-manually-triggered-dags">Context Behavior for Asset and Manually Triggered DAGs</a></li>
<li><a class="reference internal" href="#improved-callback-behavior">Improved Callback Behavior</a></li>
<li><a class="reference internal" href="#updated-default-configuration">Updated Default Configuration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#executor-scheduler-updates">Executor &amp; Scheduler Updates</a><ul>
<li><a class="reference internal" href="#standalone-dag-processor-required">Standalone DAG Processor Required</a></li>
<li><a class="reference internal" href="#priority-weight-capped-by-pool-slots">Priority Weight Capped by Pool Slots</a></li>
<li><a class="reference internal" href="#teardown-task-handling-during-dag-termination">Teardown Task Handling During DAG Termination</a></li>
<li><a class="reference internal" href="#improved-scheduler-fault-tolerance">Improved Scheduler Fault Tolerance</a></li>
<li><a class="reference internal" href="#mapped-task-stats-accuracy">Mapped Task Stats Accuracy</a></li>
<li><a class="reference internal" href="#sequentialexecutor-has-been-removed"><code class="docutils literal notranslate"><span class="pre">SequentialExecutor</span></code> has been removed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#dag-authoring-enhancements">DAG Authoring Enhancements</a><ul>
<li><a class="reference internal" href="#new-stable-dag-authoring-interface-airflow-sdk">New Stable DAG Authoring Interface: <code class="docutils literal notranslate"><span class="pre">airflow.sdk</span></code></a></li>
<li><a class="reference internal" href="#renamed-parameter-fail-stop-fail-fast">Renamed Parameter: <code class="docutils literal notranslate"><span class="pre">fail_stop</span></code> → <code class="docutils literal notranslate"><span class="pre">fail_fast</span></code></a></li>
<li><a class="reference internal" href="#context-cleanup-and-parameter-removal">Context Cleanup and Parameter Removal</a></li>
<li><a class="reference internal" href="#task-context-utilities-moved">Task Context Utilities Moved</a></li>
<li><a class="reference internal" href="#trigger-rule-restrictions">Trigger Rule Restrictions</a></li>
<li><a class="reference internal" href="#asset-aliases-for-reusability">Asset Aliases for Reusability</a></li>
<li><a class="reference internal" href="#operator-links-interface-changed">Operator Links interface changed</a></li>
<li><a class="reference internal" href="#plugins-no-longer-support-adding-executors-operators-hooks">Plugins no longer support adding executors, operators &amp; hooks</a></li>
<li><a class="reference internal" href="#support-for-ml-ai-use-cases-aip-83">Support for ML &amp; AI Use Cases (AIP-83)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#config-interface-changes">Config &amp; Interface Changes</a><ul>
<li><a class="reference internal" href="#default-value-handling">Default Value Handling</a></li>
<li><a class="reference internal" href="#refactored-config-defaults">Refactored Config Defaults</a></li>
<li><a class="reference internal" href="#refactored-internal-utilities">Refactored Internal Utilities</a></li>
<li><a class="reference internal" href="#improved-inlet-events-outlet-events-and-triggering-asset-events">Improved <code class="docutils literal notranslate"><span class="pre">inlet_events</span></code>, <code class="docutils literal notranslate"><span class="pre">outlet_events</span></code>, and <code class="docutils literal notranslate"><span class="pre">triggering_asset_events</span></code></a></li>
<li><a class="reference internal" href="#behaviour-change-in-xcom-pull">Behaviour change in <code class="docutils literal notranslate"><span class="pre">xcom_pull</span></code></a></li>
<li><a class="reference internal" href="#removed-configuration-keys">Removed Configuration Keys</a></li>
<li><a class="reference internal" href="#upgrade-tooling">Upgrade Tooling</a></li>
</ul>
</li>
<li><a class="reference internal" href="#cli-api-changes">CLI &amp; API Changes</a><ul>
<li><a class="reference internal" href="#split-cli-architecture-aip-81">Split CLI Architecture (AIP-81)</a></li>
<li><a class="reference internal" href="#rest-api-dag-trigger-behavior-updated">REST API: DAG Trigger Behavior Updated</a></li>
<li><a class="reference internal" href="#removed-cli-flags-and-commands">Removed CLI Flags and Commands</a></li>
</ul>
</li>
<li><a class="reference internal" href="#provider-refactor-standardization">Provider Refactor &amp; Standardization</a></li>
<li><a class="reference internal" href="#ui-usability-improvements">UI &amp; Usability Improvements</a><ul>
<li><a class="reference internal" href="#new-home-page">New Home Page</a></li>
<li><a class="reference internal" href="#unified-dag-list-view">Unified DAG List View</a></li>
<li><a class="reference internal" href="#version-aware-graph-and-grid-views">Version-Aware Graph and Grid Views</a></li>
<li><a class="reference internal" href="#expanded-dag-graph-visualization">Expanded DAG Graph Visualization</a></li>
<li><a class="reference internal" href="#dag-code-view">DAG Code View</a></li>
<li><a class="reference internal" href="#improved-task-log-access">Improved Task Log Access</a></li>
<li><a class="reference internal" href="#enhanced-asset-and-backfill-views">Enhanced Asset and Backfill Views</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deprecations-removals">Deprecations &amp; Removals</a><ul>
<li><a class="reference internal" href="#summary-of-removed-features">Summary of Removed Features</a></li>
</ul>
</li>
<li><a class="reference internal" href="#migration-tooling-upgrade-process">Migration Tooling &amp; Upgrade Process</a><ul>
<li><a class="reference internal" href="#minimum-supported-versions">Minimum Supported Versions</a></li>
<li><a class="reference internal" href="#dag-compatibility-checks">DAG Compatibility Checks</a></li>
<li><a class="reference internal" href="#configuration-migration">Configuration Migration</a></li>
<li><a class="reference internal" href="#metadata-database-upgrade">Metadata Database Upgrade</a></li>
<li><a class="reference internal" href="#startup-behavior-changes">Startup Behavior Changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#resources">Resources</a></li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-10-5-2025-02-10">Airflow 2.10.5 (2025-02-10)</a><ul>
<li><a class="reference internal" href="#id1">Significant Changes</a><ul>
<li><a class="reference internal" href="#ensure-teardown-tasks-are-executed-when-dag-run-is-set-to-failed-45530">Ensure teardown tasks are executed when DAG run is set to failed (#45530)</a></li>
<li><a class="reference internal" href="#bug-fixes">Bug Fixes</a></li>
<li><a class="reference internal" href="#miscellaneous">Miscellaneous</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-10-4-2024-12-16">Airflow 2.10.4 (2024-12-16)</a><ul>
<li><a class="reference internal" href="#id2">Significant Changes</a><ul>
<li><a class="reference internal" href="#taskinstance-priority-weight-is-capped-in-32-bit-signed-integer-ranges-43611">TaskInstance <code class="docutils literal notranslate"><span class="pre">priority_weight</span></code> is capped in 32-bit signed integer ranges (#43611)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id3">Bug Fixes</a><ul>
<li><a class="reference internal" href="#doc-only-changes">Doc Only Changes</a></li>
<li><a class="reference internal" href="#id4">Miscellaneous</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-10-3-2024-11-05">Airflow 2.10.3 (2024-11-05)</a><ul>
<li><a class="reference internal" href="#id5">Significant Changes</a><ul>
<li><a class="reference internal" href="#id6">Bug Fixes</a></li>
<li><a class="reference internal" href="#id7">Miscellaneous</a></li>
<li><a class="reference internal" href="#id8">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-10-2-2024-09-18">Airflow 2.10.2 (2024-09-18)</a><ul>
<li><a class="reference internal" href="#id9">Significant Changes</a><ul>
<li><a class="reference internal" href="#id10">Bug Fixes</a></li>
<li><a class="reference internal" href="#id11">Miscellaneous</a></li>
<li><a class="reference internal" href="#id12">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-10-1-2024-09-05">Airflow 2.10.1 (2024-09-05)</a><ul>
<li><a class="reference internal" href="#id13">Significant Changes</a><ul>
<li><a class="reference internal" href="#id14">Bug Fixes</a></li>
<li><a class="reference internal" href="#id15">Miscellaneous</a></li>
<li><a class="reference internal" href="#id16">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-10-0-2024-08-15">Airflow 2.10.0 (2024-08-15)</a><ul>
<li><a class="reference internal" href="#id17">Significant Changes</a><ul>
<li><a class="reference internal" href="#scarf-based-telemetry-airflow-now-collect-telemetry-data-39510">Scarf based telemetry: Airflow now collect telemetry data (#39510)</a></li>
<li><a class="reference internal" href="#datasets-no-longer-trigger-inactive-dags-38891">Datasets no longer trigger inactive DAGs (#38891)</a></li>
<li><a class="reference internal" href="#try-number-is-no-longer-incremented-during-task-execution-39336"><code class="docutils literal notranslate"><span class="pre">try_number</span></code> is no longer incremented during task execution (#39336)</a></li>
<li><a class="reference internal" href="#logout-endpoint-in-fab-auth-manager-is-now-csrf-protected-40145"><code class="docutils literal notranslate"><span class="pre">/logout</span></code> endpoint in FAB Auth Manager is now CSRF protected (#40145)</a></li>
<li><a class="reference internal" href="#opentelemetry-traces-for-apache-airflow-37948">OpenTelemetry Traces for Apache Airflow (#37948).</a></li>
<li><a class="reference internal" href="#decorator-for-task-flow-skip-if-run-if-to-make-it-simple-to-apply-whether-or-not-to-skip-a-task-41116">Decorator for Task Flow <code class="docutils literal notranslate"><span class="pre">(&#64;skip_if,</span> <span class="pre">&#64;run_if)</span></code> to make it simple to apply whether or not to skip a Task. (#41116)</a></li>
<li><a class="reference internal" href="#using-multiple-executors-concurrently-40701">Using Multiple Executors Concurrently (#40701)</a></li>
<li><a class="reference internal" href="#new-features">New Features</a></li>
<li><a class="reference internal" href="#improvements">Improvements</a></li>
<li><a class="reference internal" href="#id18">Bug Fixes</a></li>
<li><a class="reference internal" href="#id19">Miscellaneous</a></li>
<li><a class="reference internal" href="#id20">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-9-3-2024-07-15">Airflow 2.9.3 (2024-07-15)</a><ul>
<li><a class="reference internal" href="#id21">Significant Changes</a><ul>
<li><a class="reference internal" href="#time-unit-for-scheduled-duration-and-queued-duration-changed-37936">Time unit for <code class="docutils literal notranslate"><span class="pre">scheduled_duration</span></code> and <code class="docutils literal notranslate"><span class="pre">queued_duration</span></code> changed (#37936)</a></li>
<li><a class="reference internal" href="#support-for-opentelemetry-metrics-is-no-longer-experimental-40286">Support for OpenTelemetry Metrics is no longer “Experimental” (#40286)</a></li>
<li><a class="reference internal" href="#id22">Bug Fixes</a></li>
<li><a class="reference internal" href="#id23">Doc Only Changes</a></li>
<li><a class="reference internal" href="#id24">Miscellaneous</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-9-2-2024-06-10">Airflow 2.9.2 (2024-06-10)</a><ul>
<li><a class="reference internal" href="#id25">Significant Changes</a><ul>
<li><a class="reference internal" href="#id26">Bug Fixes</a></li>
<li><a class="reference internal" href="#id27">Miscellaneous</a></li>
<li><a class="reference internal" href="#id28">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-9-1-2024-05-03">Airflow 2.9.1 (2024-05-03)</a><ul>
<li><a class="reference internal" href="#id29">Significant Changes</a><ul>
<li><a class="reference internal" href="#stackdriver-logging-bugfix-requires-google-provider-10-17-0-or-later-38071">Stackdriver logging bugfix requires Google provider <code class="docutils literal notranslate"><span class="pre">10.17.0</span></code> or later (#38071)</a></li>
<li><a class="reference internal" href="#id30">Bug Fixes</a></li>
<li><a class="reference internal" href="#id31">Miscellaneous</a></li>
<li><a class="reference internal" href="#id32">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-9-0-2024-04-08">Airflow 2.9.0 (2024-04-08)</a><ul>
<li><a class="reference internal" href="#id33">Significant Changes</a><ul>
<li><a class="reference internal" href="#following-listener-api-methods-are-considered-stable-and-can-be-used-for-production-system-were-experimental-feature-in-older-airflow-versions-36376">Following Listener API methods are considered stable and can be used for production system (were experimental feature in older Airflow versions) (#36376):</a></li>
<li><a class="reference internal" href="#support-for-microsoft-sql-server-for-airflow-meta-database-has-been-removed-36514">Support for Microsoft SQL-Server for Airflow Meta Database has been removed (#36514)</a></li>
<li><a class="reference internal" href="#dataset-uris-are-now-validated-on-input-37005">Dataset URIs are now validated on input (#37005)</a></li>
<li><a class="reference internal" href="#the-method-get-permitted-menu-items-in-baseauthmanager-has-been-renamed-filter-permitted-menu-items-37627">The method <code class="docutils literal notranslate"><span class="pre">get_permitted_menu_items</span></code> in <code class="docutils literal notranslate"><span class="pre">BaseAuthManager</span></code> has been renamed <code class="docutils literal notranslate"><span class="pre">filter_permitted_menu_items</span></code> (#37627)</a></li>
<li><a class="reference internal" href="#add-rest-api-actions-to-audit-log-events-37734">Add REST API actions to Audit Log events (#37734)</a></li>
<li><a class="reference internal" href="#official-support-for-python-3-12-38025">Official support for Python 3.12 (#38025)</a></li>
<li><a class="reference internal" href="#prevent-large-string-objects-from-being-stored-in-the-rendered-template-fields-38094">Prevent large string objects from being stored in the Rendered Template Fields (#38094)</a></li>
<li><a class="reference internal" href="#change-xcom-table-column-value-type-to-longblob-for-mysql-backend-38401">Change xcom table column value type to longblob for MySQL backend (#38401)</a></li>
<li><a class="reference internal" href="#stronger-validation-for-key-parameter-defaults-in-taskflow-context-variables-38015">Stronger validation for key parameter defaults in taskflow context variables (#38015)</a></li>
<li><a class="reference internal" href="#id34">New Features</a></li>
<li><a class="reference internal" href="#id35">Improvements</a></li>
<li><a class="reference internal" href="#id36">Bug Fixes</a></li>
<li><a class="reference internal" href="#id37">Miscellaneous</a></li>
<li><a class="reference internal" href="#id38">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-8-4-2024-03-25">Airflow 2.8.4 (2024-03-25)</a><ul>
<li><a class="reference internal" href="#id39">Significant Changes</a><ul>
<li><a class="reference internal" href="#id40">Bug Fixes</a></li>
<li><a class="reference internal" href="#id41">Miscellaneous</a></li>
<li><a class="reference internal" href="#id42">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-8-3-2024-03-11">Airflow 2.8.3 (2024-03-11)</a><ul>
<li><a class="reference internal" href="#id43">Significant Changes</a><ul>
<li><a class="reference internal" href="#the-smtp-provider-is-now-pre-installed-when-you-install-airflow-37713">The smtp provider is now pre-installed when you install Airflow. (#37713)</a></li>
<li><a class="reference internal" href="#id44">Bug Fixes</a></li>
<li><a class="reference internal" href="#id45">Miscellaneous</a></li>
<li><a class="reference internal" href="#id46">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-8-2-2024-02-26">Airflow 2.8.2 (2024-02-26)</a><ul>
<li><a class="reference internal" href="#id47">Significant Changes</a><ul>
<li><a class="reference internal" href="#the-allowed-deserialization-classes-flag-now-follows-a-glob-pattern-36147">The <code class="docutils literal notranslate"><span class="pre">allowed_deserialization_classes</span></code> flag now follows a glob pattern (#36147).</a></li>
<li><a class="reference internal" href="#the-audit-logs-permissions-have-been-updated-for-heightened-security-37501">The audit_logs permissions have been updated for heightened security (#37501).</a></li>
<li><a class="reference internal" href="#airflowtimeouterror-is-no-longer-except-by-default-through-exception-35653"><code class="docutils literal notranslate"><span class="pre">AirflowTimeoutError</span></code> is no longer <code class="docutils literal notranslate"><span class="pre">except</span></code> by default through <code class="docutils literal notranslate"><span class="pre">Exception</span></code> (#35653).</a></li>
<li><a class="reference internal" href="#id48">Bug Fixes</a></li>
<li><a class="reference internal" href="#id49">Miscellaneous</a></li>
<li><a class="reference internal" href="#id50">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-8-1-2024-01-19">Airflow 2.8.1 (2024-01-19)</a><ul>
<li><a class="reference internal" href="#id51">Significant Changes</a><ul>
<li><a class="reference internal" href="#target-version-for-core-dependency-pendulum-package-set-to-3-36281">Target version for core dependency <code class="docutils literal notranslate"><span class="pre">pendulum</span></code> package set to 3 (#36281).</a></li>
<li><a class="reference internal" href="#airflow-packaging-specification-follows-modern-python-packaging-standards-36537">Airflow packaging specification follows modern Python packaging standards (#36537).</a></li>
<li><a class="reference internal" href="#graphviz-dependency-is-now-an-optional-one-not-required-one-36647">Graphviz dependency is now an optional one, not required one (#36647).</a></li>
<li><a class="reference internal" href="#id52">Bug Fixes</a></li>
<li><a class="reference internal" href="#id53">Miscellaneous</a></li>
<li><a class="reference internal" href="#id54">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-8-0-2023-12-18">Airflow 2.8.0 (2023-12-18)</a><ul>
<li><a class="reference internal" href="#id55">Significant Changes</a><ul>
<li><a class="reference internal" href="#raw-html-code-in-dag-docs-and-dag-params-descriptions-is-disabled-by-default-35460">Raw HTML code in DAG docs and DAG params descriptions is disabled by default (#35460)</a></li>
<li><a class="reference internal" href="#id56">New Features</a></li>
<li><a class="reference internal" href="#id57">Improvements</a></li>
<li><a class="reference internal" href="#id58">Bug Fixes</a></li>
<li><a class="reference internal" href="#id59">Miscellaneous</a></li>
<li><a class="reference internal" href="#id60">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-7-3-2023-11-06">Airflow 2.7.3 (2023-11-06)</a><ul>
<li><a class="reference internal" href="#id61">Significant Changes</a><ul>
<li><a class="reference internal" href="#id62">Bug Fixes</a></li>
<li><a class="reference internal" href="#misc-internal">Misc/Internal</a></li>
<li><a class="reference internal" href="#id63">Doc Only Changes</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-7-2-2023-10-12">Airflow 2.7.2 (2023-10-12)</a><ul>
<li><a class="reference internal" href="#id64">Significant Changes</a><ul>
<li><a class="reference internal" href="#id65">Bug Fixes</a></li>
<li><a class="reference internal" href="#id66">Doc Only Changes</a></li>
<li><a class="reference internal" href="#id67">Misc/Internal</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-7-1-2023-09-07">Airflow 2.7.1 (2023-09-07)</a><ul>
<li><a class="reference internal" href="#id68">Significant Changes</a><ul>
<li><a class="reference internal" href="#crontriggertimetable-is-now-less-aggressive-when-trying-to-skip-a-run-33404">CronTriggerTimetable is now less aggressive when trying to skip a run (#33404)</a></li>
<li><a class="reference internal" href="#conf-set-becomes-case-insensitive-to-match-conf-get-behavior-33452"><code class="docutils literal notranslate"><span class="pre">conf.set()</span></code> becomes case insensitive to match <code class="docutils literal notranslate"><span class="pre">conf.get()</span></code> behavior (#33452)</a></li>
<li><a class="reference internal" href="#id69">Bug Fixes</a></li>
<li><a class="reference internal" href="#id70">Misc/Internal</a></li>
<li><a class="reference internal" href="#id71">Doc only changes</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-7-0-2023-08-18">Airflow 2.7.0 (2023-08-18)</a><ul>
<li><a class="reference internal" href="#id72">Significant Changes</a><ul>
<li><a class="reference internal" href="#remove-python-3-7-support-30963">Remove Python 3.7 support (#30963)</a></li>
<li><a class="reference internal" href="#old-graph-view-is-removed-32958">Old Graph View is removed (#32958)</a></li>
<li><a class="reference internal" href="#the-trigger-ui-form-is-skipped-in-web-ui-if-no-parameters-are-defined-in-a-dag-33351">The trigger UI form is skipped in web UI if no parameters are defined in a DAG (#33351)</a></li>
<li><a class="reference internal" href="#the-db-init-db-upgrade-commands-and-database-load-default-connections-configuration-options-are-deprecated-33136">The “db init”, “db upgrade” commands and “[database] load_default_connections” configuration options are deprecated (#33136).</a></li>
<li><a class="reference internal" href="#in-case-of-smtp-ssl-connection-the-context-now-uses-the-default-context-33070">In case of SMTP SSL connection, the context now uses the “default” context (#33070)</a></li>
<li><a class="reference internal" href="#disable-default-allowing-the-testing-of-connections-in-ui-api-and-cli-32052">Disable default allowing the testing of connections in UI, API and CLI(#32052)</a></li>
<li><a class="reference internal" href="#the-xcomentries-api-disables-support-for-the-deserialize-flag-by-default-32176">The <code class="docutils literal notranslate"><span class="pre">xcomEntries</span></code> API disables support for the <code class="docutils literal notranslate"><span class="pre">deserialize</span></code> flag by default (#32176)</a></li>
<li><a class="reference internal" href="#change-of-the-default-celery-application-name-32526">Change of the default Celery application name (#32526)</a></li>
<li><a class="reference internal" href="#the-default-value-for-scheduler-max-tis-per-query-is-changed-from-512-to-16-32572">The default value for <code class="docutils literal notranslate"><span class="pre">scheduler.max_tis_per_query</span></code> is changed from 512 to 16 (#32572)</a></li>
<li><a class="reference internal" href="#some-executors-have-been-moved-to-corresponding-providers-32767">Some executors have been moved to corresponding providers (#32767)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#improvement-changes">Improvement Changes</a><ul>
<li><a class="reference internal" href="#postgresql-only-improvement-added-index-on-taskinstance-table-30762">PostgreSQL only improvement: Added index on taskinstance table (#30762)</a></li>
<li><a class="reference internal" href="#id73">New Features</a></li>
<li><a class="reference internal" href="#id74">Improvements</a></li>
<li><a class="reference internal" href="#id75">Bug Fixes</a></li>
<li><a class="reference internal" href="#id76">Misc/Internal</a></li>
<li><a class="reference internal" href="#docs-only-changes">Docs only changes</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-6-3-2023-07-10">Airflow 2.6.3 (2023-07-10)</a><ul>
<li><a class="reference internal" href="#id77">Significant Changes</a><ul>
<li><a class="reference internal" href="#default-allowed-pattern-of-a-run-id-has-been-changed-to-a-za-z0-9-32293">Default allowed pattern of a run_id has been changed to <code class="docutils literal notranslate"><span class="pre">^[A-Za-z0-9_.~:+-]+$</span></code> (#32293).</a></li>
<li><a class="reference internal" href="#id78">Bug Fixes</a></li>
<li><a class="reference internal" href="#id79">Misc/Internal</a></li>
<li><a class="reference internal" href="#id80">Doc only changes</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-6-2-2023-06-17">Airflow 2.6.2 (2023-06-17)</a><ul>
<li><a class="reference internal" href="#id81">Significant Changes</a></li>
<li><a class="reference internal" href="#id82">Bug Fixes</a><ul>
<li><a class="reference internal" href="#id83">Misc/Internal</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id84">Doc only changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-6-1-2023-05-16">Airflow 2.6.1 (2023-05-16)</a><ul>
<li><a class="reference internal" href="#id85">Significant Changes</a><ul>
<li><a class="reference internal" href="#clarifications-of-the-external-health-check-mechanism-and-using-job-classes-31277">Clarifications of the external Health Check mechanism and using <code class="docutils literal notranslate"><span class="pre">Job</span></code> classes (#31277).</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id86">Bug Fixes</a><ul>
<li><a class="reference internal" href="#id87">Misc/Internal</a></li>
<li><a class="reference internal" href="#id88">Doc only changes</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-6-0-2023-04-30">Airflow 2.6.0 (2023-04-30)</a><ul>
<li><a class="reference internal" href="#id89">Significant Changes</a><ul>
<li><a class="reference internal" href="#default-permissions-of-file-task-handler-log-directories-and-files-has-been-changed-to-owner-group-writeable-29506">Default permissions of file task handler log directories and files has been changed to “owner + group” writeable (#29506).</a></li>
<li><a class="reference internal" href="#sla-callbacks-no-longer-add-files-to-the-dag-processor-manager-s-queue-30076">SLA callbacks no longer add files to the dag processor manager’s queue (#30076)</a></li>
<li><a class="reference internal" href="#the-cleanup-method-in-basetrigger-is-now-defined-as-asynchronous-following-async-await-pattern-30152">The <code class="docutils literal notranslate"><span class="pre">cleanup()</span></code> method in BaseTrigger is now defined as asynchronous (following async/await) pattern (#30152).</a></li>
<li><a class="reference internal" href="#the-gauge-scheduler-tasks-running-no-longer-exist-30374">The gauge <code class="docutils literal notranslate"><span class="pre">scheduler.tasks.running</span></code> no longer exist (#30374)</a></li>
<li><a class="reference internal" href="#consolidate-handling-of-tasks-stuck-in-queued-under-new-task-queued-timeout-config-30375">Consolidate handling of tasks stuck in queued under new <code class="docutils literal notranslate"><span class="pre">task_queued_timeout</span></code> config (#30375)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id90">Improvement Changes</a><ul>
<li><a class="reference internal" href="#display-only-the-running-configuration-in-configurations-view-28892">Display only the running configuration in configurations view (#28892)</a></li>
<li><a class="reference internal" href="#explicit-skipped-states-list-for-externaltasksensor-29933">Explicit skipped states list for ExternalTaskSensor (#29933)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#miscellaneous-changes">Miscellaneous Changes</a><ul>
<li><a class="reference internal" href="#handle-overflowerror-on-exponential-backoff-in-next-run-calculation-28172">Handle OverflowError on exponential backoff in next_run_calculation (#28172)</a></li>
<li><a class="reference internal" href="#move-hive-macros-to-the-provider-28538">Move Hive macros to the provider (#28538)</a></li>
<li><a class="reference internal" href="#updated-app-to-support-configuring-the-caching-hash-method-for-fips-v2-30675">Updated app to support configuring the caching hash method for FIPS v2 (#30675)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id91">New Features</a><ul>
<li><a class="reference internal" href="#id92">Improvements</a></li>
<li><a class="reference internal" href="#id93">Bug Fixes</a></li>
<li><a class="reference internal" href="#id94">Misc/Internal</a></li>
<li><a class="reference internal" href="#id95">Doc only changes</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-5-3-2023-04-01">Airflow 2.5.3 (2023-04-01)</a><ul>
<li><a class="reference internal" href="#id96">Significant Changes</a></li>
<li><a class="reference internal" href="#id97">Bug Fixes</a></li>
<li><a class="reference internal" href="#id98">Misc/Internal</a></li>
<li><a class="reference internal" href="#id99">Doc only changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-5-2-2023-03-15">Airflow 2.5.2 (2023-03-15)</a><ul>
<li><a class="reference internal" href="#id100">Significant Changes</a><ul>
<li><a class="reference internal" href="#the-date-time-fields-passed-as-api-parameters-or-params-should-be-rfc3339-compliant-29395">The date-time fields passed as API parameters or Params should be RFC3339-compliant (#29395)</a></li>
<li><a class="reference internal" href="#default-for-webserver-expose-hostname-changed-to-false-29547">Default for <code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">expose_hostname</span></code> changed to <code class="docutils literal notranslate"><span class="pre">False</span></code> (#29547)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id101">Bug Fixes</a></li>
<li><a class="reference internal" href="#id102">Misc/Internal</a></li>
<li><a class="reference internal" href="#id103">Doc only changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-5-1-2023-01-20">Airflow 2.5.1 (2023-01-20)</a><ul>
<li><a class="reference internal" href="#id104">Significant Changes</a><ul>
<li><a class="reference internal" href="#trigger-gevent-monkeypatching-via-environment-variable-28283">Trigger gevent <code class="docutils literal notranslate"><span class="pre">monkeypatching</span></code> via environment variable (#28283)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id105">Bug Fixes</a></li>
<li><a class="reference internal" href="#id106">Misc/Internal</a></li>
<li><a class="reference internal" href="#id107">Doc only changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-5-0-2022-12-02">Airflow 2.5.0 (2022-12-02)</a><ul>
<li><a class="reference internal" href="#id108">Significant Changes</a><ul>
<li><a class="reference internal" href="#airflow-dags-test-no-longer-performs-a-backfill-job-26400"><code class="docutils literal notranslate"><span class="pre">airflow</span> <span class="pre">dags</span> <span class="pre">test</span></code> no longer performs a backfill job (#26400)</a></li>
<li><a class="reference internal" href="#airflow-config-section-kubernetes-renamed-to-kubernetes-executor-26873">Airflow config section <code class="docutils literal notranslate"><span class="pre">kubernetes</span></code> renamed to <code class="docutils literal notranslate"><span class="pre">kubernetes_executor</span></code> (#26873)</a></li>
<li><a class="reference internal" href="#airflowexception-is-now-thrown-as-soon-as-any-dependent-tasks-of-externaltasksensor-fails-27190"><code class="docutils literal notranslate"><span class="pre">AirflowException</span></code> is now thrown as soon as any dependent tasks of ExternalTaskSensor fails (#27190)</a></li>
<li><a class="reference internal" href="#the-airflow-config-option-scheduler-deactivate-stale-dags-interval-has-been-renamed-to-scheduler-parsing-cleanup-interval-27828">The Airflow config option <code class="docutils literal notranslate"><span class="pre">scheduler.deactivate_stale_dags_interval</span></code> has been renamed to <code class="docutils literal notranslate"><span class="pre">scheduler.parsing_cleanup_interval</span></code> (#27828).</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id109">New Features</a></li>
<li><a class="reference internal" href="#id110">Improvements</a></li>
<li><a class="reference internal" href="#id111">Bug Fixes</a></li>
<li><a class="reference internal" href="#id112">Misc/Internal</a></li>
<li><a class="reference internal" href="#id113">Doc only changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-4-3-2022-11-14">Airflow 2.4.3 (2022-11-14)</a><ul>
<li><a class="reference internal" href="#id114">Significant Changes</a><ul>
<li><a class="reference internal" href="#make-rotatingfilehandler-used-in-dagprocessor-non-caching-27223">Make <code class="docutils literal notranslate"><span class="pre">RotatingFilehandler</span></code> used in <code class="docutils literal notranslate"><span class="pre">DagProcessor</span></code> non-caching (#27223)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id115">Bug Fixes</a></li>
<li><a class="reference internal" href="#id116">Misc/Internal</a></li>
<li><a class="reference internal" href="#id117">Doc only changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-4-2-2022-10-23">Airflow 2.4.2 (2022-10-23)</a><ul>
<li><a class="reference internal" href="#id118">Significant Changes</a><ul>
<li><a class="reference internal" href="#default-for-webserver-expose-stacktrace-changed-to-false-27059">Default for <code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">expose_stacktrace</span></code> changed to <code class="docutils literal notranslate"><span class="pre">False</span></code> (#27059)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id119">Bug Fixes</a></li>
<li><a class="reference internal" href="#id120">Misc/Internal</a></li>
<li><a class="reference internal" href="#id121">Doc only changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-4-1-2022-09-30">Airflow 2.4.1 (2022-09-30)</a><ul>
<li><a class="reference internal" href="#id122">Significant Changes</a></li>
<li><a class="reference internal" href="#id123">Bug Fixes</a></li>
<li><a class="reference internal" href="#id124">Doc only changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-4-0-2022-09-19">Airflow 2.4.0 (2022-09-19)</a><ul>
<li><a class="reference internal" href="#id125">Significant Changes</a><ul>
<li><a class="reference internal" href="#data-aware-scheduling-and-dataset-concept-added-to-airflow">Data-aware Scheduling and <code class="docutils literal notranslate"><span class="pre">Dataset</span></code> concept added to Airflow</a></li>
<li><a class="reference internal" href="#expanded-dynamic-task-mapping-support">Expanded dynamic task mapping support</a></li>
<li><a class="reference internal" href="#dags-used-in-a-context-manager-no-longer-need-to-be-assigned-to-a-module-variable-23592">DAGS used in a context manager no longer need to be assigned to a module variable (#23592)</a></li>
<li><a class="reference internal" href="#deprecation-of-schedule-interval-and-timetable-arguments-25410">Deprecation of <code class="docutils literal notranslate"><span class="pre">schedule_interval</span></code> and <code class="docutils literal notranslate"><span class="pre">timetable</span></code> arguments (#25410)</a></li>
<li><a class="reference internal" href="#removal-of-experimental-smart-sensors-25507">Removal of experimental Smart Sensors (#25507)</a></li>
<li><a class="reference internal" href="#airflow-contrib-packages-and-deprecated-modules-are-dynamically-generated-26153-26179-26167"><code class="docutils literal notranslate"><span class="pre">airflow.contrib</span></code> packages and deprecated modules are dynamically generated (#26153, #26179, #26167)</a></li>
<li><a class="reference internal" href="#dbapihook-and-sqlsensor-have-moved-24836"><code class="docutils literal notranslate"><span class="pre">DBApiHook</span></code> and <code class="docutils literal notranslate"><span class="pre">SQLSensor</span></code> have moved (#24836)</a></li>
<li><a class="reference internal" href="#dag-runs-sorting-logic-changed-in-grid-view-25090">DAG runs sorting logic changed in grid view (#25090)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id126">New Features</a></li>
<li><a class="reference internal" href="#id127">Improvements</a></li>
<li><a class="reference internal" href="#id128">Bug Fixes</a></li>
<li><a class="reference internal" href="#id129">Misc/Internal</a></li>
<li><a class="reference internal" href="#id130">Doc only changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-3-4-2022-08-23">Airflow 2.3.4 (2022-08-23)</a><ul>
<li><a class="reference internal" href="#id131">Significant Changes</a><ul>
<li><a class="reference internal" href="#added-new-config-logging-log-formatter-class-to-fix-timezone-display-for-logs-on-ui-24811">Added new config <code class="docutils literal notranslate"><span class="pre">[logging]log_formatter_class</span></code> to fix timezone display for logs on UI (#24811)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id132">Bug Fixes</a></li>
<li><a class="reference internal" href="#id133">Doc only changes</a></li>
<li><a class="reference internal" href="#id134">Misc/Internal</a></li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-3-3-2022-07-09">Airflow 2.3.3 (2022-07-09)</a><ul>
<li><a class="reference internal" href="#id135">Significant Changes</a><ul>
<li><a class="reference internal" href="#we-ve-upgraded-flask-app-builder-to-a-major-version-4-24399">We’ve upgraded Flask App Builder to a major version 4.* (#24399)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id136">Bug Fixes</a></li>
<li><a class="reference internal" href="#id137">Doc only changes</a></li>
<li><a class="reference internal" href="#id138">Misc/Internal</a></li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-3-2-2022-06-04">Airflow 2.3.2 (2022-06-04)</a><ul>
<li><a class="reference internal" href="#id139">Bug Fixes</a></li>
<li><a class="reference internal" href="#id140">Doc only changes</a></li>
<li><a class="reference internal" href="#id141">Misc/Internal</a></li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-3-1-2022-05-25">Airflow 2.3.1 (2022-05-25)</a><ul>
<li><a class="reference internal" href="#id142">Significant Changes</a></li>
<li><a class="reference internal" href="#id143">Bug Fixes</a></li>
<li><a class="reference internal" href="#id144">Doc only changes</a></li>
<li><a class="reference internal" href="#id145">Misc/Internal</a></li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-3-0-2022-04-30">Airflow 2.3.0 (2022-04-30)</a><ul>
<li><a class="reference internal" href="#id146">Significant Changes</a><ul>
<li><a class="reference internal" href="#passing-execution-date-to-xcom-set-xcom-clear-xcom-get-one-and-xcom-get-many-is-deprecated-19825">Passing <code class="docutils literal notranslate"><span class="pre">execution_date</span></code> to <code class="docutils literal notranslate"><span class="pre">XCom.set()</span></code>, <code class="docutils literal notranslate"><span class="pre">XCom.clear()</span></code> , <code class="docutils literal notranslate"><span class="pre">XCom.get_one()</span></code> , and <code class="docutils literal notranslate"><span class="pre">XCom.get_many()</span></code> is deprecated (#19825)</a></li>
<li><a class="reference internal" href="#task-log-templates-are-now-read-from-the-metadata-database-instead-of-airflow-cfg-20165">Task log templates are now read from the metadata database instead of <code class="docutils literal notranslate"><span class="pre">airflow.cfg</span></code> (#20165)</a></li>
<li><a class="reference internal" href="#minimum-kubernetes-library-version-bumped-from-3-0-0-to-21-7-0-20759">Minimum kubernetes library version bumped from <code class="docutils literal notranslate"><span class="pre">3.0.0</span></code> to <code class="docutils literal notranslate"><span class="pre">21.7.0</span></code> (#20759)</a></li>
<li><a class="reference internal" href="#xcom-now-defined-by-run-id-instead-of-execution-date-20975">XCom now defined by <code class="docutils literal notranslate"><span class="pre">run_id</span></code> instead of <code class="docutils literal notranslate"><span class="pre">execution_date</span></code> (#20975)</a></li>
<li><a class="reference internal" href="#non-json-serializable-params-deprecated-21135">Non-JSON-serializable params deprecated (#21135).</a></li>
<li><a class="reference internal" href="#you-must-use-postgresql-instead-of-postgres-in-sql-alchemy-conn-for-sqlalchemy-1-4-0-21205">You must use <code class="docutils literal notranslate"><span class="pre">postgresql://</span></code> instead of <code class="docutils literal notranslate"><span class="pre">postgres://</span></code> in <code class="docutils literal notranslate"><span class="pre">sql_alchemy_conn</span></code> for SQLAlchemy 1.4.0+ (#21205)</a></li>
<li><a class="reference internal" href="#auth-backends-replaces-auth-backend-configuration-setting-21472"><code class="docutils literal notranslate"><span class="pre">auth_backends</span></code> replaces <code class="docutils literal notranslate"><span class="pre">auth_backend</span></code> configuration setting (#21472)</a></li>
<li><a class="reference internal" href="#airflow-models-base-operator-is-removed-21505"><code class="docutils literal notranslate"><span class="pre">airflow.models.base.Operator</span></code> is removed (#21505)</a></li>
<li><a class="reference internal" href="#zip-files-in-the-dags-folder-can-no-longer-have-a-py-extension-21538">Zip files in the DAGs folder can no longer have a <code class="docutils literal notranslate"><span class="pre">.py</span></code> extension (#21538)</a></li>
<li><a class="reference internal" href="#auth-backends-includes-session-21640"><code class="docutils literal notranslate"><span class="pre">auth_backends</span></code> includes session (#21640)</a></li>
<li><a class="reference internal" href="#default-templates-for-log-filenames-and-elasticsearch-log-id-changed-21734">Default templates for log filenames and elasticsearch log_id changed (#21734)</a></li>
<li><a class="reference internal" href="#baseoperatorlink-s-get-link-method-changed-to-take-a-ti-key-keyword-argument-21798">BaseOperatorLink’s <code class="docutils literal notranslate"><span class="pre">get_link</span></code> method changed to take a <code class="docutils literal notranslate"><span class="pre">ti_key</span></code> keyword argument (#21798)</a></li>
<li><a class="reference internal" href="#readytorescheduledep-now-only-runs-when-reschedule-is-true-21815"><code class="docutils literal notranslate"><span class="pre">ReadyToRescheduleDep</span></code> now only runs when <code class="docutils literal notranslate"><span class="pre">reschedule</span></code> is <em>True</em> (#21815)</a></li>
<li><a class="reference internal" href="#the-deps-attribute-on-an-operator-class-should-be-a-class-level-attribute-21815">The <code class="docutils literal notranslate"><span class="pre">deps</span></code> attribute on an operator class should be a class level attribute (#21815)</a></li>
<li><a class="reference internal" href="#deprecation-connection-extra-must-be-json-encoded-dict-21816">Deprecation: <code class="docutils literal notranslate"><span class="pre">Connection.extra</span></code> must be JSON-encoded dict (#21816)</a><ul>
<li><a class="reference internal" href="#tldr">TLDR</a></li>
<li><a class="reference internal" href="#what-why-and-when">What, why, and when?</a></li>
<li><a class="reference internal" href="#how-will-i-be-affected">How will I be affected?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-tree-default-view-setting-has-been-renamed-to-grid-22167">The <code class="docutils literal notranslate"><span class="pre">tree</span></code> default view setting has been renamed to <code class="docutils literal notranslate"><span class="pre">grid</span></code> (#22167)</a></li>
<li><a class="reference internal" href="#database-configuration-moved-to-new-section-22284">Database configuration moved to new section (#22284)</a></li>
<li><a class="reference internal" href="#remove-requirement-that-custom-connection-ui-fields-be-prefixed-22607">Remove requirement that custom connection UI fields be prefixed (#22607)</a></li>
<li><a class="reference internal" href="#the-webserver-x-frame-enabled-configuration-works-according-to-description-now-23222">The webserver.X_FRAME_ENABLED configuration works according to description now (#23222).</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id147">New Features</a></li>
<li><a class="reference internal" href="#id148">Improvements</a></li>
<li><a class="reference internal" href="#id149">Bug Fixes</a></li>
<li><a class="reference internal" href="#id150">Doc only changes</a></li>
<li><a class="reference internal" href="#id151">Misc/Internal</a></li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-2-5-2022-04-04">Airflow 2.2.5, (2022-04-04)</a><ul>
<li><a class="reference internal" href="#id152">Significant Changes</a><ul>
<li><a class="reference internal" href="#id153">Bug Fixes</a></li>
<li><a class="reference internal" href="#id154">Doc only changes</a></li>
<li><a class="reference internal" href="#misc">Misc</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-2-4-2022-02-22">Airflow 2.2.4, (2022-02-22)</a><ul>
<li><a class="reference internal" href="#id155">Significant Changes</a><ul>
<li><a class="reference internal" href="#smart-sensors-deprecated">Smart sensors deprecated</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id156">Bug Fixes</a></li>
<li><a class="reference internal" href="#id157">Doc only changes</a></li>
<li><a class="reference internal" href="#id158">Misc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-2-3-2021-12-21">Airflow 2.2.3, (2021-12-21)</a><ul>
<li><a class="reference internal" href="#id159">Significant Changes</a></li>
<li><a class="reference internal" href="#id160">Bug Fixes</a></li>
<li><a class="reference internal" href="#id161">Doc only changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-2-2-2021-11-15">Airflow 2.2.2 (2021-11-15)</a><ul>
<li><a class="reference internal" href="#id162">Significant Changes</a></li>
<li><a class="reference internal" href="#id163">Bug Fixes</a></li>
<li><a class="reference internal" href="#id164">Doc only changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-2-1-2021-10-29">Airflow 2.2.1 (2021-10-29)</a><ul>
<li><a class="reference internal" href="#id165">Significant Changes</a><ul>
<li><a class="reference internal" href="#param-s-default-value-for-default-removed"><code class="docutils literal notranslate"><span class="pre">Param</span></code>’s default value for <code class="docutils literal notranslate"><span class="pre">default</span></code> removed</a></li>
<li><a class="reference internal" href="#max-queued-runs-per-dag-configuration-has-been-removed"><code class="docutils literal notranslate"><span class="pre">max_queued_runs_per_dag</span></code> configuration has been removed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id166">Bug Fixes</a></li>
<li><a class="reference internal" href="#id167">Doc only changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-2-0-2021-10-11">Airflow 2.2.0 (2021-10-11)</a><ul>
<li><a class="reference internal" href="#id168">Significant Changes</a><ul>
<li><a class="reference internal" href="#worker-log-server-port-configuration-has-been-moved-to-the-logging-section"><code class="docutils literal notranslate"><span class="pre">worker_log_server_port</span></code> configuration has been moved to the <code class="docutils literal notranslate"><span class="pre">logging</span></code> section.</a></li>
<li><a class="reference internal" href="#pandas-is-now-an-optional-dependency"><code class="docutils literal notranslate"><span class="pre">pandas</span></code> is now an optional dependency</a></li>
<li><a class="reference internal" href="#none-failed-or-skipped-trigger-rule-has-been-deprecated"><code class="docutils literal notranslate"><span class="pre">none_failed_or_skipped</span></code> trigger rule has been deprecated</a></li>
<li><a class="reference internal" href="#dummy-trigger-rule-has-been-deprecated">Dummy trigger rule has been deprecated</a></li>
<li><a class="reference internal" href="#dag-concurrency-settings-have-been-renamed">DAG concurrency settings have been renamed</a></li>
<li><a class="reference internal" href="#task-concurrency-parameter-has-been-renamed">Task concurrency parameter has been renamed</a></li>
<li><a class="reference internal" href="#processor-poll-interval-config-have-been-renamed-to-scheduler-idle-sleep-time"><code class="docutils literal notranslate"><span class="pre">processor_poll_interval</span></code> config have been renamed to <code class="docutils literal notranslate"><span class="pre">scheduler_idle_sleep_time</span></code></a></li>
<li><a class="reference internal" href="#marking-success-failed-automatically-clears-failed-downstream-tasks">Marking success/failed automatically clears failed downstream tasks</a></li>
<li><a class="reference internal" href="#core-store-dag-code-has-been-removed"><code class="docutils literal notranslate"><span class="pre">[core]</span> <span class="pre">store_dag_code</span></code> has been removed</a></li>
<li><a class="reference internal" href="#clearing-a-running-task-sets-its-state-to-restarting">Clearing a running task sets its state to <code class="docutils literal notranslate"><span class="pre">RESTARTING</span></code></a></li>
<li><a class="reference internal" href="#remove-taskinstance-log-filepath-attribute">Remove <code class="docutils literal notranslate"><span class="pre">TaskInstance.log_filepath</span></code> attribute</a></li>
<li><a class="reference internal" href="#if-a-sensor-times-out-it-will-not-retry">If a sensor times out, it will not retry</a></li>
<li><a class="reference internal" href="#default-task-pools-slots-can-be-set-using-core-default-pool-task-slot-count">Default Task Pools Slots can be set using <code class="docutils literal notranslate"><span class="pre">[core]</span> <span class="pre">default_pool_task_slot_count</span></code></a></li>
<li><a class="reference internal" href="#webserver-dag-refresh-buttons-removed">Webserver DAG refresh buttons removed</a></li>
<li><a class="reference internal" href="#taskinstances-now-require-a-dagrun">TaskInstances now <em>require</em> a DagRun</a></li>
<li><a class="reference internal" href="#taskinstance-and-taskreschedule-now-define-run-id-instead-of-execution-date">TaskInstance and TaskReschedule now define <code class="docutils literal notranslate"><span class="pre">run_id</span></code> instead of <code class="docutils literal notranslate"><span class="pre">execution_date</span></code></a></li>
<li><a class="reference internal" href="#daskexecutor-dask-worker-resources-and-queues">DaskExecutor - Dask Worker Resources and queues</a></li>
<li><a class="reference internal" href="#logical-date-of-a-dag-run-triggered-from-the-web-ui-now-have-its-sub-second-component-set-to-zero">Logical date of a DAG run triggered from the web UI now have its sub-second component set to zero</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id171">New Features</a></li>
<li><a class="reference internal" href="#id172">Improvements</a></li>
<li><a class="reference internal" href="#id173">Bug Fixes</a></li>
<li><a class="reference internal" href="#id174">Doc only changes</a></li>
<li><a class="reference internal" href="#id175">Misc/Internal</a></li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-1-4-2021-09-18">Airflow 2.1.4 (2021-09-18)</a><ul>
<li><a class="reference internal" href="#id176">Significant Changes</a></li>
<li><a class="reference internal" href="#id177">Bug Fixes</a></li>
<li><a class="reference internal" href="#id178">Doc only changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-1-3-2021-08-23">Airflow 2.1.3 (2021-08-23)</a><ul>
<li><a class="reference internal" href="#id179">Significant Changes</a></li>
<li><a class="reference internal" href="#id180">Bug Fixes</a></li>
<li><a class="reference internal" href="#id181">Improvements</a></li>
<li><a class="reference internal" href="#id182">Doc only changes</a></li>
<li><a class="reference internal" href="#id183">Misc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-1-2-2021-07-14">Airflow 2.1.2 (2021-07-14)</a><ul>
<li><a class="reference internal" href="#id184">Significant Changes</a></li>
<li><a class="reference internal" href="#id185">Bug Fixes</a></li>
<li><a class="reference internal" href="#id186">Misc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-1-1-2021-07-02">Airflow 2.1.1 (2021-07-02)</a><ul>
<li><a class="reference internal" href="#id187">Significant Changes</a><ul>
<li><a class="reference internal" href="#activate-dag-runs-argument-of-the-function-clear-task-instances-is-replaced-with-dag-run-state"><code class="docutils literal notranslate"><span class="pre">activate_dag_runs</span></code> argument of the function <code class="docutils literal notranslate"><span class="pre">clear_task_instances</span></code> is replaced with <code class="docutils literal notranslate"><span class="pre">dag_run_state</span></code></a></li>
<li><a class="reference internal" href="#dag-set-dag-runs-state-is-deprecated"><code class="docutils literal notranslate"><span class="pre">dag.set_dag_runs_state</span></code> is deprecated</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id189">Bug Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-1-0-2021-05-21">Airflow 2.1.0 (2021-05-21)</a><ul>
<li><a class="reference internal" href="#id190">Significant Changes</a><ul>
<li><a class="reference internal" href="#new-deprecated-api-extra">New “deprecated_api” extra</a></li>
<li><a class="reference internal" href="#the-http-provider-is-not-installed-by-default">The <code class="docutils literal notranslate"><span class="pre">http</span></code> provider is not installed by default</a></li>
<li><a class="reference internal" href="#apply-default-decorator-isn-t-longer-necessary"><code class="docutils literal notranslate"><span class="pre">&#64;apply_default</span></code> decorator isn’t longer necessary</a></li>
<li><a class="reference internal" href="#change-the-configuration-options-for-field-masking">Change the configuration options for field masking</a></li>
<li><a class="reference internal" href="#deprecated-poddefaults-and-add-xcom-sidecar-in-airflow-kubernetes-pod-generator">Deprecated PodDefaults and add_xcom_sidecar in airflow.kubernetes.pod_generator</a></li>
<li><a class="reference internal" href="#removed-pod-launcher-from-core-airflow">Removed pod_launcher from core airflow</a></li>
<li><a class="reference internal" href="#default-webserver-worker-refresh-interval-is-changed-to-6000-seconds">Default <code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">worker_refresh_interval</span></code> is changed to <code class="docutils literal notranslate"><span class="pre">6000</span></code> seconds</a></li>
<li><a class="reference internal" href="#default-queue-configuration-has-been-moved-to-the-operators-section"><code class="docutils literal notranslate"><span class="pre">default_queue</span></code> configuration has been moved to the <code class="docutils literal notranslate"><span class="pre">operators</span></code> section.</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id191">New Features</a></li>
<li><a class="reference internal" href="#id192">Improvements</a></li>
<li><a class="reference internal" href="#id193">Bug Fixes</a></li>
<li><a class="reference internal" href="#id194">Doc only changes</a></li>
<li><a class="reference internal" href="#id195">Misc/Internal</a></li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-0-2-2021-04-19">Airflow 2.0.2 (2021-04-19)</a><ul>
<li><a class="reference internal" href="#id196">Significant Changes</a><ul>
<li><a class="reference internal" href="#default-kubernetes-enable-tcp-keepalive-is-changed-to-true">Default <code class="docutils literal notranslate"><span class="pre">[kubernetes]</span> <span class="pre">enable_tcp_keepalive</span></code> is changed to <code class="docutils literal notranslate"><span class="pre">True</span></code></a></li>
<li><a class="reference internal" href="#sync-perm-cli-no-longer-syncs-dag-specific-permissions-by-default"><code class="docutils literal notranslate"><span class="pre">sync-perm</span></code> CLI no longer syncs DAG specific permissions by default</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id197">Bug Fixes</a></li>
<li><a class="reference internal" href="#id198">Improvements</a></li>
<li><a class="reference internal" href="#id199">Doc only changes</a></li>
<li><a class="reference internal" href="#id200">Misc/Internal</a></li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-0-1-2021-02-08">Airflow 2.0.1 (2021-02-08)</a><ul>
<li><a class="reference internal" href="#id201">Significant Changes</a><ul>
<li><a class="reference internal" href="#permission-to-view-airflow-configurations-has-been-removed-from-user-and-viewer-role">Permission to view Airflow Configurations has been removed from <code class="docutils literal notranslate"><span class="pre">User</span></code> and <code class="docutils literal notranslate"><span class="pre">Viewer</span></code> role</a></li>
<li><a class="reference internal" href="#default-celery-worker-concurrency-is-changed-to-16">Default <code class="docutils literal notranslate"><span class="pre">[celery]</span> <span class="pre">worker_concurrency</span></code> is changed to <code class="docutils literal notranslate"><span class="pre">16</span></code></a></li>
<li><a class="reference internal" href="#default-scheduler-min-file-process-interval-is-changed-to-30">Default <code class="docutils literal notranslate"><span class="pre">[scheduler]</span> <span class="pre">min_file_process_interval</span></code> is changed to <code class="docutils literal notranslate"><span class="pre">30</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#id202">Bug Fixes</a></li>
<li><a class="reference internal" href="#id203">Improvements</a></li>
<li><a class="reference internal" href="#id204">Doc only changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#airflow-2-0-0-2020-12-18">Airflow 2.0.0 (2020-12-18)</a><ul>
<li><a class="reference internal" href="#id205">Significant Changes</a><ul>
<li><a class="reference internal" href="#major-changes">Major changes</a></li>
<li><a class="reference internal" href="#the-experimental-rest-api-is-disabled-by-default">The experimental REST API is disabled by default</a></li>
<li><a class="reference internal" href="#sparkjdbchook-default-connection">SparkJDBCHook default connection</a></li>
<li><a class="reference internal" href="#changes-to-output-argument-in-commands">Changes to output argument in commands</a></li>
<li><a class="reference internal" href="#azure-wasb-hook-does-not-work-together-with-snowflake-hook">Azure Wasb Hook does not work together with Snowflake hook</a></li>
<li><a class="reference internal" href="#rename-all-to-devel-all-extra">Rename <code class="docutils literal notranslate"><span class="pre">all</span></code> to <code class="docutils literal notranslate"><span class="pre">devel_all</span></code> extra</a></li>
<li><a class="reference internal" href="#context-variables-prev-execution-date-success-and-prev-execution-date-success-are-now-pendulum-datetime">Context variables <code class="docutils literal notranslate"><span class="pre">prev_execution_date_success</span></code> and <code class="docutils literal notranslate"><span class="pre">prev_execution_date_success</span></code> are now <code class="docutils literal notranslate"><span class="pre">pendulum.DateTime</span></code></a></li>
<li><a class="reference internal" href="#rename-policy-to-task-policy">Rename policy to task_policy</a></li>
<li><a class="reference internal" href="#default-value-for-celery-operation-timeout-has-changed-to-1-0">Default value for <code class="docutils literal notranslate"><span class="pre">[celery]</span> <span class="pre">operation_timeout</span></code> has changed to <code class="docutils literal notranslate"><span class="pre">1.0</span></code></a></li>
<li><a class="reference internal" href="#adding-operators-and-sensors-via-plugins-is-no-longer-supported">Adding Operators and Sensors via plugins is no longer supported</a></li>
<li><a class="reference internal" href="#importing-hooks-via-plugins-is-no-longer-supported">Importing Hooks via plugins is no longer supported</a></li>
<li><a class="reference internal" href="#the-default-value-for-core-enable-xcom-pickling-has-been-changed-to-false">The default value for <code class="docutils literal notranslate"><span class="pre">[core]</span> <span class="pre">enable_xcom_pickling</span></code> has been changed to <code class="docutils literal notranslate"><span class="pre">False</span></code></a></li>
<li><a class="reference internal" href="#airflowignore-of-base-path">Airflowignore of base path</a></li>
<li><a class="reference internal" href="#externaltasksensor-provides-all-task-context-variables-to-execution-date-fn-as-keyword-arguments"><code class="docutils literal notranslate"><span class="pre">ExternalTaskSensor</span></code> provides all task context variables to <code class="docutils literal notranslate"><span class="pre">execution_date_fn</span></code> as keyword arguments</a></li>
<li><a class="reference internal" href="#the-default-value-for-webserver-cookie-samesite-has-been-changed-to-lax">The default value for <code class="docutils literal notranslate"><span class="pre">[webserver]</span> <span class="pre">cookie_samesite</span></code> has been changed to <code class="docutils literal notranslate"><span class="pre">Lax</span></code></a><ul>
<li><a class="reference internal" href="#changes-to-import-paths">Changes to import paths</a></li>
</ul>
</li>
<li><a class="reference internal" href="#database-schema-changes">Database schema changes</a><ul>
<li><a class="reference internal" href="#unique-conn-id-in-connection-table">Unique conn_id in connection table</a></li>
<li><a class="reference internal" href="#not-nullable-conn-type-column-in-connection-table">Not-nullable conn_type column in connection table</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuration-changes">Configuration changes</a><ul>
<li><a class="reference internal" href="#airflow-contrib-utils-log-has-been-moved">airflow.contrib.utils.log has been moved</a></li>
<li><a class="reference internal" href="#sendgrid-emailer-has-been-moved">SendGrid emailer has been moved</a></li>
<li><a class="reference internal" href="#unify-hostname-callable-option-in-core-section">Unify <code class="docutils literal notranslate"><span class="pre">hostname_callable</span></code> option in <code class="docutils literal notranslate"><span class="pre">core</span></code> section</a></li>
<li><a class="reference internal" href="#custom-executors-is-loaded-using-full-import-path">Custom executors is loaded using full import path</a></li>
<li><a class="reference internal" href="#use-customsqlainterface-instead-of-sqlainterface-for-custom-data-models">Use <code class="docutils literal notranslate"><span class="pre">CustomSQLAInterface</span></code> instead of <code class="docutils literal notranslate"><span class="pre">SQLAInterface</span></code> for custom data models.</a></li>
<li><a class="reference internal" href="#drop-plugin-support-for-stat-name-handler">Drop plugin support for stat_name_handler</a></li>
<li><a class="reference internal" href="#logging-configuration-has-been-moved-to-new-section">Logging configuration has been moved to new section</a></li>
<li><a class="reference internal" href="#metrics-configuration-has-been-moved-to-new-section">Metrics configuration has been moved to new section</a></li>
<li><a class="reference internal" href="#changes-to-elasticsearch-logging-provider">Changes to Elasticsearch logging provider</a></li>
<li><a class="reference internal" href="#remove-gcp-service-account-keys-option-in-airflow-cfg-file">Remove gcp_service_account_keys option in airflow.cfg file</a></li>
<li><a class="reference internal" href="#fernet-is-enabled-by-default">Fernet is enabled by default</a></li>
<li><a class="reference internal" href="#changes-to-propagating-kubernetes-worker-annotations">Changes to propagating Kubernetes worker annotations</a></li>
<li><a class="reference internal" href="#remove-run-duration">Remove run_duration</a></li>
<li><a class="reference internal" href="#rename-pool-statsd-metrics">Rename pool statsd metrics</a></li>
<li><a class="reference internal" href="#removal-of-mesos-executor">Removal of Mesos Executor</a></li>
<li><a class="reference internal" href="#change-dag-loading-duration-metric-name">Change dag loading duration metric name</a></li>
<li><a class="reference internal" href="#sentry-is-disabled-by-default">Sentry is disabled by default</a></li>
<li><a class="reference internal" href="#simplified-gcstaskhandler-configuration">Simplified GCSTaskHandler configuration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-to-the-core-operators-hooks">Changes to the core operators/hooks</a><ul>
<li><a class="reference internal" href="#basesensoroperator-now-respects-the-trigger-rule-of-downstream-tasks">BaseSensorOperator now respects the trigger_rule of downstream tasks</a></li>
<li><a class="reference internal" href="#baseoperator-uses-metaclass">BaseOperator uses metaclass</a></li>
<li><a class="reference internal" href="#remove-sql-support-in-basehook">Remove SQL support in BaseHook</a></li>
<li><a class="reference internal" href="#assigning-task-to-a-dag-using-bitwise-shift-bit-shift-operators-are-no-longer-supported">Assigning task to a DAG using bitwise shift (bit-shift) operators are no longer supported</a></li>
<li><a class="reference internal" href="#removed-deprecated-import-mechanism">Removed deprecated import mechanism</a></li>
<li><a class="reference internal" href="#changes-to-sensor-imports">Changes to sensor imports</a></li>
<li><a class="reference internal" href="#skipped-tasks-can-satisfy-wait-for-downstream">Skipped tasks can satisfy wait_for_downstream</a></li>
<li><a class="reference internal" href="#airflow-utils-helpers-cross-downstream"><code class="docutils literal notranslate"><span class="pre">airflow.utils.helpers.cross_downstream</span></code></a></li>
<li><a class="reference internal" href="#airflow-utils-helpers-chain"><code class="docutils literal notranslate"><span class="pre">airflow.utils.helpers.chain</span></code></a></li>
<li><a class="reference internal" href="#airflow-operators-python-branchpythonoperator"><code class="docutils literal notranslate"><span class="pre">airflow.operators.python.BranchPythonOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-sensors-sql-sensor-sqlsensor"><code class="docutils literal notranslate"><span class="pre">airflow.sensors.sql_sensor.SqlSensor</span></code></a></li>
<li><a class="reference internal" href="#airflow-operators-trigger-dagrun-triggerdagrunoperator"><code class="docutils literal notranslate"><span class="pre">airflow.operators.trigger_dagrun.TriggerDagRunOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-operators-python-pythonoperator"><code class="docutils literal notranslate"><span class="pre">airflow.operators.python.PythonOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-standard-sensors-filesystem-filesensor"><code class="docutils literal notranslate"><span class="pre">airflow.providers.standard.sensors.filesystem.FileSensor</span></code></a></li>
<li><a class="reference internal" href="#airflow-operators-subdag-operator-subdagoperator"><code class="docutils literal notranslate"><span class="pre">airflow.operators.subdag_operator.SubDagOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-operators-datastore-clouddatastoreexportentitiesoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.datastore.CloudDatastoreExportEntitiesOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-operators-datastore-clouddatastoreimportentitiesoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.datastore.CloudDatastoreImportEntitiesOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-cncf-kubernetes-operators-kubernetes-pod-kubernetespodoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.cncf.kubernetes.operators.kubernetes_pod.KubernetesPodOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-ssh-operators-ssh-sshoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.ssh.operators.ssh.SSHOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-microsoft-winrm-operators-winrm-winrmoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.microsoft.winrm.operators.winrm.WinRMOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-operators-bash-bashoperator"><code class="docutils literal notranslate"><span class="pre">airflow.operators.bash.BashOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-docker-operators-docker-dockeroperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.docker.operators.docker.DockerOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-http-operators-http-simplehttpoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.http.operators.http.SimpleHttpOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-operators-latest-only-operator-latestonlyoperator"><code class="docutils literal notranslate"><span class="pre">airflow.operators.latest_only_operator.LatestOnlyOperator</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-to-the-core-python-api">Changes to the core Python API</a><ul>
<li><a class="reference internal" href="#removed-sub-package-imports-from-airflow-init-py">Removed sub-package imports from <code class="docutils literal notranslate"><span class="pre">airflow/__init__.py</span></code></a></li>
<li><a class="reference internal" href="#variables-removed-from-the-task-instance-context">Variables removed from the task instance context</a></li>
<li><a class="reference internal" href="#airflow-contrib-utils-weekday"><code class="docutils literal notranslate"><span class="pre">airflow.contrib.utils.Weekday</span></code></a></li>
<li><a class="reference internal" href="#airflow-models-connection-connection"><code class="docutils literal notranslate"><span class="pre">airflow.models.connection.Connection</span></code></a></li>
<li><a class="reference internal" href="#airflow-models-dag-dag-create-dagrun"><code class="docutils literal notranslate"><span class="pre">airflow.models.dag.DAG.create_dagrun</span></code></a></li>
<li><a class="reference internal" href="#airflow-models-dagrun-dagrun"><code class="docutils literal notranslate"><span class="pre">airflow.models.dagrun.DagRun</span></code></a></li>
<li><a class="reference internal" href="#airflow-utils-file-temporarydirectory"><code class="docutils literal notranslate"><span class="pre">airflow.utils.file.TemporaryDirectory</span></code></a></li>
<li><a class="reference internal" href="#airflow-airflowmacroplugin"><code class="docutils literal notranslate"><span class="pre">airflow.AirflowMacroPlugin</span></code></a></li>
<li><a class="reference internal" href="#airflow-settings-context-manager-dag"><code class="docutils literal notranslate"><span class="pre">airflow.settings.CONTEXT_MANAGER_DAG</span></code></a></li>
<li><a class="reference internal" href="#airflow-utils-log-logging-mixin-redirect-stderr"><code class="docutils literal notranslate"><span class="pre">airflow.utils.log.logging_mixin.redirect_stderr</span></code></a></li>
<li><a class="reference internal" href="#airflow-utils-log-logging-mixin-redirect-stdout"><code class="docutils literal notranslate"><span class="pre">airflow.utils.log.logging_mixin.redirect_stdout</span></code></a></li>
<li><a class="reference internal" href="#airflow-models-baseoperator-baseoperator"><code class="docutils literal notranslate"><span class="pre">airflow.models.baseoperator.BaseOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-models-dagbag-dagbag"><code class="docutils literal notranslate"><span class="pre">airflow.models.dagbag.DagBag</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-google-provider-package">Changes in <code class="docutils literal notranslate"><span class="pre">google</span></code> provider package</a><ul>
<li><a class="reference internal" href="#direct-impersonation-added-to-operators-communicating-with-google-services">Direct impersonation added to operators communicating with Google services</a></li>
<li><a class="reference internal" href="#normalize-gcp-conn-id-for-google-cloud">Normalize gcp_conn_id for Google Cloud</a></li>
<li><a class="reference internal" href="#changes-to-import-paths-and-names-of-gcp-operators-and-hooks">Changes to import paths and names of GCP operators and hooks</a></li>
<li><a class="reference internal" href="#unify-default-conn-id-for-google-cloud">Unify default conn_id for Google Cloud</a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-hooks-dataflow-dataflowhook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.dataflow.DataflowHook</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-operators-dataflow-dataflowcreatejavajoboperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataflow.DataflowCreateJavaJobOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-operators-dataflow-dataflowtemplatedjobstartoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataflow.DataflowTemplatedJobStartOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-operators-dataflow-dataflowcreatepythonjoboperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataflow.DataflowCreatePythonJobOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-sensors-gcs-gcsuploadsessioncompletesensor"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.sensors.gcs.GCSUploadSessionCompleteSensor</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-hooks-bigquery-bigquerybasecursor"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-hooks-bigquery-bigqueryhook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook</span></code></a></li>
<li><a class="reference internal" href="#id208"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryBaseCursor</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-operators-bigquery-bigquerycreateemptytableoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigquery.BigQueryCreateEmptyTableOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-operators-bigquery-bigquerycreateemptydatasetoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigquery.BigQueryCreateEmptyDatasetOperator</span></code></a></li>
<li><a class="reference internal" href="#id209"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.dataflow.DataflowHook</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-hooks-mlengine-mlenginehook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.mlengine.MLEngineHook</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-hooks-pubsub-pubsubhook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.pubsub.PubSubHook</span></code></a></li>
<li><a class="reference internal" href="#id210"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.pubsub.PubSubHook</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-operators-pubsub-pubsubtopiccreateoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.pubsub.PubSubTopicCreateOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-operators-pubsub-pubsubsubscriptioncreateoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.pubsub.PubSubSubscriptionCreateOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-operators-pubsub-pubsubtopicdeleteoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.pubsub.PubSubTopicDeleteOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-operators-pubsub-pubsubsubscriptiondeleteoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.pubsub.PubSubSubscriptionDeleteOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-operators-pubsub-pubsubpublishoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.pubsub.PubSubPublishOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-sensors-pubsub-pubsubpullsensor"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.sensors.pubsub.PubSubPullSensor</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-operators-kubernetes-engine-gkestartpodoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.kubernetes_engine.GKEStartPodOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-hooks-gcs-gcshook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.gcs.GCSHook</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-operators-dataproc-dataprocsubmitpigjoboperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocSubmitPigJobOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-operators-dataproc-dataprocsubmithivejoboperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocSubmitHiveJobOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-operators-dataproc-dataprocsubmitsparksqljoboperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocSubmitSparkSqlJobOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-operators-dataproc-dataprocsubmitsparkjoboperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocSubmitSparkJobOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-operators-dataproc-dataprocsubmithadoopjoboperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocSubmitHadoopJobOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-operators-dataproc-dataprocsubmitpysparkjoboperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocSubmitPySparkJobOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-operators-cloud-storage-transfer-service-clouddatatransferservicecreatejoboperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.cloud_storage_transfer_service.CloudDataTransferServiceCreateJobOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-hooks-cloud-storage-transfer-service-clouddatatransferservicehook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.cloud_storage_transfer_service.CloudDataTransferServiceHook</span></code></a></li>
<li><a class="reference internal" href="#id211"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.bigquery.BigQueryHook</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-hooks-cloud-build-cloudbuildhook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.cloud_build.CloudBuildHook</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-operators-cloud-build-cloudbuildcreatebuildoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.cloud_build.CloudBuildCreateBuildOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-hooks-dataflow-dataflowhook-start-python-dataflow"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.dataflow.DataflowHook.start_python_dataflow</span></code></a></li>
<li><a class="reference internal" href="#id212"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.hooks.dataflow.DataflowHook.start_python_dataflow</span></code></a></li>
<li><a class="reference internal" href="#id213"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataflow.DataflowCreatePythonJobOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-common-hooks-base-google-googlebasehook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.common.hooks.base_google.GoogleBaseHook</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-google-cloud-operators-dataproc-dataproccreateclusteroperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.dataproc.DataprocCreateClusterOperator</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#generating-cluster-config">Generating Cluster Config</a><ul>
<li><a class="reference internal" href="#airflow-providers-google-cloud-operators-bigquery-bigquerygetdatasettablesoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.google.cloud.operators.bigquery.BigQueryGetDatasetTablesOperator</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-amazon-provider-package">Changes in <code class="docutils literal notranslate"><span class="pre">amazon</span></code> provider package</a><ul>
<li><a class="reference internal" href="#migration-of-aws-components">Migration of AWS components</a></li>
<li><a class="reference internal" href="#airflow-providers-amazon-aws-hooks-emr-emrhook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.hooks.emr.EmrHook</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-amazon-aws-operators-emr-add-steps-emraddstepsoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.operators.emr_add_steps.EmrAddStepsOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-amazon-aws-operators-emr-create-job-flow-emrcreatejobflowoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.operators.emr_create_job_flow.EmrCreateJobFlowOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-amazon-aws-operators-emr-terminate-job-flow-emrterminatejobflowoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.operators.emr_terminate_job_flow.EmrTerminateJobFlowOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-amazon-aws-operators-batch-awsbatchoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.operators.batch.AwsBatchOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-amazon-aws-sensors-athena-athenasensor"><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.sensors.athena.AthenaSensor</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-amazon-aws-hooks-s3-s3hook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.amazon.aws.hooks.s3.S3Hook</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-other-provider-packages">Changes in other provider packages</a><ul>
<li><a class="reference internal" href="#changed-return-type-of-list-prefixes-and-list-keys-methods-in-s3hook">Changed return type of <code class="docutils literal notranslate"><span class="pre">list_prefixes</span></code> and <code class="docutils literal notranslate"><span class="pre">list_keys</span></code> methods in <code class="docutils literal notranslate"><span class="pre">S3Hook</span></code></a></li>
<li><a class="reference internal" href="#removed-hipchat-integration">Removed HipChat integration</a></li>
<li><a class="reference internal" href="#airflow-providers-salesforce-hooks-salesforce-salesforcehook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.salesforce.hooks.salesforce.SalesforceHook</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-apache-pinot-hooks-pinot-pinotadminhook-create-segment"><code class="docutils literal notranslate"><span class="pre">airflow.providers.apache.pinot.hooks.pinot.PinotAdminHook.create_segment</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-apache-hive-hooks-hive-hivemetastorehook-get-partitions"><code class="docutils literal notranslate"><span class="pre">airflow.providers.apache.hive.hooks.hive.HiveMetastoreHook.get_partitions</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-ftp-hooks-ftp-ftphook-list-directory"><code class="docutils literal notranslate"><span class="pre">airflow.providers.ftp.hooks.ftp.FTPHook.list_directory</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-postgres-hooks-postgres-postgreshook-copy-expert"><code class="docutils literal notranslate"><span class="pre">airflow.providers.postgres.hooks.postgres.PostgresHook.copy_expert</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-opsgenie-operators-opsgenie-alert-opsgeniealertoperator"><code class="docutils literal notranslate"><span class="pre">airflow.providers.opsgenie.operators.opsgenie_alert.OpsgenieAlertOperator</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-imap-hooks-imap-imaphook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.imap.hooks.imap.ImapHook</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-imap-sensors-imap-attachment-imapattachmentsensor"><code class="docutils literal notranslate"><span class="pre">airflow.providers.imap.sensors.imap_attachment.ImapAttachmentSensor</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-http-hooks-http-httphook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.http.hooks.http.HttpHook</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-cloudant-hooks-cloudant-cloudanthook"><code class="docutils literal notranslate"><span class="pre">airflow.providers.cloudant.hooks.cloudant.CloudantHook</span></code></a></li>
<li><a class="reference internal" href="#airflow-providers-snowflake"><code class="docutils literal notranslate"><span class="pre">airflow.providers.snowflake</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-changes">Other changes</a><ul>
<li><a class="reference internal" href="#standardized-extra-requirements">Standardized “extra” requirements</a></li>
<li><a class="reference internal" href="#simplify-the-response-payload-of-endpoints-dag-stats-and-task-stats">Simplify the response payload of endpoints /dag_stats and /task_stats</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
    </nav>
            
        </div>
        


    







    
        
            
        
        <div class="base-layout--button fade-target">
            <a href="https://github.com/apache/airflow/edit/main/airflow-core/docs/release_notes.rst" rel="nofollow">

                <button class="btn-hollow btn-brown btn-with-icon with-box-shadow button-fixed">
                    <svg xmlns="http://www.w3.org/2000/svg" width="30.76" height="30">
                        <path d="M15.379 0a15.381 15.381 0 00-4.86 29.974c.769.141 1.05-.334 1.05-.741 0-.365-.013-1.332-.021-2.616-4.278.929-5.181-2.062-5.181-2.062a4.071 4.071 0 00-1.708-2.25c-1.4-.954.106-.935.106-.935a3.231 3.231 0 012.356 1.585 3.274 3.274 0 004.476 1.278 3.287 3.287 0 01.976-2.056c-3.415-.388-7.005-1.707-7.005-7.6a5.947 5.947 0 011.583-4.127 5.53 5.53 0 01.151-4.07s1.291-.413 4.229 1.577a14.577 14.577 0 017.7 0c2.936-1.99 4.225-1.577 4.225-1.577a5.523 5.523 0 01.153 4.07 5.937 5.937 0 011.581 4.127c0 5.909-3.6 7.209-7.022 7.589a3.672 3.672 0 011.044 2.848c0 2.056-.019 3.715-.019 4.219 0 .411.277.89 1.057.74A15.382 15.382 0 0015.378.001z" data-name="Path 224" fill="#51504f" fill-rule="evenodd"></path>
                    </svg>

                    <span class="bodytext__medium--brownish-grey">Suggest a change on this page</span>
                </button>
            </a>
        </div>
    

    </div>


    



<footer>
    <div class="footer-section footer-section__media-section">
        <div class="d-flex align-items-center">

            <a class="footer-section__media-section--link" target="_blank" href="https://github.com/apache/airflow">
                <svg xmlns="http://www.w3.org/2000/svg" width="46.14" height="45" viewBox="0 0 46.14 45">
                    <path id="Path_207" d="M228.962 1078.578a23.072 23.072 0 0 0-7.29 44.96c1.154.212 1.574-.5 1.574-1.112 0-.548-.02-2-.031-3.924-6.417 1.394-7.771-3.093-7.771-3.093a6.109 6.109 0 0 0-2.562-3.375c-2.095-1.431.159-1.4.159-1.4a4.846 4.846 0 0 1 3.533 2.377c2.058 3.525 5.4 2.507 6.714 1.917a4.926 4.926 0 0 1 1.464-3.084c-5.123-.582-10.508-2.562-10.508-11.4a8.919 8.919 0 0 1 2.374-6.191 8.3 8.3 0 0 1 .226-6.105s1.937-.62 6.344 2.365a21.857 21.857 0 0 1 11.551 0c4.4-2.985 6.338-2.365 6.338-2.365a8.284 8.284 0 0 1 .23 6.105 8.9 8.9 0 0 1 2.371 6.191c0 8.862-5.393 10.812-10.533 11.384a5.506 5.506 0 0 1 1.566 4.272c0 3.084-.028 5.572-.028 6.329 0 .617.415 1.334 1.586 1.109a23.073 23.073 0 0 0-7.308-44.958z" fill="#fff" fill-rule="evenodd" data-name="Path 207" transform="translate(-205.894 -1078.578)"></path>
                </svg>

            </a>

            <a class="footer-section__media-section--link" target="_blank" href="https://github.com/apache/airflow/issues">
                <svg xmlns="http://www.w3.org/2000/svg" width="45" height="45" viewBox="0 0 45 45">
                    <g id="Group_210" data-name="Group 210" transform="translate(-339.789 -1315.282)">
                        <path id="Path_218" d="M394.82 1315.282h-21.671a9.784 9.784 0 0 0 9.784 9.778h3.986v3.857a9.784 9.784 0 0 0 9.784 9.771v-21.523a1.884 1.884 0 0 0-1.883-1.883z" fill="#fff" data-name="Path 218" transform="translate(-11.914)"></path>
                        <path id="Path_219" d="M378.14 1332.072h-21.671a9.778 9.778 0 0 0 9.778 9.778h4.018v3.857a9.784 9.784 0 0 0 9.752 9.778v-21.536a1.877 1.877 0 0 0-1.877-1.877z" fill="#fff" data-name="Path 219" transform="translate(-5.957 -5.996)"></path>
                        <path id="Path_220" d="M361.46 1348.862h-21.671a9.778 9.778 0 0 0 9.778 9.778h3.992v3.857a9.778 9.778 0 0 0 9.778 9.778v-21.529a1.883 1.883 0 0 0-1.877-1.884z" fill="#fff" data-name="Path 220" transform="translate(0 -11.993)"></path>
                    </g>
                </svg>

            </a>

            <a class="footer-section__media-section--link" target="_blank" href="https://s.apache.org/airflow-slack">
                <svg xmlns="http://www.w3.org/2000/svg" width="45.073" height="45.073" viewBox="0 0 45.073 45.073">
                    <g id="Group_208" data-name="Group 208" transform="translate(-661.145 -806.287)">
                        <g id="Group_204" data-name="Group 204" transform="translate(661.145 830.01)">
                            <path id="Path_208" d="M670.634 856.859a4.744 4.744 0 1 1-4.744-4.744h4.744z" fill="#fff" data-name="Path 208" transform="translate(-661.145 -852.115)"></path>
                            <path id="Path_209" d="M684.059 856.859a4.744 4.744 0 0 1 9.489 0v11.861a4.744 4.744 0 1 1-9.489 0z" fill="#fff" data-name="Path 209" transform="translate(-672.198 -852.115)"></path>
                        </g>
                        <g id="Group_205" data-name="Group 205" transform="translate(661.145 806.287)">
                            <path id="Path_210" d="M688.8 815.776a4.744 4.744 0 1 1 4.744-4.745v4.745z" fill="#fff" data-name="Path 210" transform="translate(-672.198 -806.287)"></path>
                            <path id="Path_211" d="M677.751 829.2a4.744 4.744 0 0 1 0 9.489H665.89a4.744 4.744 0 1 1 0-9.489z" fill="#fff" data-name="Path 211" transform="translate(-661.145 -817.34)"></path>
                        </g>
                        <g id="Group_206" data-name="Group 206" transform="translate(684.868 806.287)">
                            <path id="Path_212" d="M729.887 833.945a4.744 4.744 0 1 1 4.745 4.745h-4.745z" fill="#fff" data-name="Path 212" transform="translate(-718.026 -817.34)"></path>
                            <path id="Path_213" d="M716.462 822.893a4.744 4.744 0 1 1-9.489 0v-11.862a4.744 4.744 0 0 1 9.489 0z" fill="#fff" data-name="Path 213" transform="translate(-706.973 -806.287)"></path>
                        </g>
                        <g id="Group_207" data-name="Group 207" transform="translate(684.868 830.01)">
                            <path id="Path_214" d="M711.718 875.029a4.744 4.744 0 1 1-4.745 4.744v-4.744z" fill="#fff" data-name="Path 214" transform="translate(-706.973 -863.168)"></path>
                            <path id="Path_215" d="M711.718 861.6a4.744 4.744 0 1 1 0-9.489h11.861a4.744 4.744 0 0 1 0 9.489z" fill="#fff" data-name="Path 215" transform="translate(-706.973 -852.115)"></path>
                        </g>
                    </g>
                </svg>

            </a>

            <a class="footer-section__media-section--link" target="_blank" href="https://stackoverflow.com/questions/tagged/airflow">
                <svg xmlns="http://www.w3.org/2000/svg" width="37.647" height="44.6" viewBox="0 0 37.647 44.6">
                    <g id="Group_209" data-name="Group 209" transform="translate(-645.2 -975.455)">
                        <path id="Path_216" d="M677.028 1043.1v-11.948h3.966v15.914H645.2v-15.914h3.966v11.948z" fill="#fff" data-name="Path 216" transform="translate(0 -27.014)"></path>
                        <path id="Path_217" d="M661.012 1003.008l19.467 4.069.824-3.914-19.467-4.069zm2.575-9.27l18.025 8.395 1.648-3.605-18.025-8.446zm5-8.858l15.3 12.721 2.524-3.039-15.3-12.721zm9.888-9.425l-3.193 2.369 11.845 15.965 3.193-2.369zm-17.875 36.617h19.879v-3.966H660.6z" fill="#fff" data-name="Path 217" transform="translate(-7.469)"></path>
                    </g>
                </svg>

            </a>

            <a class="footer-section__media-section--link" target="_blank" href="https://www.youtube.com/channel/UCSXwxpWZQ7XZ1WL3wqevChA">
                <svg xmlns="http://www.w3.org/2000/svg" width="49.594" height="34.941" viewBox="0 0 49.594 34.941">
                    <path id="Path_223" d="M1124.557 1230a6.232 6.232 0 0 0-4.385-4.413c-3.867-1.043-19.376-1.043-19.376-1.043s-15.508 0-19.376 1.043a6.232 6.232 0 0 0-4.385 4.413c-1.036 3.893-1.036 12.014-1.036 12.014s0 8.122 1.036 12.015a6.232 6.232 0 0 0 4.385 4.413c3.867 1.043 19.376 1.043 19.376 1.043s15.509 0 19.376-1.043a6.232 6.232 0 0 0 4.385-4.413c1.036-3.893 1.036-12.015 1.036-12.015s.001-8.123-1.036-12.014zm-28.833 19.388v-14.748l12.962 7.374z" fill="#fff" data-name="Path 223" transform="translate(-1076 -1224.542)"></path>
                </svg>

            </a>

        </div>
        

        <div class="footer-section__media-section--button-with-text">
            <span class="footer-section__media-section--text">Want to be a part of Apache Airflow?</span>
            <a href="/community">

                <button id="" class="btn-filled bodytext__medium--white ">Join community</button>

            </a>
        </div>
        

    </div>
    <div class="footer-section footer-section__policies-section">
        <div class="footer-section">
            <span>© The Apache Software Foundation <script>document.write(new Date().getFullYear())</script></span>
            <div class="footer-section__policies-section--policies">

                <a href="https://www.apache.org/licenses/" class="footer-section__policies-section--policy-item">
                    <span>License</span>
                </a>

                <a href="https://www.apache.org/foundation/sponsorship.html" class="footer-section__policies-section--policy-item">
                    <span>Donate</span>
                </a>

                <a href="https://www.apache.org/foundation/thanks.html" class="footer-section__policies-section--policy-item">
                    <span>Thanks</span>
                </a>

                <a href="https://www.apache.org/security/" class="footer-section__policies-section--policy-item">
                    <span>Security</span>
                </a>
                

            </div>
        </div>
        <span class="footer-section__policies-section--disclaimer">
            Apache Airflow, Apache, Airflow, the Airflow logo, and the Apache feather logo are either registered trademarks or trademarks of The Apache Software Foundation.
            All other products or name brands are trademarks of their respective holders, including The Apache Software Foundation.
        </span>
    </div>
</footer>
    <script type="text/javascript" src="_static/_gen/js/docs.js"></script>
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="/external/js/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script src="/external/js/cdnjs.cloudflare.com-1.14.3-popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="/external/js/stackpath.bootstrapcdn.com-4.1.3-bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
        <script src="_static/documentation_options.js?v=acc74ff5"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="_static/copybutton.js?v=f281be69"></script>
        <script src="_static/js/globaltoc.js?v=32f50df6"></script>
        <script src="_static/design-tabs.js?v=f930bc37"></script>
        <script src="_static/gh-jira-links.js?v=9b74931d"></script>
        <script src="_static/redirects.js?v=d018728f"></script>
</body>
</html>